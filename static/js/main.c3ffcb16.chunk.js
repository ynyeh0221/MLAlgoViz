(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,a){e.exports=a(470)},254:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(230),s=a.n(r),i=(a(254),a(472)),o=a(474),c=a(473),m=a(242),u=a(243),h=a(42),g=a(58),d=a(241);var p=()=>{const e=[1,12,10,8,6,1],[t,a]=Object(n.useState)([]),[r,s]=Object(n.useState)([]),[p,f]=Object(n.useState)(.05),[x,b]=Object(n.useState)(0),[E,y]=Object(n.useState)(!1),[w,N]=Object(n.useState)([]),[v,A]=Object(n.useState)([]),[M,S]=Object(n.useState)(1),k=Object(n.useRef)(null),F=Object(n.useRef)(null),T=Object(n.useRef)({weights:[],biases:[]});Object(n.useEffect)(()=>{O()},[]);const O=()=>{const t=[],n=[];for(let a=0;a<e.length-1;a++){const l=[],r=[];for(let t=0;t<e[a+1];t++){const t=[];for(let n=0;n<e[a];n++){const n=Math.sqrt(1/(e[a]+e[a+1]));t.push((2*Math.random()-1)*n)}l.push(t),r.push(.05*(2*Math.random()-1))}t.push(l),n.push(r)}a(t),s(n),b(0),S(1),T.current={weights:t,biases:n},C(t,n)},C=(e,t)=>{const a=.1*Math.PI,n=[];for(let l=0;l<40;l++){const e=-Math.PI-a+(2*Math.PI+2*a)*l/39,t=Math.sin(e)+.5*Math.sin(3*e)*(e*e/5);n.push({x:e,y:t,yApprox:0})}for(let l=0;l<10;l++){const e=l/10,t=-Math.PI-a+e*Math.PI*.4,r=Math.sin(t)+.5*Math.sin(3*t)*(t*t/5);n.push({x:t,y:r,yApprox:0})}for(let l=0;l<10;l++){const e=l/10,t=.6*Math.PI+e*(.4*Math.PI+a),r=Math.sin(t)+.5*Math.sin(3*t)*(t*t/5);n.push({x:t,y:r,yApprox:0})}if(A(n),e&&e.length>0){const a=n.map(a=>{const n=P([a.x],e,t)[0];return{x:a.x,y:a.y,yApprox:n}});N(a)}},P=(e,t,a)=>{let n=[...e];const l=t||T.current.weights,r=a||T.current.biases;for(let s=0;s<l.length;s++){const e=l[s],t=r[s],a=[];for(let r=0;r<e.length;r++){const i=e[r];let o=t[r];for(let e=0;e<i.length;e++)o+=i[e]*n[e];if(s<l.length-1){const e=1/(1+Math.exp(-o));a.push(o*e)}else a.push(o)}n=[...a]}return n},j=(t,n)=>{const l=T.current.weights,r=T.current.biases,i=[t],o=[];let c=[...t];for(let e=0;e<l.length;e++){const t=l[e],a=r[e],n=[],s=[];for(let r=0;r<t.length;r++){const i=t[r];let o=a[r];for(let e=0;e<i.length;e++)o+=i[e]*c[e];if(s.push(o),e<l.length-1){const e=1/(1+Math.exp(-o));n.push(o*e)}else n.push(o)}o.push(s),c=[...n],i.push(n)}const m=i[i.length-1].map((e,t)=>e-n[t]),u=[m];for(let a=l.length-1;a>0;a--){const t=u[0],n=[];for(let r=0;r<e[a];r++){let e=0;for(let n=0;n<t.length;n++)e+=t[n]*l[a][n][r];const s=o[a-1][r],i=1/(1+Math.exp(-s)),c=i+s*i*(1-i);n.push(e*c)}u.unshift(n)}const h=JSON.parse(JSON.stringify(l)),g=JSON.parse(JSON.stringify(r));for(let e=0;e<l.length;e++)for(let t=0;t<l[e].length;t++){for(let a=0;a<l[e][t].length;a++){const n=p*u[e][t]*i[e][a];h[e][t][a]-=n}g[e][t]-=p*u[e][t]}return T.current={weights:h,biases:g},a([...h]),s([...g]),m.reduce((e,t)=>e+t*t,0)/m.length},I=()=>{F.current&&cancelAnimationFrame(F.current),y(!1)};return Object(n.useEffect)(()=>{var t;if(!k.current)return;const a=k.current,n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),a.width=700,a.height=500;const l=a.width-140,r=a.height-140,s=l/(e.length-1),i=e.map(e=>60),o=e.map((e,t)=>{const a=r/e;return Math.max(i[t],a)}),c=e.map((e,t)=>(e-1)*o[t]),m=x%v.length,u=v[m]||{x:0,y:0},h=(null===(t=w[m])||void 0===t?void 0:t.yApprox)||0;for(let g=0;g<e.length;g++){const t=e[g],a=c[g],l=70+(r-a)/2;if(g>0){const a=e[g-1],i=c[g-1],m=70+(r-i)/2,u=o[g-1],h=o[g];for(let e=0;e<t;e++){const t=70+g*s,r=l+e*h;for(let l=0;l<a;l++){const a=70+(g-1)*s,i=m+l*u;if(T.current.weights.length>0&&g-1<T.current.weights.length){const s=T.current.weights[g-1][e]&&T.current.weights[g-1][e][l]||0,o=Math.abs(s);if(o>.05){const e=s>0?`rgba(0, 128, 0, ${Math.min(o,1)})`:`rgba(255, 0, 0, ${Math.min(o,1)})`,l=.5+2*Math.min(o,1);if(n.beginPath(),n.moveTo(a+12,i),n.lineTo(t-12,r),n.strokeStyle=e,n.lineWidth=l,n.stroke(),o>.3){const e=(a+12+t-12)/2,l=(i+r)/2;n.fillStyle="rgba(255, 255, 255, 0.7)";const o=n.measureText(s.toFixed(2)).width;n.fillRect(e-o/2-2,l-7,o+4,14),n.fillStyle="#000000",n.font="9px Arial",n.fillText(s.toFixed(2),e,l)}}}}}}for(let r=0;r<t;r++){const t=70+g*s,a=l+r*o[g];if(n.beginPath(),n.arc(t,a,12,0,2*Math.PI),n.fillStyle=0===g?"#88CCEE":g===e.length-1?"#DDCC77":"#44AA99",n.fill(),n.strokeStyle="#000000",n.lineWidth=1,n.stroke(),n.fillStyle="#000000",n.font="9px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(`${g+1}-${r+1}`,t,a),0===g){n.fillStyle="#000000",n.font="bold 10px Arial",n.textAlign="right";const e=`Input x: ${u.x.toFixed(2)}`,l=n.measureText(e).width;n.fillStyle="rgba(255, 255, 255, 0.8)",n.fillRect(t-12-8-l,a-7,l+4,14),n.fillStyle="#000000",n.fillText(e,t-12-8,a)}else if(g===e.length-1){const e=`Output: ${h.toFixed(2)}`,l=`Target: ${u.y.toFixed(2)}`,r=n.measureText(e).width,s=n.measureText(l).width,i=Math.max(r,s);n.fillStyle="rgba(255, 255, 255, 0.8)",n.fillRect(t+12+8,a-15,i+8,30),n.fillStyle="#0000AA",n.font="bold 10px Arial",n.textAlign="left",n.fillText(e,t+12+12,a-5),n.fillStyle="#AA0000",n.fillText(l,t+12+12,a+10)}}}},[t,x,v,w]),Object(n.useEffect)(()=>()=>{F.current&&cancelAnimationFrame(F.current)},[]),l.a.createElement("div",{className:"w-full p-4 bg-white"},l.a.createElement("h2",{className:"text-xl font-bold mb-4 text-center"},"Neural Network Learning Visualization (Complex Function)"),l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},l.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},l.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Control Panel"),l.a.createElement("div",{className:"mb-4"},l.a.createElement("p",{className:"text-sm mb-2"},"Network Structure: 1-12-10-8-6-1 (fixed, pyramid architecture)"),l.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Learning Rate: ",p.toFixed(3)),l.a.createElement("input",{type:"range",min:"0.001",max:"0.2",step:"0.001",value:p,onChange:e=>f(parseFloat(e.target.value)),className:"w-full",disabled:E})),l.a.createElement("div",{className:"flex space-x-2"},l.a.createElement("button",{onClick:E?I:()=>{if(E)return;y(!0);let e=0;const t=()=>{++e%3===0&&((()=>{let e=0;const t=[...v].sort(()=>Math.random()-.5);for(let n=0;n<t.length;n+=10)t.slice(n,Math.min(n+10,t.length)).forEach(t=>{const a=j([t.x],[t.y]);e+=a});e/=t.length;const a=v.map(e=>{const t=P([e.x],T.current.weights,T.current.biases)[0];return{x:e.x,y:e.y,yApprox:t}});return N([...a]),S(e),b(e=>e+1),e<1e-4&&x>=300||x>=2e3})()||x>=1e3)?y(!1):F.current=requestAnimationFrame(t)};F.current=requestAnimationFrame(t)},className:`px-4 py-2 rounded ${E?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white font-medium`},E?"Stop Training":"Start Training"),l.a.createElement("button",{onClick:()=>{I(),O()},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded",disabled:E},"Reset Network")),l.a.createElement("div",{className:"mt-4"},l.a.createElement("p",{className:"text-sm"},"Current Epoch: ",l.a.createElement("span",{className:"font-semibold"},x)),l.a.createElement("p",{className:"text-sm"},"Current Loss: ",l.a.createElement("span",{className:"font-semibold"},M.toFixed(6))))),l.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},l.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Network Structure Visualization"),l.a.createElement("div",{className:"border rounded bg-white"},l.a.createElement("canvas",{ref:k,width:"500",height:"300",className:"w-full h-64"})),l.a.createElement("p",{className:"text-xs mt-1 text-gray-500"},"Colors represent weights: green for positive, red for negative. Line thickness indicates weight magnitude."))),l.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},l.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Function Approximation"),l.a.createElement("div",{className:"border rounded bg-white"},l.a.createElement(i.a,{width:"100%",height:300},l.a.createElement(o.a,{margin:{top:20,right:30,left:20,bottom:20},data:w},l.a.createElement(c.a,{strokeDasharray:"3 3"}),l.a.createElement(m.a,{dataKey:"x",label:{value:"x",position:"bottom",offset:0},domain:[1.1*-Math.PI,1.1*Math.PI],tickFormatter:e=>e.toFixed(2)}),l.a.createElement(u.a,{label:{value:"y",angle:-90,position:"left",offset:-5},domain:[-2,2]}),l.a.createElement(h.a,{formatter:(e,t)=>[e.toFixed(4),t]}),l.a.createElement(g.a,null),l.a.createElement(d.a,{type:"monotone",dataKey:"y",name:"Target Function",stroke:"#8884d8",dot:!1,strokeWidth:2}),l.a.createElement(d.a,{type:"monotone",dataKey:"yApprox",name:"Approximation Function",stroke:"#82ca9d",dot:!1,strokeWidth:2,isAnimationActive:!1})))),l.a.createElement("div",{className:"mt-2 text-sm"},l.a.createElement("p",null,l.a.createElement("span",{className:"inline-block w-4 h-2 bg-purple-500 mr-1"})," Target Function: sin(x) + 0.5*sin(3x) * x\xb2/5"),l.a.createElement("p",null,l.a.createElement("span",{className:"inline-block w-4 h-2 bg-green-500 mr-1"})," Approximation Function: Current network output"))),l.a.createElement("div",{className:"mt-4 p-4 bg-gray-50 rounded"},l.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Training Data and Backpropagation"),l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},l.a.createElement("div",null,l.a.createElement("h4",{className:"font-medium mb-1"},"Training Data Generation"),l.a.createElement("p",{className:"text-sm mb-1"},"How training data is created:"),l.a.createElement("ol",{className:"text-sm list-decimal list-inside space-y-1"},l.a.createElement("li",null,"Sample 50 x values uniformly in range [-\u03c0, \u03c0]"),l.a.createElement("li",null,"For each x, calculate y = sin(x) as the target"),l.a.createElement("li",null,"These (x, y) pairs form the training dataset"),l.a.createElement("li",null,"During training, samples are randomly selected"))),l.a.createElement("div",null,l.a.createElement("h4",{className:"font-medium mb-1"},"Backpropagation Process"),l.a.createElement("p",{className:"text-sm"},"Backpropagation is the core learning algorithm for neural networks:"),l.a.createElement("ul",{className:"text-sm list-disc list-inside space-y-1"},l.a.createElement("li",null,"Green/red connections show weight values and changes"),l.a.createElement("li",null,"Input node displays current sample's x value"),l.a.createElement("li",null,"Output node shows both network output and target value"),l.a.createElement("li",null,"As training progresses, the approximation function (green line) gets closer to the target function (purple line)"))))))};var f=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(p,null))};var x=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,475)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:s}=t;a(e),n(e),l(e),r(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null))),x()}},[[245,1,2]]]);
//# sourceMappingURL=main.c3ffcb16.chunk.js.map