(this["webpackJsonpneural-network-visualizer"]=this["webpackJsonpneural-network-visualizer"]||[]).push([[0],{411:function(e,t,a){e.exports=a(646)},420:function(e,t,a){},645:function(e,t){},646:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(301),i=a.n(l),o=(a(420),a(647)),s=a(650),m=a(648),c=a(314),d=a(315),p=a(79),u=a(101),g=a(313);var h=()=>{const e=[1,12,10,8,6,1],[t,a]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),[h,f]=Object(n.useState)(.05),[x,E]=Object(n.useState)(0),[b,y]=Object(n.useState)(!1),[v,w]=Object(n.useState)([]),[N,k]=Object(n.useState)([]),[C,S]=Object(n.useState)(1),M=Object(n.useRef)(null),B=Object(n.useRef)(null),z=Object(n.useRef)({weights:[],biases:[]});Object(n.useEffect)(()=>{L()},[]);const L=()=>{const t=[],n=[];for(let a=0;a<e.length-1;a++){const r=[],l=[];for(let t=0;t<e[a+1];t++){const t=[];for(let n=0;n<e[a];n++){const n=Math.sqrt(1/(e[a]+e[a+1]));t.push((2*Math.random()-1)*n)}r.push(t),l.push(.05*(2*Math.random()-1))}t.push(r),n.push(l)}a(t),i(n),E(0),S(1),z.current={weights:t,biases:n},A(t,n)},A=(e,t)=>{const a=.1*Math.PI,n=[];for(let r=0;r<40;r++){const e=-Math.PI-a+(2*Math.PI+2*a)*r/39,t=Math.sin(e)+.5*Math.sin(3*e)*(e*e/5);n.push({x:e,y:t,yApprox:0})}for(let r=0;r<10;r++){const e=r/10,t=-Math.PI-a+e*Math.PI*.4,l=Math.sin(t)+.5*Math.sin(3*t)*(t*t/5);n.push({x:t,y:l,yApprox:0})}for(let r=0;r<10;r++){const e=r/10,t=.6*Math.PI+e*(.4*Math.PI+a),l=Math.sin(t)+.5*Math.sin(3*t)*(t*t/5);n.push({x:t,y:l,yApprox:0})}if(k(n),e&&e.length>0){const a=n.map(a=>{const n=T([a.x],e,t)[0];return{x:a.x,y:a.y,yApprox:n}});w(a)}},T=(e,t,a)=>{let n=[...e];const r=t||z.current.weights,l=a||z.current.biases;for(let i=0;i<r.length;i++){const e=r[i],t=l[i],a=[];for(let l=0;l<e.length;l++){const o=e[l];let s=t[l];for(let e=0;e<o.length;e++)s+=o[e]*n[e];if(i<r.length-1){const e=1/(1+Math.exp(-s));a.push(s*e)}else a.push(s)}n=[...a]}return n},F=(t,n)=>{const r=z.current.weights,l=z.current.biases,o=[t],s=[];let m=[...t];for(let e=0;e<r.length;e++){const t=r[e],a=l[e],n=[],i=[];for(let l=0;l<t.length;l++){const o=t[l];let s=a[l];for(let e=0;e<o.length;e++)s+=o[e]*m[e];if(i.push(s),e<r.length-1){const e=1/(1+Math.exp(-s));n.push(s*e)}else n.push(s)}s.push(i),m=[...n],o.push(n)}const c=o[o.length-1].map((e,t)=>e-n[t]),d=[c];for(let a=r.length-1;a>0;a--){const t=d[0],n=[];for(let l=0;l<e[a];l++){let e=0;for(let n=0;n<t.length;n++)e+=t[n]*r[a][n][l];const i=s[a-1][l],o=1/(1+Math.exp(-i)),m=o+i*o*(1-o);n.push(e*m)}d.unshift(n)}const p=JSON.parse(JSON.stringify(r)),u=JSON.parse(JSON.stringify(l));for(let e=0;e<r.length;e++)for(let t=0;t<r[e].length;t++){for(let a=0;a<r[e][t].length;a++){const n=h*d[e][t]*o[e][a];p[e][t][a]-=n}u[e][t]-=h*d[e][t]}return z.current={weights:p,biases:u},a([...p]),i([...u]),c.reduce((e,t)=>e+t*t,0)/c.length},R=()=>{B.current&&cancelAnimationFrame(B.current),y(!1)};return Object(n.useEffect)(()=>{var t;if(!M.current)return;const a=M.current,n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),a.width=700,a.height=500;const r=a.width-140,l=a.height-140,i=r/(e.length-1),o=e.map(e=>60),s=e.map((e,t)=>{const a=l/e;return Math.max(o[t],a)}),m=e.map((e,t)=>(e-1)*s[t]),c=x%N.length,d=N[c]||{x:0,y:0},p=(null===(t=v[c])||void 0===t?void 0:t.yApprox)||0;for(let u=0;u<e.length;u++){const t=e[u],a=m[u],r=70+(l-a)/2;if(u>0){const a=e[u-1],o=m[u-1],c=70+(l-o)/2,d=s[u-1],p=s[u];for(let e=0;e<t;e++){const t=70+u*i,l=r+e*p;for(let r=0;r<a;r++){const a=70+(u-1)*i,o=c+r*d;if(z.current.weights.length>0&&u-1<z.current.weights.length){const i=z.current.weights[u-1][e]&&z.current.weights[u-1][e][r]||0,s=Math.abs(i);if(s>.05){const e=i>0?`rgba(0, 128, 0, ${Math.min(s,1)})`:`rgba(255, 0, 0, ${Math.min(s,1)})`,r=.5+2*Math.min(s,1);if(n.beginPath(),n.moveTo(a+12,o),n.lineTo(t-12,l),n.strokeStyle=e,n.lineWidth=r,n.stroke(),s>.3){const e=(a+12+t-12)/2,r=(o+l)/2;n.fillStyle="rgba(255, 255, 255, 0.7)";const s=n.measureText(i.toFixed(2)).width;n.fillRect(e-s/2-2,r-7,s+4,14),n.fillStyle="#000000",n.font="9px Arial",n.fillText(i.toFixed(2),e,r)}}}}}}for(let l=0;l<t;l++){const t=70+u*i,a=r+l*s[u];if(n.beginPath(),n.arc(t,a,12,0,2*Math.PI),n.fillStyle=0===u?"#88CCEE":u===e.length-1?"#DDCC77":"#44AA99",n.fill(),n.strokeStyle="#000000",n.lineWidth=1,n.stroke(),n.fillStyle="#000000",n.font="9px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(`${u+1}-${l+1}`,t,a),0===u){n.fillStyle="#000000",n.font="bold 10px Arial",n.textAlign="right";const e="Input x: "+d.x.toFixed(2),r=n.measureText(e).width;n.fillStyle="rgba(255, 255, 255, 0.8)",n.fillRect(t-12-8-r,a-7,r+4,14),n.fillStyle="#000000",n.fillText(e,t-12-8,a)}else if(u===e.length-1){const e="Output: "+p.toFixed(2),r="Target: "+d.y.toFixed(2),l=n.measureText(e).width,i=n.measureText(r).width,o=Math.max(l,i);n.fillStyle="rgba(255, 255, 255, 0.8)",n.fillRect(t+12+8,a-15,o+8,30),n.fillStyle="#0000AA",n.font="bold 10px Arial",n.textAlign="left",n.fillText(e,t+12+12,a-5),n.fillStyle="#AA0000",n.fillText(r,t+12+12,a+10)}}}},[t,x,N,v]),Object(n.useEffect)(()=>()=>{B.current&&cancelAnimationFrame(B.current)},[]),r.a.createElement("div",{className:"w-full p-4 bg-white"},r.a.createElement("h2",{className:"text-xl font-bold mb-4 text-center"},"Neural Network Learning Visualization (Complex Function)"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},r.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},r.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Control Panel"),r.a.createElement("div",{className:"mb-4"},r.a.createElement("p",{className:"text-sm mb-2"},"Network Structure: 1-12-10-8-6-1 (fixed, pyramid architecture)"),r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Learning Rate: ",h.toFixed(3)),r.a.createElement("input",{type:"range",min:"0.001",max:"0.2",step:"0.001",value:h,onChange:e=>f(parseFloat(e.target.value)),className:"w-full",disabled:b})),r.a.createElement("div",{className:"flex space-x-2"},r.a.createElement("button",{onClick:b?R:()=>{if(b)return;y(!0);let e=0;const t=()=>{if(e++,e%3===0){if((()=>{let e=0;const t=[...N].sort(()=>Math.random()-.5);for(let n=0;n<t.length;n+=10){t.slice(n,Math.min(n+10,t.length)).forEach(t=>{const a=F([t.x],[t.y]);e+=a})}e/=t.length;const a=N.map(e=>{const t=T([e.x],z.current.weights,z.current.biases)[0];return{x:e.x,y:e.y,yApprox:t}});return w([...a]),S(e),E(e=>e+1),e<1e-4&&x>=300||x>=2e3})()||x>=1e3)return void y(!1)}B.current=requestAnimationFrame(t)};B.current=requestAnimationFrame(t)},className:`px-4 py-2 rounded ${b?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white font-medium`},b?"Stop Training":"Start Training"),r.a.createElement("button",{onClick:()=>{R(),L()},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded",disabled:b},"Reset Network")),r.a.createElement("div",{className:"mt-4"},r.a.createElement("p",{className:"text-sm"},"Current Epoch: ",r.a.createElement("span",{className:"font-semibold"},x)),r.a.createElement("p",{className:"text-sm"},"Current Loss: ",r.a.createElement("span",{className:"font-semibold"},C.toFixed(6))))),r.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},r.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Network Structure Visualization"),r.a.createElement("div",{className:"border rounded bg-white"},r.a.createElement("canvas",{ref:M,width:"500",height:"300",className:"w-full h-64"})),r.a.createElement("p",{className:"text-xs mt-1 text-gray-500"},"Colors represent weights: green for positive, red for negative. Line thickness indicates weight magnitude."))),r.a.createElement("div",{className:"bg-gray-50 p-4 rounded"},r.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Function Approximation"),r.a.createElement("div",{className:"border rounded bg-white"},r.a.createElement(o.a,{width:"100%",height:300},r.a.createElement(s.a,{margin:{top:20,right:30,left:20,bottom:20},data:v},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"x",label:{value:"x",position:"bottom",offset:0},domain:[1.1*-Math.PI,1.1*Math.PI],tickFormatter:e=>e.toFixed(2)}),r.a.createElement(d.a,{label:{value:"y",angle:-90,position:"left",offset:-5},domain:[-2,2]}),r.a.createElement(p.a,{formatter:(e,t)=>[e.toFixed(4),t]}),r.a.createElement(u.a,null),r.a.createElement(g.a,{type:"monotone",dataKey:"y",name:"Target Function",stroke:"#8884d8",dot:!1,strokeWidth:2}),r.a.createElement(g.a,{type:"monotone",dataKey:"yApprox",name:"Approximation Function",stroke:"#82ca9d",dot:!1,strokeWidth:2,isAnimationActive:!1})))),r.a.createElement("div",{className:"mt-2 text-sm"},r.a.createElement("p",null,r.a.createElement("span",{className:"inline-block w-4 h-2 bg-purple-500 mr-1"})," Target Function: sin(x) + 0.5*sin(3x) * x\xb2/5"),r.a.createElement("p",null,r.a.createElement("span",{className:"inline-block w-4 h-2 bg-green-500 mr-1"})," Approximation Function: Current network output"))),r.a.createElement("div",{className:"mt-4 p-4 bg-gray-50 rounded"},r.a.createElement("h3",{className:"text-lg font-semibold mb-2"},"Training Data and Backpropagation"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.a.createElement("div",null,r.a.createElement("h4",{className:"font-medium mb-1"},"Training Data Generation"),r.a.createElement("p",{className:"text-sm mb-1"},"How training data is created:"),r.a.createElement("ol",{className:"text-sm list-decimal list-inside space-y-1"},r.a.createElement("li",null,"Sample 50 x values uniformly in range [-\u03c0, \u03c0]"),r.a.createElement("li",null,"For each x, calculate y = sin(x) as the target"),r.a.createElement("li",null,"These (x, y) pairs form the training dataset"),r.a.createElement("li",null,"During training, samples are randomly selected"))),r.a.createElement("div",null,r.a.createElement("h4",{className:"font-medium mb-1"},"Backpropagation Process"),r.a.createElement("p",{className:"text-sm"},"Backpropagation is the core learning algorithm for neural networks:"),r.a.createElement("ul",{className:"text-sm list-disc list-inside space-y-1"},r.a.createElement("li",null,"Green/red connections show weight values and changes"),r.a.createElement("li",null,"Input node displays current sample's x value"),r.a.createElement("li",null,"Output node shows both network output and target value"),r.a.createElement("li",null,"As training progresses, the approximation function (green line) gets closer to the target function (purple line)"))))))};var f=()=>{const[e,t]=Object(n.useState)(0),[a,l]=Object(n.useState)(0),[i,o]=Object(n.useState)(0),[s,m]=Object(n.useState)(!1),c=(e,t,a)=>{const n=`rgb(${Math.max(0,Math.min(255,255-Math.floor(127.5*(e+1))))}, 50, ${Math.max(0,Math.min(255,Math.floor(127.5*(e+1))))})`,l=Math.max(.1,.45*(t+1)+.1),i=a;return r.a.createElement("g",{transform:"translate(50, 50)"},r.a.createElement("rect",{x:-2,y:0,width:4,height:80,fill:"#2E8B57"}),r.a.createElement("path",{d:"M -2,40 C -20,32 -25,48 -10,56",fill:"#3CB371",stroke:"#2E8B57",strokeWidth:"1"}),r.a.createElement("circle",{cx:"0",cy:"0",r:10*l,fill:"#FFD700"}),[...Array(i<0?5:8)].map((e,t)=>{const a=2*t*Math.PI/(i<0?5:8),o=25*l,s=o*(i<0?.4:.8);return r.a.createElement("path",{key:t,d:`\n                M 0,0\n                Q ${Math.cos(a)*s},${Math.sin(a)*s} \n                  ${Math.cos(a)*o},${Math.sin(a)*o}\n                Q ${Math.cos(a+.2)*s},${Math.sin(a+.2)*s}\n                  0,0\n              `,fill:n,stroke:n,strokeWidth:"1",opacity:"0.9"})}))},d=(e,t,a)=>r.a.createElement("svg",{width:"60",height:"60",viewBox:"0 0 100 100"},c(e,t,a));return r.a.createElement("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif"}},r.a.createElement("h1",{style:{textAlign:"center",marginBottom:"20px"}},"VAE Latent Space Exploration"),r.a.createElement("div",{style:{marginBottom:"30px",backgroundColor:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},r.a.createElement("h2",{style:{marginBottom:"15px"}},"How VAEs Represent Images"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"}},r.a.createElement("div",{style:{border:"1px solid #eee",padding:"10px",borderRadius:"8px",backgroundColor:"#f8f8f8"}},r.a.createElement("h3",{style:{textAlign:"center",marginBottom:"10px",fontSize:"16px"}},"Training Data"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"}},d(-.8,.7,.2),d(.8,.6,.3),d(-.7,-.8,.1),d(.7,-.5,-.7))),r.a.createElement("div",{style:{border:"1px solid #eee",padding:"10px",borderRadius:"8px",backgroundColor:"#f8f8f8",textAlign:"center"}},r.a.createElement("h3",{style:{marginBottom:"10px",fontSize:"16px"}},"Learned Dimensions"),r.a.createElement("div",{style:{marginBottom:"8px"}},r.a.createElement("div",{style:{height:"12px",background:"linear-gradient(to right, red, blue)",borderRadius:"3px",marginBottom:"4px"}}),r.a.createElement("div",{style:{fontSize:"14px"}},"Dimension 1: Color")),r.a.createElement("div",{style:{marginBottom:"8px"}},r.a.createElement("div",{style:{height:"12px",background:"linear-gradient(to right, #e0f7e0, #2e8b57)",borderRadius:"3px",marginBottom:"4px"}}),r.a.createElement("div",{style:{fontSize:"14px"}},"Dimension 2: Bloom")),r.a.createElement("div",null,r.a.createElement("div",{style:{height:"12px",background:"linear-gradient(to right, #f0e6f6, #8e44ad)",borderRadius:"3px",marginBottom:"4px"}}),r.a.createElement("div",{style:{fontSize:"14px"}},"Dimension 3: Shape"))),r.a.createElement("div",{style:{border:"1px solid #eee",padding:"10px",borderRadius:"8px",backgroundColor:"#f8f8f8",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h3",{style:{marginBottom:"10px",fontSize:"16px"}},"Continuous Latent Space"),r.a.createElement("div",{style:{position:"relative",width:"100px",height:"100px",border:"1px solid #3498db",borderRadius:"4px",marginTop:"10px"}},r.a.createElement("div",{style:{position:"absolute",top:"45%",width:"100%",height:"1px",backgroundColor:"#3498db"}}),r.a.createElement("div",{style:{position:"absolute",left:"50%",height:"100%",width:"1px",backgroundColor:"#3498db"}}),r.a.createElement("div",{style:{position:"absolute",left:"25%",top:"25%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3498db"}}),r.a.createElement("div",{style:{position:"absolute",left:"75%",top:"25%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3498db"}}),r.a.createElement("div",{style:{position:"absolute",left:"25%",top:"75%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3498db"}}),r.a.createElement("div",{style:{position:"absolute",left:"75%",top:"75%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3498db"}})),r.a.createElement("div",{style:{fontSize:"14px",marginTop:"10px"}},"Any point = a flower")))),r.a.createElement("div",{style:{marginBottom:"30px",backgroundColor:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.a.createElement("h2",{style:{margin:0}},"Explore Latent Space"),r.a.createElement("div",null,r.a.createElement("button",{onClick:()=>m(!0),style:{padding:"8px 12px",marginRight:"8px",backgroundColor:s?"#8e44ad":"#f0f0f0",color:s?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"}},"Try Latent Diffusion"),r.a.createElement("button",{onClick:()=>m(!1),style:{padding:"8px 12px",backgroundColor:s?"#f0f0f0":"#3498db",color:s?"black":"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Basic Generation"))),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"}},r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"15px",fontSize:"16px"}},"Adjust Latent Vector"),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("label",null,"Flower Color:"),r.a.createElement("span",{style:{color:"#3498db"}},e.toFixed(2))),r.a.createElement("input",{type:"range",min:"-1.5",max:"1.5",step:"0.01",value:e,onChange:e=>t(parseFloat(e.target.value)),style:{width:"100%"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666"}},r.a.createElement("span",null,"Red"),r.a.createElement("span",null,"Purple"),r.a.createElement("span",null,"Blue"))),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("label",null,"Bloom Stage:"),r.a.createElement("span",{style:{color:"#3498db"}},a.toFixed(2))),r.a.createElement("input",{type:"range",min:"-1.5",max:"1.5",step:"0.01",value:a,onChange:e=>l(parseFloat(e.target.value)),style:{width:"100%"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666"}},r.a.createElement("span",null,"Bud"),r.a.createElement("span",null,"Partial"),r.a.createElement("span",null,"Full Bloom"))),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("label",null,"Flower Shape:"),r.a.createElement("span",{style:{color:"#3498db"}},i.toFixed(2))),r.a.createElement("input",{type:"range",min:"-1.5",max:"1.5",step:"0.01",value:i,onChange:e=>o(parseFloat(e.target.value)),style:{width:"100%"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666"}},r.a.createElement("span",null,"Tulip-like"),r.a.createElement("span",null,"Mixed"),r.a.createElement("span",null,"Rose-like")))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",{style:{marginBottom:"15px",fontSize:"16px"}},"Latent Space"),(()=>{const t=50+25*e,n=50+25*a;return r.a.createElement("svg",{width:"180",height:"180",style:{backgroundColor:"#f0f9ff",border:"1px solid #3498db"}},r.a.createElement("line",{x1:"0",y1:"90",x2:"180",y2:"90",stroke:"#3498db",strokeWidth:"1"}),r.a.createElement("line",{x1:"90",y1:"0",x2:"90",y2:"180",stroke:"#3498db",strokeWidth:"1"}),r.a.createElement("text",{x:"170",y:"85",fontSize:"12",textAnchor:"end"},"Color"),r.a.createElement("text",{x:"95",y:"15",fontSize:"12",textAnchor:"start"},"Shape"),r.a.createElement("text",{x:"95",y:"175",fontSize:"12",textAnchor:"start"},"Bloom"),[{x:25,y:25,color:"#3498db"},{x:75,y:25,color:"#3498db"},{x:25,y:75,color:"#3498db"},{x:75,y:75,color:"#3498db"}].map((e,t)=>r.a.createElement("circle",{key:t,cx:e.x,cy:e.y,r:"8",fill:e.color,opacity:"0.6"})),r.a.createElement("circle",{cx:t,cy:n,r:"10",fill:"#e74c3c"}),s&&[...Array(10)].map((e,a)=>{const l=t+20*(Math.random()-.5),i=n+20*(Math.random()-.5);return r.a.createElement("circle",{key:a,cx:l,cy:i,r:"3",fill:"#e74c3c",opacity:"0.3"})}))})(),(Math.abs(e)>1||Math.abs(a)>1||Math.abs(i)>1)&&r.a.createElement("div",{style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#fff9e0",borderRadius:"4px",marginTop:"8px",display:"inline-block"}},"Exploring beyond training data!")),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",{style:{marginBottom:"15px",fontSize:"16px"}},"Generated Flower"),r.a.createElement("svg",{width:"180",height:"180",viewBox:"0 0 100 100",style:{backgroundColor:"#f8f8f8",borderRadius:"4px"}},c(e,a,i)),s&&r.a.createElement("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"white",borderRadius:"4px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}},r.a.createElement("p",{style:{fontSize:"14px",marginBottom:"5px",fontWeight:"500"}},"Diffusion Process"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"5px"}},[...Array(5)].map((t,n)=>{const l=.2+n/5*.8;return r.a.createElement("div",{key:n,style:{opacity:l}},r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 100 100",style:{backgroundColor:"#f0f0f0",borderRadius:"2px"}},c(e+(.5-n/10)*(Math.random()-.5),a+(.5-n/10)*(Math.random()-.5),i+(.5-n/10)*(Math.random()-.5))))})))))),r.a.createElement("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},r.a.createElement("h2",{style:{marginBottom:"15px"}},"How VAEs & Latent Diffusion Work"),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("h3",{style:{fontSize:"18px",marginBottom:"10px"}},"VAE Latent Space"),r.a.createElement("p",{style:{marginBottom:"10px"}},"Variational Autoencoders (VAEs) learn to compress images into a continuous latent space where:"),r.a.createElement("ul",{style:{paddingLeft:"20px",marginBottom:"10px"}},r.a.createElement("li",null,"Similar features are mapped to similar regions"),r.a.createElement("li",null,"Each dimension controls a specific visual attribute"),r.a.createElement("li",null,"The space is continuous, allowing smooth interpolation"),r.a.createElement("li",null,"Novel combinations beyond training data can be generated"))),r.a.createElement("div",null,r.a.createElement("h3",{style:{fontSize:"18px",marginBottom:"10px"}},"Latent Diffusion"),r.a.createElement("p",{style:{marginBottom:"10px"}},"Diffusion models like Stable Diffusion extend this by:"),r.a.createElement("ol",{style:{paddingLeft:"20px"}},r.a.createElement("li",null,"Adding noise to latent vectors to create variations"),r.a.createElement("li",null,"Learning to remove noise in a controlled way"),r.a.createElement("li",null,"Enabling text-guided latent space navigation"),r.a.createElement("li",null,"Allowing for creative generation beyond the training distribution")))))},x=a(40);var E=()=>{Object(n.useEffect)(()=>(e(),()=>x.f("#viz-container").selectAll("*").remove()),[]);const e=()=>{const e=40,t=40,a=600-t-40,n=500-e-40,r=x.f("#viz-container").append("svg").attr("width",600).attr("height",500).append("g").attr("transform",`translate(${t}, ${e})`),l=x.e().domain([0,100]).range([0,a]),i=x.e().domain([0,1]).range([n,0]),o=[],s=[],m=[];for(let f=0;f<=100;f++){let e=0;e=f<=30?.8*Math.exp(-.05*f)+.2:f<=80?.2-.001*(f-30):.15-.005*(f-80);let t=0;t=f<=30?.8*Math.exp(-.05*f)+.2:f<=40?.2-.005*(f-30):.15*Math.exp(-.05*(f-40))+.05;let a=0;a=f<=30?.8*Math.exp(-.05*f)+.2:f<=37?.2-.008*(f-30):.12*Math.exp(-.06*(f-37))+.03,o.push({x:f,y:e}),s.push({x:f,y:t}),m.push({x:f,y:a})}r.append("g").attr("transform",`translate(0, ${n})`).call(x.a(l).ticks(5)).append("text").attr("x",a/2).attr("y",35).attr("fill","black").attr("text-anchor","middle").text("Iterations"),r.append("g").call(x.b(i).ticks(5)).append("text").attr("transform","rotate(-90)").attr("x",-n/2).attr("y",-35).attr("fill","black").attr("text-anchor","middle").text("Loss");const c=x.d().x(e=>l(e.x)).y(e=>i(e.y)).curve(x.c);r.append("path").datum(o).attr("fill","none").attr("stroke","blue").attr("stroke-width",3).attr("stroke-dasharray","5,5").attr("d",c),r.append("path").datum(s).attr("fill","none").attr("stroke","green").attr("stroke-width",3).attr("d",c),r.append("path").datum(m).attr("fill","none").attr("stroke","purple").attr("stroke-width",3).attr("d",c),r.append("rect").attr("x",l(30)).attr("y",i(.25)).attr("width",l(80)-l(30)).attr("height",i(.15)-i(.25)).attr("fill","rgba(255, 255, 0, 0.2)").attr("stroke","orange").attr("stroke-dasharray","3,3"),r.append("text").attr("x",l(55)).attr("y",i(.27)).attr("text-anchor","middle").attr("font-size","12px").text("Saddle Point Region"),r.append("text").attr("x",l(70)).attr("y",i(.19)).attr("text-anchor","middle").attr("font-size","12px").attr("fill","blue").attr("font-weight","bold").text("SGD gets stuck"),r.append("text").attr("x",l(60)).attr("y",i(.08)).attr("text-anchor","middle").attr("font-size","12px").attr("fill","green").attr("font-weight","bold").text("Adam escapes"),r.append("text").attr("x",l(50)).attr("y",i(.04)).attr("text-anchor","middle").attr("font-size","12px").attr("fill","purple").attr("font-weight","bold").text("AdamW escapes faster"),r.append("text").attr("x",a/2).attr("y",-20).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold").text("Optimizer Comparison at Saddle Points");const d=r.append("g").attr("transform",`translate(${a-250}, 20)`);d.append("line").attr("x1",0).attr("y1",0).attr("x2",20).attr("y2",0).attr("stroke","blue").attr("stroke-width",2).attr("stroke-dasharray","5,5"),d.append("text").attr("x",25).attr("y",5).attr("font-size","12px").text("SGD (Stochastic Gradient Descent)"),d.append("line").attr("x1",0).attr("y1",20).attr("x2",20).attr("y2",20).attr("stroke","green").attr("stroke-width",2),d.append("text").attr("x",25).attr("y",25).attr("font-size","12px").text("Adam (Adaptive Moment Estimation)"),d.append("line").attr("x1",0).attr("y1",40).attr("x2",20).attr("y2",40).attr("stroke","purple").attr("stroke-width",2),d.append("text").attr("x",25).attr("y",45).attr("font-size","12px").text("AdamW (Adam with Decoupled Weight Decay)");const p=r.append("g").attr("transform","translate(100, 150)");p.append("rect").attr("x",-10).attr("y",-10).attr("width",140).attr("height",140).attr("fill","rgba(240, 240, 240, 0.8)").attr("rx",10);const u=x.e().domain([-1,1]).range([0,120]),g=[];for(let f=-1;f<=1;f+=.1)for(let e=-1;e<=1;e+=.1){const t=f*f-e*e;g.push({x:f,y:e,z:t})}const h=x.e().domain([-1,0,1]).range(["steelblue","white","firebrick"]);p.selectAll(".saddle-point").data(g).enter().append("circle").attr("cx",e=>u(e.x)).attr("cy",e=>u(e.y)).attr("r",3).attr("fill",e=>h(e.z)).attr("opacity",.7);p.append("path").datum([{x:-.8,y:.2},{x:-.5,y:.1},{x:-.2,y:.05},{x:-.1,y:.02},{x:-.05,y:.01},{x:-.02,y:.005},{x:-.01,y:.002},{x:0,y:0}]).attr("fill","none").attr("stroke","blue").attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("d",x.d().x(e=>u(e.x)).y(e=>u(e.y)).curve(x.c)),p.append("path").datum([{x:-.8,y:.2},{x:-.5,y:.1},{x:-.2,y:.05},{x:0,y:0},{x:.2,y:-.1},{x:.4,y:-.2},{x:.6,y:-.3},{x:.8,y:-.4}]).attr("fill","none").attr("stroke","green").attr("stroke-width",2).attr("d",x.d().x(e=>u(e.x)).y(e=>u(e.y)).curve(x.c)),p.append("path").datum([{x:-.8,y:.2},{x:-.4,y:.1},{x:-.1,y:.03},{x:0,y:-.02},{x:.15,y:-.15},{x:.35,y:-.3},{x:.6,y:-.5},{x:.9,y:-.7}]).attr("fill","none").attr("stroke","purple").attr("stroke-width",2).attr("d",x.d().x(e=>u(e.x)).y(e=>u(e.y)).curve(x.c)),p.append("circle").attr("cx",u(0)).attr("cy",u(0)).attr("r",5).attr("fill","yellow").attr("stroke","black"),p.append("text").attr("x",60).attr("y",-5).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").text("Saddle Point (x\xb2 - y\xb2)")};return r.a.createElement("div",{className:"w-full max-w-4xl mx-auto"},r.a.createElement("div",{id:"viz-container",className:"w-full h-[500px] border rounded bg-white p-4"}),r.a.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 p-4 rounded-lg"},r.a.createElement("div",{className:"bg-white p-4 rounded shadow"},r.a.createElement("h3",{className:"text-lg font-bold text-blue-700 mb-2"},"Stochastic Gradient Descent (SGD)"),r.a.createElement("p",null,'Uses the same learning rate for all parameters and applies no momentum by default. Near saddle points, all gradients become very small, causing SGD to slow down dramatically or get "stuck" for many iterations.')),r.a.createElement("div",{className:"bg-white p-4 rounded shadow"},r.a.createElement("h3",{className:"text-lg font-bold text-green-700 mb-2"},"Adaptive Moment Estimation (Adam)"),r.a.createElement("p",null,"Maintains separate learning rates for each parameter based on gradient history. These adaptive rates automatically increase when gradients are consistently small, allowing it to escape saddle points faster.")),r.a.createElement("div",{className:"bg-white p-4 rounded shadow"},r.a.createElement("h3",{className:"text-lg font-bold text-purple-700 mb-2"},"Adam with Decoupled Weight Decay (AdamW)"),r.a.createElement("p",null,"Extends Adam by applying weight decay directly to weights rather than to gradients. This decoupling helps break symmetry at saddle points and provides better regularization, often resulting in even faster escape.")),r.a.createElement("div",{className:"col-span-1 md:col-span-3 bg-yellow-50 p-4 rounded shadow"},r.a.createElement("h3",{className:"text-lg font-bold mb-2"},"Mathematical Components of Adaptive Methods"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.a.createElement("div",null,r.a.createElement("h4",{className:"font-bold"},"How Adam Works:"),r.a.createElement("ul",{className:"list-disc pl-5 space-y-1"},r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"First Moment:")," m",r.a.createElement("sub",null,"t")," = \u03b2",r.a.createElement("sub",null,"1"),"\xb7m",r.a.createElement("sub",null,"t-1")," + (1-\u03b2",r.a.createElement("sub",null,"1"),")\xb7g",r.a.createElement("sub",null,"t")," (provides momentum)"),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Second Moment:")," v",r.a.createElement("sub",null,"t")," = \u03b2",r.a.createElement("sub",null,"2"),"\xb7v",r.a.createElement("sub",null,"t-1")," + (1-\u03b2",r.a.createElement("sub",null,"2"),")\xb7g",r.a.createElement("sub",null,"t"),"\xb2 (estimates variance)"),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Bias Correction:")," m\u0302",r.a.createElement("sub",null,"t")," = m",r.a.createElement("sub",null,"t"),"/(1-\u03b2",r.a.createElement("sub",null,"1"),r.a.createElement("sup",null,"t"),"), v\u0302",r.a.createElement("sub",null,"t")," = v",r.a.createElement("sub",null,"t"),"/(1-\u03b2",r.a.createElement("sub",null,"2"),r.a.createElement("sup",null,"t"),")"),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Parameter Update:")," \u03b8",r.a.createElement("sub",null,"t+1")," = \u03b8",r.a.createElement("sub",null,"t")," - \u03b1\xb7m\u0302",r.a.createElement("sub",null,"t"),"/(\u221av\u0302",r.a.createElement("sub",null,"t")," + \u03b5)"))),r.a.createElement("div",null,r.a.createElement("h4",{className:"font-bold"},"How AdamW Differs:"),r.a.createElement("ul",{className:"list-disc pl-5 space-y-1"},r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Standard Adam:")," Applies L2 regularization within gradient: g",r.a.createElement("sub",null,"t")," = \u2207f(\u03b8",r.a.createElement("sub",null,"t"),") + \u03bb\u03b8",r.a.createElement("sub",null,"t")),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"AdamW:")," Decouples weight decay: \u03b8",r.a.createElement("sub",null,"t+1")," = \u03b8",r.a.createElement("sub",null,"t")," - \u03b1\xb7m\u0302",r.a.createElement("sub",null,"t"),"/(\u221av\u0302",r.a.createElement("sub",null,"t")," + \u03b5) - \u03b1\xb7\u03bb\xb7\u03b8",r.a.createElement("sub",null,"t")),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Benefit:")," More effective regularization that is independent of gradient magnitude"),r.a.createElement("li",null,r.a.createElement("span",{className:"font-semibold"},"Saddle Point Impact:")," Helps overcome symmetrical parameter distributions often found at saddle points")))))))};var b=()=>{const[e,t]=Object(n.useState)(10),[a,l]=Object(n.useState)(1),[i,o]=Object(n.useState)(1),[s,m]=Object(n.useState)(10),[c,d]=Object(n.useState)([]),[p,u]=Object(n.useState)(!1),[g,h]=Object(n.useState)({});Object(n.useEffect)(()=>{const e=[];for(let t=0;t<100;t++){const a=360*t/100%360;e.push(`hsl(${a}, 80%, 60%)`)}d(e)},[]),Object(n.useEffect)(()=>{const t=Math.ceil(100/e);m(t),i>t&&o(1)},[e,i]),Object(n.useEffect)(()=>{if(p&&!g[a]){const e=[...Array.from({length:100},(e,t)=>t)],t=1337*a;let n,r,l=e.length;const i=()=>{const e=1e4*Math.sin(t+l--);return e-Math.floor(e)};for(;l;)r=Math.floor(i()*l--),n=e[l],e[l]=e[r],e[r]=n;h(t=>({...t,[a]:e}))}},[a,p,g]);const f=(()=>{if(p&&g[a]){const t=g[a],n=(i-1)*e,r=Math.min(n+e,100);return Array.from({length:r-n},(e,a)=>t[n+a])}{const t=(i-1)*e,a=Math.min(t+e,100);return Array.from({length:a-t},(e,a)=>t+a)}})(),x=e=>{const a=parseInt(e.target.value,10);a>=1&&a<=100&&t(a)},E=e=>{const t=parseInt(e.target.value,10);t>=1&&t<=s&&o(t)};return r.a.createElement("div",{className:"visualization-container"},r.a.createElement("h1",{className:"main-title"},"Training Data Epoch and Batch Visualization"),r.a.createElement("div",{className:"controls-section"},r.a.createElement("div",{className:"control-group"},r.a.createElement("div",{className:"control-item"},r.a.createElement("label",null,"Batch Size:"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"number",value:e,onChange:x,min:"1",max:100,className:"number-input"}),r.a.createElement("input",{type:"range",value:e,onChange:x,min:"1",max:100,className:"range-input"}))),r.a.createElement("div",{className:"control-item"},r.a.createElement("label",null,"Current Epoch:"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"number",value:a,onChange:e=>{const t=parseInt(e.target.value,10);t>=1&&l(t)},min:"1",className:"number-input"}))),r.a.createElement("div",{className:"control-item"},r.a.createElement("label",null,"Current Batch:"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"number",value:i,onChange:E,min:"1",max:s,className:"number-input"}),r.a.createElement("input",{type:"range",value:i,onChange:E,min:"1",max:s,className:"range-input"})))),r.a.createElement("div",{className:"shuffle-option"},r.a.createElement("label",{className:"shuffle-label"},r.a.createElement("input",{type:"checkbox",checked:p,onChange:()=>{p||h({}),u(!p)},className:"shuffle-checkbox"}),r.a.createElement("span",null,"Shuffle Data Between Epochs"))),r.a.createElement("div",{className:"control-buttons"},r.a.createElement("button",{onClick:()=>{i>1?o(i-1):a>1&&(l(a-1),o(s))},className:"control-button"},"Previous Batch"),r.a.createElement("button",{onClick:()=>{i<s?o(i+1):(o(1),l(a+1))},className:"control-button"},"Next Batch"))),r.a.createElement("div",{className:"status-section"},r.a.createElement("h2",null,"Current Status:"),r.a.createElement("div",{className:"status-grid"},r.a.createElement("div",{className:"status-column"},r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Total Training Data:")," ",100),r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Batch Size:")," ",e),r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Total Batches per Epoch:")," ",s),r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Shuffle Between Epochs:")," ",p?"Enabled":"Disabled")),r.a.createElement("div",{className:"status-column"},r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Current Epoch:")," ",a),r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Current Batch:")," ",i," of ",s),r.a.createElement("p",null,r.a.createElement("span",{className:"status-label"},"Data Points in Current Batch:")," ",f.length)))),r.a.createElement("div",{className:"visualization-section"},r.a.createElement("h2",null,"Data Point Visualization:"),r.a.createElement("div",{className:"data-grid"},Array.from({length:100},(e,t)=>{const a=f.includes(t);return r.a.createElement("div",{key:t,className:`\n            data-point\n            ${a?"active":"inactive"}\n          `,style:{backgroundColor:c[t]}},t+1)}))),r.a.createElement("div",{className:"legend-section"},r.a.createElement("h2",null,"How to Read This Visualization:"),r.a.createElement("ul",{className:"legend-list"},r.a.createElement("li",null,"Each colored square represents one training data point (numbered 1-100)"),r.a.createElement("li",null,"Data points in the current batch are highlighted and slightly larger"),r.a.createElement("li",null,"Adjust the batch size to see how data is divided into batches"),r.a.createElement("li",null,"Navigate through batches to see how the model would process data points"),r.a.createElement("li",null,"Each complete pass through all batches represents one epoch"),r.a.createElement("li",null,'When "Shuffle Between Epochs" is enabled, data points are randomly reordered for each epoch (but remain consistent within an epoch)'))),r.a.createElement("style",{jsx:!0},"\n        .visualization-container {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 16px;\n          background-color: white;\n          border-radius: 8px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        \n        .main-title {\n          font-size: 24px;\n          font-weight: bold;\n          margin-bottom: 24px;\n          text-align: center;\n        }\n        \n        .controls-section {\n          margin-bottom: 24px;\n          padding: 16px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n        }\n        \n        .control-group {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 16px;\n          margin-bottom: 16px;\n        }\n        \n        @media (min-width: 640px) {\n          .control-group {\n            grid-template-columns: repeat(2, 1fr);\n          }\n        }\n        \n        @media (min-width: 768px) {\n          .control-group {\n            grid-template-columns: repeat(3, 1fr);\n          }\n        }\n        \n        .control-item {\n          margin-bottom: 8px;\n        }\n        \n        .control-item label {\n          display: block;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 4px;\n        }\n        \n        .input-container {\n          display: flex;\n          align-items: center;\n        }\n        \n        .number-input {\n          width: 60px;\n          padding: 6px;\n          border: 1px solid #d1d5db;\n          border-radius: 4px;\n          margin-right: 8px;\n        }\n        \n        .range-input {\n          flex-grow: 1;\n        }\n        \n        .shuffle-option {\n          margin-bottom: 16px;\n        }\n        \n        .shuffle-label {\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n        }\n        \n        .shuffle-checkbox {\n          margin-right: 8px;\n        }\n        \n        .control-buttons {\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n        }\n        \n        .control-button {\n          padding: 8px 16px;\n          background-color: #3b82f6;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n        \n        .control-button:hover {\n          background-color: #2563eb;\n        }\n        \n        .status-section {\n          margin-bottom: 24px;\n          padding: 16px;\n          background-color: #e6f2ff;\n          border-radius: 8px;\n        }\n        \n        .status-section h2 {\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 12px;\n        }\n        \n        .status-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 16px;\n        }\n        \n        @media (min-width: 640px) {\n          .status-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n        }\n        \n        .status-label {\n          font-weight: 500;\n        }\n        \n        .visualization-section {\n          margin-bottom: 24px;\n          padding: 16px;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n        }\n        \n        .visualization-section h2 {\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 16px;\n        }\n        \n        .data-grid {\n          display: grid;\n          grid-template-columns: repeat(5, 1fr);\n          gap: 4px;\n        }\n        \n        @media (min-width: 480px) {\n          .data-grid {\n            grid-template-columns: repeat(8, 1fr);\n          }\n        }\n        \n        @media (min-width: 640px) {\n          .data-grid {\n            grid-template-columns: repeat(10, 1fr);\n          }\n        }\n        \n        @media (min-width: 768px) {\n          .data-grid {\n            gap: 8px;\n          }\n        }\n        \n        .data-point {\n          aspect-ratio: 1/1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n          font-size: 12px;\n          font-weight: bold;\n          transition: all 0.2s ease;\n          color: white;\n        }\n        \n        @media (min-width: 640px) {\n          .data-point {\n            font-size: 14px;\n          }\n        }\n        \n        .data-point.active {\n          transform: scale(1.1);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n          z-index: 10;\n          border: 2px solid white;\n        }\n        \n        .data-point.inactive {\n          opacity: 0.4;\n          filter: brightness(0.75);\n          color: rgba(255, 255, 255, 0.6);\n        }\n        \n        .legend-section {\n          padding: 16px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n        }\n        \n        .legend-section h2 {\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 12px;\n        }\n        \n        .legend-list {\n          list-style-type: disc;\n          padding-left: 20px;\n        }\n        \n        .legend-list li {\n          margin-bottom: 4px;\n          font-size: 14px;\n        }\n        \n        @media (min-width: 640px) {\n          .legend-list li {\n            font-size: 16px;\n          }\n        }\n      "))};var y=()=>{const e={container:{padding:"20px",maxWidth:"1000px",margin:"0 auto",backgroundColor:"#f8fafc",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif"},heading:{textAlign:"center",fontSize:"24px",fontWeight:"bold",marginBottom:"24px"},compareContainer:{backgroundColor:"#f1f5f9",padding:"24px",borderRadius:"8px"},section:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",marginBottom:"32px"},sectionTitle:{fontSize:"18px",fontWeight:"bold",marginBottom:"8px"},subtitle:{color:"#3b82f6",fontSize:"14px",marginBottom:"16px"},description:{fontSize:"12px",color:"#4b5563",marginTop:"16px"},keyPoints:{marginTop:"32px",fontSize:"14px"},keyPointsTitle:{fontSize:"18px",fontWeight:"bold",marginBottom:"8px"},keyComponentsTitle:{fontSize:"18px",fontWeight:"bold",marginTop:"24px",marginBottom:"8px"},detailsContainer:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},componentTitle:{color:"#4f46e5",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},termList:{marginTop:"16px"},term:{color:"#ca8a04",fontSize:"14px",fontWeight:"500"},definition:{marginLeft:"16px",marginBottom:"16px"},architectureContainer:{display:"flex",marginBottom:"24px"},architectureSimpleContainer:{display:"flex",flexDirection:"column",alignItems:"center"},flowContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},verticalColumn:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},box:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",textAlign:"center",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",margin:"0 8px",position:"relative",fontSize:"12px",fontWeight:"600"},inputBox:{backgroundColor:"#dbeafe",width:"80px",height:"160px"},encoderBox:{backgroundColor:"#dcfce7",width:"96px",height:"128px",border:"2px solid transparent"},latentBox:{backgroundColor:"#fef9c3",width:"64px",height:"64px"},decoderBox:{backgroundColor:"#f3e8ff",width:"96px",height:"128px",border:"2px solid transparent"},outputBox:{backgroundColor:"#dbeafe",width:"80px",height:"160px"},meanBox:{backgroundColor:"#fef9c3",width:"48px",height:"48px",border:"2px solid #22c55e"},varBox:{backgroundColor:"#fef08a",width:"48px",height:"48px",border:"2px solid #22c55e"},samplingBox:{backgroundColor:"#fef9c3",width:"64px",height:"64px",border:"2px solid #22c55e"},contractingBox:{backgroundColor:"#dcfce7",width:"96px",height:"112px",border:"2px solid #6366f1"},deeperBox:{backgroundColor:"#86efac",width:"64px",height:"80px",border:"2px solid #6366f1"},bottleneckBox:{backgroundColor:"#fef9c3",width:"48px",height:"48px"},expandingBox:{backgroundColor:"#e9d5ff",width:"64px",height:"80px",border:"2px solid #6366f1"},furtherBox:{backgroundColor:"#f3e8ff",width:"96px",height:"112px",border:"2px solid #6366f1"},arrow:{margin:"0 8px",fontSize:"20px",fontWeight:"bold",color:"#6b7280"},downArrow:{margin:"8px 0",fontSize:"20px",fontWeight:"bold",color:"#6b7280"},skipConnectionsLabel:{backgroundColor:"#dbeafe",padding:"8px 12px",borderRadius:"8px",border:"2px solid #3b82f6",color:"#1d4ed8",fontSize:"12px",fontWeight:"bold",textAlign:"center",marginTop:"16px"}};return r.a.createElement("div",{style:e.container},r.a.createElement("h1",{style:e.heading},"Neural Network Architecture Comparison"),r.a.createElement("div",{style:e.compareContainer},r.a.createElement("div",{style:e.section},r.a.createElement("h3",{style:e.sectionTitle},"Autoencoder (Base Architecture)"),r.a.createElement("div",null,r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.inputBox}},"Input"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.encoderBox}},"Encoder"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.latentBox}},"Latent Space"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.decoderBox}},"Decoder"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.outputBox}},"Output"))),r.a.createElement("p",{style:e.description},"Basic autoencoder: Encodes input to a compressed representation, then decodes it back.")),r.a.createElement("div",{style:e.section},r.a.createElement("h3",{style:e.sectionTitle},"Variational Autoencoder (VAE)"),r.a.createElement("p",{style:e.subtitle},"Modified by replacing the latent vector with a probabilistic distribution"),r.a.createElement("div",null,r.a.createElement("div",{style:e.architectureSimpleContainer},r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.inputBox}},"Input"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.encoderBox}},"Encoder")),r.a.createElement("div",{style:e.downArrow},"\u2193"),r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.meanBox}},"\u03bc (Mean)"),r.a.createElement("div",{style:{marginLeft:"16px",marginRight:"16px"}}),r.a.createElement("div",{style:{...e.box,...e.varBox}},"\u03c3\xb2 (Var)")),r.a.createElement("div",{style:{margin:"12px 0",fontSize:"20px",color:"#6b7280"}},"\u27f2"),r.a.createElement("div",{style:{...e.box,...e.samplingBox,marginBottom:"16px"}},"Sampling"),r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.decoderBox}},"Decoder"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.outputBox}},"Output")))),r.a.createElement("p",{style:e.description},"Difference from autoencoder: Encodes to distribution parameters (mean & variance) instead of fixed vector, enables sampling for generation.")),r.a.createElement("div",{style:e.section},r.a.createElement("h3",{style:e.sectionTitle},"U-Net"),r.a.createElement("p",{style:e.subtitle},"Modified by splitting encoder/decoder and adding skip connections"),r.a.createElement("div",null,r.a.createElement("div",{style:e.architectureSimpleContainer},r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.inputBox}},"Input"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.contractingBox}},"Contracting Path"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.deeperBox}},"Deeper Contraction"),r.a.createElement("div",{style:e.arrow},"\u2192"),r.a.createElement("div",{style:{...e.box,...e.bottleneckBox}},"Bottleneck")),r.a.createElement("div",{style:e.skipConnectionsLabel},"Skip Connections (New in U-Net)"),r.a.createElement("div",{style:e.flowContainer},r.a.createElement("div",{style:{...e.box,...e.outputBox}},"Output"),r.a.createElement("div",{style:e.arrow},"\u2190"),r.a.createElement("div",{style:{...e.box,...e.furtherBox}},"Further Expansion"),r.a.createElement("div",{style:e.arrow},"\u2190"),r.a.createElement("div",{style:{...e.box,...e.expandingBox}},"Expanding Path"),r.a.createElement("div",{style:e.arrow},"\u2190"),r.a.createElement("div",{style:{opacity:0,width:"48px"}})))),r.a.createElement("p",{style:e.description},"Difference from autoencoder: Splits encoder/decoder into multiple stages and adds skip connections to preserve spatial information."))),r.a.createElement("div",{style:e.keyPoints},r.a.createElement("h2",{style:e.keyPointsTitle},"Key Points:"),r.a.createElement("ul",{style:{paddingLeft:"20px"}},r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"600"}},"Autoencoder"),": Basic encoder-bottleneck-decoder structure"),r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"600"}},"VAE"),": Adds probabilistic sampling through mean and variance parameters"),r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"600"}},"U-Net"),": Adds skip connections between corresponding encoder and decoder layers")),r.a.createElement("h2",{style:e.keyComponentsTitle},"Key Component Differences:"),r.a.createElement("div",{style:e.detailsContainer},r.a.createElement("h3",{style:e.componentTitle},"Latent Space vs Distribution vs Bottleneck"),r.a.createElement("div",{style:e.termList},r.a.createElement("div",{style:e.term},"Latent Space (Autoencoder)"),r.a.createElement("div",{style:e.definition},"A fixed, deterministic compressed representation of the input. Each input maps to exactly one point in the latent space."),r.a.createElement("div",{style:e.term},"Mean & Variance (VAE)"),r.a.createElement("div",{style:e.definition},"Instead of encoding to a fixed vector, VAEs encode to parameters of a probability distribution (usually Gaussian). This creates a ",r.a.createElement("em",null,"distribution")," over the latent space rather than a single point."),r.a.createElement("div",{style:e.term},"Sampling (VAE)"),r.a.createElement("div",{style:e.definition},"The VAE randomly samples from the probability distribution to generate a latent vector. This enables the generative capability: different samples give different outputs even for the same input."),r.a.createElement("div",{style:e.term},"Bottleneck (U-Net)"),r.a.createElement("div",{style:e.definition},"Similar to the latent space but usually preserves spatial structure. The bottleneck in U-Net is the most compressed representation but typically retains spatial dimensions, unlike the flattened vector in standard autoencoders.")),r.a.createElement("h3",{style:e.componentTitle},"Skip Connections (U-Net)"),r.a.createElement("p",null,"Direct paths that allow information to flow from encoder to decoder layers at the same level. They help preserve fine spatial details that would otherwise be lost during compression, making U-Net excellent for tasks requiring precise localization (like image segmentation)."))))},v=a(649),w=a(1),N=a(339);var k=()=>{const[e,t]=Object(n.useState)({a:1,b:-1,c:0}),[a,l]=Object(n.useState)(null),[i,o]=Object(n.useState)(null),[s,m]=Object(n.useState)(null),[c,d]=Object(n.useState)([]),[p,u]=Object(n.useState)(4),[g,h]=Object(n.useState)(0),[f,x]=Object(n.useState)(3),E=Object(n.useRef)(null),b=Object(n.useRef)(null),y=Object(n.useRef)(null),k=Object(n.useRef)(null),C=Object(n.useRef)(null),S=[["2 * a","0"],["0","-2 * b"]],M=e=>{const[t,a]=e,n=B(t,a),r=z(n);return r.every(e=>e>0)?"minimum":r.every(e=>e<0)?"maximum":"saddle"},B=(t,a)=>{const n={x:t,y:a,...e};return S.map(e=>e.map(e=>v.a(e,n)))},z=e=>{const t=e[0][0],a=e[0][1],n=e[1][0],r=e[1][1],l=t+r,i=t*r-a*n,o=Math.sqrt(l*l-4*i);return[(l+o)/2,(l-o)/2]},L=(e,t,a,n,r)=>{const l=document.createElement("canvas"),i=l.getContext("2d");l.width=100,l.height=50,i.fillStyle="#ffffff",i.fillRect(0,0,l.width,l.height),i.font="24px Arial",i.fillStyle="#"+r.toString(16).padStart(6,"0"),i.textAlign="center",i.textBaseline="middle",i.fillText(e,l.width/2,l.height/2);const o=new w.nd(l);o.needsUpdate=!0;const s=new w.gd({map:o}),m=new w.fd(s);return m.position.set(t,a,n),m.scale.set(.8,.4,1),m},A=()=>{if(!b.current)return;const t=b.current.getObjectByName("functionSurface");t&&b.current.remove(t);const a=b.current.children.slice();for(let e=0;e<a.length;e++){const t=a[e];t.userData&&t.userData.isCriticalPoint&&b.current.remove(t)}const n=new w.p,r=[],l=[],i=[];let o=1/0,s=-1/0;for(let d=0;d<=40;d++)for(let t=0;t<=40;t++){const a={x:d/40*4-2,y:t/40*4-2,...e},n=v.a("(a * x^2) - (b * y^2) + c",a);o=Math.min(o,n),s=Math.max(s,n)}for(let d=0;d<=40;d++)for(let t=0;t<=40;t++){const a=d/40*4-2,n=t/40*4-2,m={x:a,y:n,...e},c=v.a("(a * x^2) - (b * y^2) + c",m);r.push(a,c,n);const p=(c-o)/(s-o||1),u=p,g=.2,h=1-p;if(l.push(u,g,h),d<40&&t<40){const e=41*d+t,a=41*d+(t+1),n=41*(d+1)+t,r=41*(d+1)+(t+1);i.push(e,a,n),i.push(n,a,r)}}n.setAttribute("position",new w.V(r,3)),n.setAttribute("color",new w.V(l,3)),n.setIndex(i),n.computeVertexNormals();const m=new w.Ab({vertexColors:!0,side:w.M,shininess:30}),c=new w.wb(n,m);c.name="functionSurface";(()=>{const e={x:0,y:0,type:M([0,0])};return d([e]),[e]})().forEach(t=>{const a={x:t.x,y:t.y,...e},n=v.a("(a * x^2) - (b * y^2) + c",a);let r;r="minimum"===t.type?65280:"maximum"===t.type?16711680:16776960;const l=new w.ed(.2,16,16),i=new w.Ab({color:r}),o=new w.wb(l,i);o.position.set(t.x,n,t.y),o.userData={isCriticalPoint:!0,point:{x:t.x,y:t.y,z:n,type:t.type}},b.current.add(o);const s=B(t.x,t.y),m=z(s),c=((e,t)=>{const a=[];for(let n=0;n<t.length;n++){const r=t[n],l=e[0][0],i=e[0][1],o=e[1][0],s=e[1][1];let m;m=Math.abs(i)>1e-10?[i,r-l]:Math.abs(o)>1e-10?[r-s,o]:0===n?[1,0]:[0,1];const c=Math.sqrt(m[0]*m[0]+m[1]*m[1]);m=[m[0]/c,m[1]/c],a.push(m)}return a})(s,m);for(let e=0;e<c.length;e++){const a=c[e],r=m[e],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]),i=[a[0]/l,a[1]/l],o=1.5,s=r>0?43775:16750848,d=new w.k(new w.Ad(i[0],0,i[1]),new w.Ad(t.x,n+.2,t.y),o,s,.5,.25),p=L(r.toFixed(2),t.x+i[0]*(o+.2),n+.4,t.y+i[1]*(o+.2),s);d.userData={isCriticalPoint:!0},p.userData={isCriticalPoint:!0},b.current.add(d),b.current.add(p)}}),b.current.add(c)};return Object(n.useEffect)(()=>{if(!E.current)return;const e=new w.bd;e.background=new w.t(15790320),b.current=e;const t=E.current.clientWidth,a=E.current.clientHeight,n=new w.dc(75,t/a,.1,1e3);k.current=n;const r=()=>{k.current&&(k.current.position.x=Math.sin(g)*p,k.current.position.z=Math.cos(g)*p,k.current.position.y=f,k.current.lookAt(0,0,0))};r();const l=new N.a({antialias:!0});for(l.setSize(t,a),y.current=l;E.current.firstChild;)E.current.removeChild(E.current.firstChild);E.current.appendChild(l.domElement);const i=new w.i(16777215,.6);e.add(i);const o=new w.L(16777215,.8);o.position.set(1,1,1),e.add(o);const s=new w.l(2);e.add(s);const m=(t,a,n)=>{const r=document.createElement("canvas"),l=r.getContext("2d");r.width=64,r.height=32,l.fillStyle="#ffffff",l.fillRect(0,0,r.width,r.height),l.font="bold 24px Arial",l.fillStyle=n,l.textAlign="center",l.textBaseline="middle",l.fillText(t,r.width/2,r.height/2);const i=new w.nd(r);i.needsUpdate=!0;const o=new w.gd({map:i}),s=new w.fd(o);s.position.set(...a),s.scale.set(.5,.25,1),e.add(s)};m("X",[2.2,0,0],"#ff0000"),m("Y",[0,0,2.2],"#0000ff"),m("Z",[0,2.2,0],"#00aa00"),A();const c=()=>{y.current&&b.current&&k.current&&(C.current=requestAnimationFrame(c),r(),l.render(e,n))};c();const d=()=>{if(!E.current||!y.current||!k.current)return;const e=E.current.clientWidth,t=E.current.clientHeight;k.current.aspect=e/t,k.current.updateProjectionMatrix(),y.current.setSize(e,t)};return window.addEventListener("resize",d),()=>{if(window.removeEventListener("resize",d),C.current&&cancelAnimationFrame(C.current),y.current&&y.current.dispose(),E.current)for(;E.current.firstChild;)E.current.removeChild(E.current.firstChild)}},[p,g,f]),Object(n.useEffect)(()=>{b.current&&A()},[e]),r.a.createElement("div",{className:"p-4 max-w-4xl mx-auto"},r.a.createElement("h1",{className:"text-2xl font-bold mb-4"},"Hessian Matrix & Eigenvalue Visualization"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.a.createElement("div",{className:"md:col-span-2 bg-gray-100 p-4 rounded-lg"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"3D Saddle Function Visualization"),r.a.createElement("div",{className:"mb-4 text-sm"},r.a.createElement("p",null,"Function: f(x, y) = ","(a * x^2) - (b * y^2) + c".replace(/\*/g,"\xb7")),r.a.createElement("p",{className:"mt-2"},r.a.createElement("span",{className:"font-medium"},"Critical Points:"),r.a.createElement("span",{className:"ml-2 p-1 bg-green-500 text-white rounded"},"Minimum"),r.a.createElement("span",{className:"ml-2 p-1 bg-red-500 text-white rounded"},"Maximum"),r.a.createElement("span",{className:"ml-2 p-1 bg-yellow-500 text-white rounded"},"Saddle")),r.a.createElement("p",{className:"mt-1"},r.a.createElement("span",{className:"font-medium"},"Arrows:"),r.a.createElement("span",{className:"ml-2 p-1 bg-blue-500 text-white rounded"},"Positive eigenvalue"),r.a.createElement("span",{className:"ml-2 p-1 bg-orange-500 text-white rounded"},"Negative eigenvalue"))),r.a.createElement("div",{className:"flex justify-center space-x-4 mb-4"},r.a.createElement("div",{className:"flex flex-col items-center"},r.a.createElement("span",{className:"text-sm font-medium mb-1"},"Zoom"),r.a.createElement("div",{className:"flex flex-col space-y-2"},r.a.createElement("button",{className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{u(e=>Math.max(2,e-.5))}},"Zoom In"),r.a.createElement("button",{className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{u(e=>Math.min(8,e+.5))}},"Zoom Out"))),r.a.createElement("div",{className:"flex flex-col items-center"},r.a.createElement("span",{className:"text-sm font-medium mb-1"},"Rotate"),r.a.createElement("div",{className:"flex flex-col space-y-2"},r.a.createElement("div",{className:"flex space-x-2"},r.a.createElement("button",{className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>{h(e=>e-.2)}},"\u2190"),r.a.createElement("button",{className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>{h(e=>e+.2)}},"\u2192")))),r.a.createElement("div",{className:"flex flex-col items-center"},r.a.createElement("span",{className:"text-sm font-medium mb-1"},"Height"),r.a.createElement("div",{className:"flex flex-col space-y-2"},r.a.createElement("button",{className:"px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600",onClick:()=>{x(e=>Math.min(6,e+.5))}},"Up"),r.a.createElement("button",{className:"px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600",onClick:()=>{x(e=>Math.max(1,e-.5))}},"Down")))),r.a.createElement("div",{ref:E,className:"w-full h-64 md:h-96 border border-gray-300",style:{minHeight:"300px"}})),r.a.createElement("div",{className:"bg-gray-100 p-4 rounded-lg"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"Parameters"),r.a.createElement("div",{className:"mt-4 p-3 border border-blue-300 rounded-lg"},r.a.createElement("h3",{className:"font-medium mb-2 text-center"},"Fine-Tuning Controls"),r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("label",{className:"text-sm font-medium"},"Parameter a:"),r.a.createElement("input",{type:"number",min:"-5",max:"5",step:"0.1",value:e.a,onChange:a=>t({...e,a:parseFloat(a.target.value)}),className:"w-20 p-1 border rounded text-right"})),r.a.createElement("input",{type:"range",min:"-5",max:"5",step:"0.1",value:e.a,onChange:a=>t({...e,a:parseFloat(a.target.value)}),className:"w-full mt-1"}),r.a.createElement("p",{className:"text-xs mt-1 text-gray-600"},"Controls curvature in x-direction. Positive values create upward curvature.")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("label",{className:"text-sm font-medium"},"Parameter b:"),r.a.createElement("input",{type:"number",min:"-5",max:"5",step:"0.1",value:e.b,onChange:a=>t({...e,b:parseFloat(a.target.value)}),className:"w-20 p-1 border rounded text-right"})),r.a.createElement("input",{type:"range",min:"-5",max:"5",step:"0.1",value:e.b,onChange:a=>t({...e,b:parseFloat(a.target.value)}),className:"w-full mt-1"}),r.a.createElement("p",{className:"text-xs mt-1 text-gray-600"},"Controls curvature in y-direction. Negative values create downward curvature.")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("label",{className:"text-sm font-medium"},"Parameter c:"),r.a.createElement("input",{type:"number",min:"-5",max:"5",step:"0.1",value:e.c,onChange:a=>t({...e,c:parseFloat(a.target.value)}),className:"w-20 p-1 border rounded text-right"})),r.a.createElement("input",{type:"range",min:"-5",max:"5",step:"0.1",value:e.c,onChange:a=>t({...e,c:parseFloat(a.target.value)}),className:"w-full mt-1"}),r.a.createElement("p",{className:"text-xs mt-1 text-gray-600"},"Vertical shift of the function (constant term).")),r.a.createElement("div",{className:"grid grid-cols-2 gap-2 mt-4"},r.a.createElement("button",{className:"p-2 bg-indigo-500 text-white rounded hover:bg-indigo-600",onClick:()=>t({a:1,b:-1,c:0})},"Perfect Saddle"),r.a.createElement("button",{className:"p-2 bg-indigo-500 text-white rounded hover:bg-indigo-600",onClick:()=>t({a:2,b:-.5,c:0})},"Stretched Saddle"),r.a.createElement("button",{className:"p-2 bg-indigo-500 text-white rounded hover:bg-indigo-600",onClick:()=>t({a:1,b:1,c:0})},"Bowl (Minimum)"),r.a.createElement("button",{className:"p-2 bg-indigo-500 text-white rounded hover:bg-indigo-600",onClick:()=>t({a:-1,b:-1,c:0})},"Hill (Maximum)"))),r.a.createElement("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg"},r.a.createElement("h3",{className:"font-medium mb-2"},"Hessian & Eigenvalues: Physical Meaning"),r.a.createElement("p",{className:"text-sm mb-2"},"The ",r.a.createElement("strong",null,"Hessian matrix")," contains the second-order partial derivatives that measure the function's curvature in different directions."),r.a.createElement("p",{className:"text-sm mb-2"},r.a.createElement("strong",null,"Eigenvalues")," represent the principal curvatures of the function at a point, regardless of coordinate system:"),r.a.createElement("ul",{className:"text-sm list-disc pl-5 space-y-1 mb-2"},r.a.createElement("li",null,r.a.createElement("span",{className:"text-blue-600 font-medium"},"Positive eigenvalue"),": Upward curvature (valley/bowl shape)"),r.a.createElement("li",null,r.a.createElement("span",{className:"text-orange-600 font-medium"},"Negative eigenvalue"),": Downward curvature (hill/dome shape)"),r.a.createElement("li",null,r.a.createElement("span",{className:"text-gray-600 font-medium"},"Zero eigenvalue"),": Flat direction (no curvature)")),r.a.createElement("p",{className:"text-sm"},"At a ",r.a.createElement("strong",null,"saddle point"),", eigenvalues have opposite signs, creating a surface that curves upward in some directions and downward in others - like a saddle or mountain pass.")))),a&&r.a.createElement("div",{className:"mt-4 bg-gray-100 p-4 rounded-lg"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"Point Analysis"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.a.createElement("div",null,r.a.createElement("h3",{className:"text-md font-medium mb-1"},"Selected Point:"),r.a.createElement("p",null,"x: ",a.x.toFixed(2),", y: ",a.y.toFixed(2),", z: ",a.z.toFixed(2))),i&&r.a.createElement("div",null,r.a.createElement("h3",{className:"text-md font-medium mb-1"},"Hessian Matrix:"),r.a.createElement("div",{className:"flex justify-center items-center"},r.a.createElement("div",{className:"border-2 border-gray-400 px-4 py-2"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-16 text-center"},i[0][0].toFixed(2)),r.a.createElement("div",{className:"w-16 text-center"},i[0][1].toFixed(2))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-16 text-center"},i[1][0].toFixed(2)),r.a.createElement("div",{className:"w-16 text-center"},i[1][1].toFixed(2)))))),s&&r.a.createElement("div",null,r.a.createElement("h3",{className:"text-md font-medium mb-1"},"Eigenvalues:"),r.a.createElement("p",null,"\u03bb\u2081: ",s[0].toFixed(2),", \u03bb\u2082: ",s[1].toFixed(2)),r.a.createElement("h3",{className:"text-md font-medium mt-2 mb-1"},"Critical Point Type:"),s[0]>0&&s[1]>0&&r.a.createElement("p",{className:"text-green-600 font-medium"},"Minimum (Both eigenvalues positive)"),s[0]<0&&s[1]<0&&r.a.createElement("p",{className:"text-red-600 font-medium"},"Maximum (Both eigenvalues negative)"),s[0]*s[1]<0&&r.a.createElement("p",{className:"text-yellow-600 font-medium"},"Saddle Point (Eigenvalues have opposite signs)")))),r.a.createElement("div",{className:"mt-4 bg-gray-100 p-4 rounded-lg"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"Understanding the Visualization"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.a.createElement("div",{className:"bg-white p-3 rounded-lg shadow-sm"},r.a.createElement("div",{className:"mb-2 text-center font-medium text-blue-600"},"Positive Eigenvalue"),r.a.createElement("div",{className:"bg-blue-50 h-24 rounded-lg flex items-center justify-center mb-2"},r.a.createElement("svg",{width:"100",height:"80",viewBox:"0 0 100 80"},r.a.createElement("path",{d:"M 10 40 Q 50 70 90 40",stroke:"#0088ff",fill:"none",strokeWidth:"3"}),r.a.createElement("text",{x:"35",y:"25",fill:"#0088ff",fontSize:"12"},"Upward curve"))),r.a.createElement("p",{className:"text-sm"},"The function curves ",r.a.createElement("strong",null,"upward")," in this direction (shown by blue arrows), creating a valley-like shape where the function increases as you move away from the critical point.")),r.a.createElement("div",{className:"bg-white p-3 rounded-lg shadow-sm"},r.a.createElement("div",{className:"mb-2 text-center font-medium text-orange-600"},"Negative Eigenvalue"),r.a.createElement("div",{className:"bg-orange-50 h-24 rounded-lg flex items-center justify-center mb-2"},r.a.createElement("svg",{width:"100",height:"80",viewBox:"0 0 100 80"},r.a.createElement("path",{d:"M 10 40 Q 50 10 90 40",stroke:"#ff8800",fill:"none",strokeWidth:"3"}),r.a.createElement("text",{x:"35",y:"55",fill:"#ff8800",fontSize:"12"},"Downward curve"))),r.a.createElement("p",{className:"text-sm"},"The function curves ",r.a.createElement("strong",null,"downward")," in this direction (shown by orange arrows), creating a hill-like shape where the function decreases as you move away from the critical point.")),r.a.createElement("div",{className:"bg-white p-3 rounded-lg shadow-sm"},r.a.createElement("div",{className:"mb-2 text-center font-medium text-yellow-600"},"Saddle Point"),r.a.createElement("div",{className:"bg-yellow-50 h-24 rounded-lg flex items-center justify-center mb-2"},r.a.createElement("svg",{width:"100",height:"80",viewBox:"0 0 100 80"},r.a.createElement("path",{d:"M 10 40 Q 50 10 90 40",stroke:"#ff8800",fill:"none",strokeWidth:"3",transform:"rotate(90 50 40)"}),r.a.createElement("path",{d:"M 10 40 Q 50 70 90 40",stroke:"#0088ff",fill:"none",strokeWidth:"3"}),r.a.createElement("circle",{cx:"50",cy:"40",r:"4",fill:"#ffcc00"}))),r.a.createElement("p",{className:"text-sm"},"A saddle point occurs when the Hessian has ",r.a.createElement("strong",null,"eigenvalues with opposite signs")," - the function curves upward in some directions and downward in others, creating a saddle-like shape."))),r.a.createElement("div",{className:"mt-4 bg-purple-50 p-3 rounded-lg"},r.a.createElement("h3",{className:"text-md font-medium mb-1"},"The Hessian Matrix in a Nutshell"),r.a.createElement("p",null,"The Hessian matrix at a point contains the second derivatives that describe how the function ",r.a.createElement("strong",null,"curves")," in different directions. The eigenvalues of this matrix determine whether a critical point is a minimum, maximum, or saddle point, regardless of which coordinate system we use."))))},C=a(304);const S="#3b82f6",M="#ef4444",B="#10b981",z="#8b5cf6",L=e=>{let{active:t,payload:a}=e;if(!t||!a||!a.length)return null;const n=a[0].payload;return r.a.createElement("div",{style:{backgroundColor:"white",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Step:")," ",n.step),a.map(e=>r.a.createElement("p",{key:e.dataKey},r.a.createElement("strong",null,e.name||e.dataKey,":")," ","number"===typeof e.value?e.value.toExponential(4):e.value)))};var A=()=>{const[e,t]=Object(n.useState)(4),[a,l]=Object(n.useState)(.002),[i,o]=Object(n.useState)(1e-4),[h,f]=Object(n.useState)(.2),[x,E]=Object(n.useState)(["constant","step","onecycle","cosine"]),b=Math.ceil(312.5)*e,[y,v]=Object(n.useState)([]),[w,N]=Object(n.useState)([]),[k,A]=Object(n.useState)(600),[T,F]=Object(n.useState)(300);Object(n.useEffect)(()=>{const e=()=>{var e;const t=Math.min((null===(e=document.getElementById("chart-container"))||void 0===e?void 0:e.clientWidth)||600,window.innerWidth-40);A(t),F(Math.max(300,Math.min(400,.5*window.innerHeight)))};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);return Object(n.useEffect)(()=>{const e=[],t=Math.floor(b*h);for(let n=0;n<=b;n+=Math.max(1,Math.floor(b/100))){const r={step:n};if(r.constant=a,r.step_decay=null,n<t)r.step_decay=i+n/t*(a-i);else{const e=t+Math.floor((b-t)/3),l=t+Math.floor(2*(b-t)/3);r.step_decay=n<e?a:n<l?.1*a:.01*a}if(n<t)r.onecycle=i+n/t*(a-i);else{const e=n-t,l=b-t,o=.5*(1+Math.cos(Math.PI*e/l));r.onecycle=i+(a-i)*o}if(n<t)r.cosine=i+n/t*(a-i);else{const e=n-t,l=b-t;r.cosine=.5*a*(1+Math.cos(Math.PI*e/l))}e.push(r)}v(e)},[e,b,a,i,h]),Object(n.useEffect)(()=>{if(0===y.length)return;const e=[];for(let t=0;t<=b;t+=Math.max(1,Math.floor(b/100))){const a=y.reduce((e,a)=>Math.abs(a.step-t)<Math.abs(e.step-t)?a:e,y[0]),n={step:t};x.forEach(e=>{"constant"===e?n.constant_loss=null:"step"===e?n.step_loss=null:"onecycle"===e?n.onecycle_loss=null:"cosine"===e&&(n.cosine_loss=null)}),x.forEach(e=>{const r="step"===e?a.step_decay:a[e];if(void 0===r||null===r)return;const l=Math.floor(b*h),i=l+Math.floor((b-l)/3),o=l+Math.floor(2*(b-l)/3);if("constant"===e){const e=Math.min(1,t/(.2*b)),a=Math.max(0,Math.min(1,(t-.2*b)/(.5*b))),r=.3*Math.sin(t/7)*a,l=.3*(Math.max(0,t-.7*b)/(.3*b));n.constant_loss=5*Math.exp(4*-e)+.75+r-l}else if("step"===e){let e=0,a=0;if(t<l)e=t/l*.4,a=.05*Math.sin(t/5);else if(t<i)e=.4+(t-l)/(i-l)*.1,a=.05*Math.sin(t/5);else if(t<i+10){e=.5+.15*((t-i)/10)}else if(t<o)e=.65+(t-(i+10))/(o-(i+10))*.05,a=.03*Math.sin(t/5);else if(t<o+10){e=.7+.1*((t-o)/10)}else e=.8+(t-(o+10))/(b-(o+10))*.1,a=.02*Math.sin(t/5);n.step_loss=5*Math.exp(3.5*-e)+.55+a}else if("onecycle"===e){let e=0,a=0;if(t<l)e=t/l*.4,a=.08*Math.random()*Math.exp(-t/l);else if(t<.6*b){const n=(t-l)/(.6*b-l);e=.4+.3*n,a=.05*Math.random()*(1-n)}else{e=.7+.2*((t-.6*b)/(.4*b)),a=.01*Math.random()}n.onecycle_loss=5*Math.exp(3.8*-e)+.525+a}else if("cosine"===e){let e=0,a=0;if(t<l)e=t/l*.35,a=.07*Math.random();else{const n=(t-l)/(b-l),r=Math.cos(Math.PI*n/2);e=.35+.6*(1-r),a=.04*Math.random()*r}n.cosine_loss=5*Math.exp(3.8*-e)+.45+a}}),Object.keys(n).forEach(e=>{if(e.includes("loss")&&null!==n[e]){const t=.05*(Math.random()-.5);n[e]+=t}}),e.push(n)}console.log("Generated loss data:",e.slice(0,3)),N(e)},[y,x,b,h,5,.5,.05]),r.a.createElement("div",{style:{padding:"16px",width:"100%",maxWidth:"900px",margin:"0 auto",backgroundColor:"#f9fafb",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.12)"}},r.a.createElement("h1",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"16px",textAlign:"center"}},"Learning Rate and Loss Visualizer"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"16px"}},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px"}},"Total Epochs: ",e),r.a.createElement("input",{type:"range",min:"1",max:"20",step:"1",value:e,onChange:e=>t(parseInt(e.target.value)),style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px"}},"Max Learning Rate: ",a.toExponential(4)),r.a.createElement("input",{type:"range",min:"0.0001",max:"0.01",step:"0.0001",value:a,onChange:e=>l(parseFloat(e.target.value)),style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px"}},"Warm-up Percentage: ",(100*h).toFixed(0),"%"),r.a.createElement("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:h,onChange:e=>f(parseFloat(e.target.value)),style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px"}},"Initial Learning Rate: ",i.toExponential(4)),r.a.createElement("input",{type:"range",min:"0.00001",max:"0.001",step:"0.00001",value:i,onChange:e=>o(parseFloat(e.target.value)),style:{width:"100%"}}))),r.a.createElement("div",{style:{width:"100%",backgroundColor:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"16px"}},r.a.createElement("h2",{style:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"8px"}},"Learning Rate Schedules"),r.a.createElement("div",{id:"chart-container",style:{width:"100%",height:T+"px",position:"relative",margin:"0 auto"}},y.length>0?r.a.createElement(s.a,{width:k,height:T,data:y,margin:{top:20,right:30,left:30,bottom:30}},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"step",type:"number",domain:[0,b],label:{value:"Training Steps",position:"bottom",offset:15}}),r.a.createElement(d.a,{tickFormatter:e=>e.toExponential(1),label:{value:"Learning Rate",angle:-90,position:"insideLeft",offset:-15}}),r.a.createElement(p.a,{content:r.a.createElement(L,null)}),r.a.createElement(u.a,{verticalAlign:"top",height:36,onClick:e=>{return t=e.dataKey.includes("loss")?e.dataKey.split("_")[0]:"step_decay"===e.dataKey?"step":e.dataKey,void(x.includes(t)?E(x.filter(e=>e!==t)):E([...x,t]));var t},wrapperStyle:{cursor:"pointer"}}),r.a.createElement(C.a,{x:Math.floor(b*h),stroke:"#64748b",strokeDasharray:"3 3",label:{value:"Warmup End",position:"insideBottomRight",fontSize:10}}),x.includes("constant")&&r.a.createElement(g.a,{type:"monotone",dataKey:"constant",name:"Constant",stroke:S,strokeWidth:2,dot:!1}),x.includes("step")&&r.a.createElement(g.a,{type:"monotone",dataKey:"step_decay",name:"Step Decay",stroke:M,strokeWidth:2,dot:!1}),x.includes("onecycle")&&r.a.createElement(g.a,{type:"monotone",dataKey:"onecycle",name:"OneCycle",stroke:B,strokeWidth:2,dot:!1}),x.includes("cosine")&&r.a.createElement(g.a,{type:"monotone",dataKey:"cosine",name:"Cosine",stroke:z,strokeWidth:2,dot:!1})):r.a.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement("p",{style:{color:"#6b7280"}},"Loading chart data...")))),r.a.createElement("div",{style:{width:"100%",backgroundColor:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"16px"}},r.a.createElement("h2",{style:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"8px"}},"Loss Trajectories"),r.a.createElement("p",{style:{fontSize:"0.875rem",color:"#4b5563",marginBottom:"12px"}},"See how different learning rate schedules affect model convergence:"),r.a.createElement("div",{id:"loss-chart-container",style:{width:"100%",height:T+"px",position:"relative",margin:"0 auto"}},w.length>0?r.a.createElement(s.a,{width:k,height:T,data:w,margin:{top:20,right:30,left:30,bottom:30}},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"step",type:"number",domain:[0,b],label:{value:"Training Steps",position:"bottom",offset:15}}),r.a.createElement(d.a,{label:{value:"Loss",angle:-90,position:"insideLeft",offset:-15}}),r.a.createElement(p.a,{content:r.a.createElement(L,null)}),r.a.createElement(u.a,{verticalAlign:"top",height:36}),r.a.createElement(C.a,{x:Math.floor(b*h),stroke:"#64748b",strokeDasharray:"3 3",label:{value:"Warmup End",position:"insideBottomRight",fontSize:10}}),x.includes("step")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{x:Math.floor(b*h)+Math.floor((b-Math.floor(b*h))/3),stroke:M,strokeDasharray:"3 3",label:{value:"LR Drop 1",position:"insideTopRight",fontSize:9,fill:M}}),r.a.createElement(C.a,{x:Math.floor(b*h)+Math.floor(2*(b-Math.floor(b*h))/3),stroke:M,strokeDasharray:"3 3",label:{value:"LR Drop 2",position:"insideTopRight",fontSize:9,fill:M}})),r.a.createElement(C.a,{x:Math.floor(.6*b),stroke:"#64748b",strokeDasharray:"2 4",label:{value:"Fine-tuning Phase",position:"insideTopLeft",fontSize:10}}),x.includes("constant")&&r.a.createElement(g.a,{type:"monotone",dataKey:"constant_loss",name:"Constant Loss",stroke:S,strokeWidth:2,dot:!1,connectNulls:!0}),x.includes("step")&&r.a.createElement(g.a,{type:"monotone",dataKey:"step_loss",name:"Step Loss",stroke:M,strokeWidth:2,dot:!1,connectNulls:!0}),x.includes("onecycle")&&r.a.createElement(g.a,{type:"monotone",dataKey:"onecycle_loss",name:"OneCycle Loss",stroke:B,strokeWidth:2,dot:!1,connectNulls:!0}),x.includes("cosine")&&r.a.createElement(g.a,{type:"monotone",dataKey:"cosine_loss",name:"Cosine Loss",stroke:z,strokeWidth:2,dot:!1,connectNulls:!0}),x.includes("constant")&&r.a.createElement(C.a,{y:.75,stroke:S,strokeDasharray:"2 4",label:{value:"Constant: Oscillations",position:"insideBottomRight",fontSize:9,fill:S}}),x.includes("step")&&r.a.createElement(C.a,{y:.55,stroke:M,strokeDasharray:"2 4",label:{value:"Step: Plateaus & jumps",position:"right",fontSize:9,fill:M}}),x.includes("onecycle")&&r.a.createElement(C.a,{y:.525,stroke:B,strokeDasharray:"2 4",label:{value:"OneCycle: Balanced",position:"right",fontSize:9,fill:B}}),x.includes("cosine")&&r.a.createElement(C.a,{y:.45,stroke:z,strokeDasharray:"2 4",label:{value:"Cosine: Best final loss",position:"left",fontSize:9,fill:z}})):r.a.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement("p",{style:{color:"#6b7280"}},"Loading chart data...")))),r.a.createElement("div",{style:{width:"100%",backgroundColor:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},r.a.createElement("h2",{style:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"8px"}},"How Learning Rate Affects Training"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px",fontSize:"0.875rem"}},r.a.createElement("div",{style:{padding:"12px",backgroundColor:"#F3F4F6",borderRadius:"4px",marginBottom:"8px"}},r.a.createElement("h3",{style:{fontWeight:"600",marginBottom:"8px"}},"LR Schedule Comparison:"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"}},r.a.createElement("div",{style:{padding:"8px",borderRadius:"4px",backgroundColor:S+"15",border:`1px solid ${S}30`}},r.a.createElement("h4",{style:{fontWeight:"500",marginBottom:"4px",color:S}},"Constant LR"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Fast initial training"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Simple implementation"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Oscillations near minimum"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Never reaches optimal loss")),r.a.createElement("div",{style:{padding:"8px",borderRadius:"4px",backgroundColor:M+"15",border:`1px solid ${M}30`}},r.a.createElement("h4",{style:{fontWeight:"500",marginBottom:"4px",color:M}},"Step Decay"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Predictable improvement stages"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Good plateau escape"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Stagnation between drops"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Requires manual scheduling")),r.a.createElement("div",{style:{padding:"8px",borderRadius:"4px",backgroundColor:B+"15",border:`1px solid ${B}30`}},r.a.createElement("h4",{style:{fontWeight:"500",marginBottom:"4px",color:B}},"OneCycle"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Balanced exploration & refinement"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Good generalization"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Reliable performance"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Slightly slower final convergence")),r.a.createElement("div",{style:{padding:"8px",borderRadius:"4px",backgroundColor:z+"15",border:`1px solid ${z}30`}},r.a.createElement("h4",{style:{fontWeight:"500",marginBottom:"4px",color:z}},"Cosine Annealing"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Smoothest decay profile"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Best final loss value"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4d Precision fine-tuning"),r.a.createElement("p",{style:{fontSize:"0.75rem",marginBottom:"4px"}},"\ud83d\udc4e Slower mid-training progress")))))))};var T=()=>{const[e,t]=Object(n.useState)("batch"),[a,l]=Object(n.useState)(null),[i,o]=Object(n.useState)([]),[s,m]=Object(n.useState)([]),[c,d]=Object(n.useState)(!0);Object(n.useEffect)(()=>{o([[5,1,7,2],[9,8,2,6],[3,4,7,8]])},[]),Object(n.useEffect)(()=>{i.length>0&&p()},[i,e]);const p=()=>{const t=[],a=i.length,n=i[0].length;if("batch"===e)for(let e=0;e<a;e++){const r=[];for(let t=0;t<n;t++){const n=i.map(e=>e[t]),l=n.reduce((e,t)=>e+t,0)/a,o=n.reduce((e,t)=>e+Math.pow(t-l,2),0)/a,s=Math.sqrt(o+1e-5),m=((i[e][t]-l)/s).toFixed(2);r.push(parseFloat(m))}t.push(r)}else if("layer"===e)for(let e=0;e<a;e++){const a=[],r=i[e],l=r.reduce((e,t)=>e+t,0)/n,o=r.reduce((e,t)=>e+Math.pow(t-l,2),0)/n,s=Math.sqrt(o+1e-5);for(let t=0;t<n;t++){const n=((i[e][t]-l)/s).toFixed(2);a.push(parseFloat(n))}t.push(a)}else if("group"===e){const e=2;for(let r=0;r<a;r++){const a=[];for(let t=0;t<n/e;t++){const l=t*e,o=Math.min((t+1)*e,n),s=[];for(let e=l;e<o;e++)s.push(i[r][e]);const m=s.reduce((e,t)=>e+t,0)/s.length,c=s.reduce((e,t)=>e+Math.pow(t-m,2),0)/s.length,d=Math.sqrt(c+1e-5);for(let e=l;e<o;e++){const t=((i[r][e]-m)/d).toFixed(2);a.push(parseFloat(t))}}t.push(a)}}m(t)},u=(t,n)=>t&&0!==t.length?r.a.createElement("div",{className:"matrix-container"},r.a.createElement("table",{className:"border-collapse"},c&&r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"w-16"}),t[0].map((t,a)=>r.a.createElement("th",{key:a,className:"w-16 text-center text-sm font-medium p-2"},"Feature ",a+1,"group"===e&&r.a.createElement("div",{className:"text-xs mt-1 "+(a<2?"text-purple-700":"text-indigo-700")},"Group ",Math.floor(a/2)+1))))),r.a.createElement("tbody",null,t.map((t,i)=>r.a.createElement("tr",{key:i},c&&r.a.createElement("td",{className:"text-right text-sm font-medium p-2"},"Sample ",i+1),t.map((t,o)=>{const s=((t,n,r)=>{if(!a)return"";const[l,i]=a;if("batch"===e)return n===i?r?"bg-blue-200":"bg-blue-100":"";if("layer"===e)return t===l?r?"bg-green-200":"bg-green-100":"";if("group"===e){const e=2,a=Math.floor(i/e),o=Math.floor(n/e);return t===l&&o===a?r?"bg-purple-200":"bg-purple-100":""}return""})(i,o,n),m=a&&a[0]===i&&a[1]===o?n?"border-gray-800":"border-gray-600":"border-gray-300",c=(t=>{if("group"!==e)return"";return 0===Math.floor(t/2)?"bg-purple-50":"bg-indigo-50"})(o);return r.a.createElement("td",{key:o,className:`w-16 h-16 border ${m} text-center ${s} ${c} cursor-pointer hover:bg-gray-100`,onClick:()=>l([i,o])},t)})))))):null;return r.a.createElement("div",{className:"p-4 max-w-4xl mx-auto"},r.a.createElement("h1",{className:"text-2xl font-bold mb-4"},"Normalization Techniques: Simplified Matrix Visualization"),r.a.createElement("div",{className:"mb-6"},r.a.createElement("div",{className:"flex space-x-4"},r.a.createElement("button",{className:"px-4 py-2 rounded "+("batch"===e?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>t("batch")},"Batch Normalization"),r.a.createElement("button",{className:"px-4 py-2 rounded "+("layer"===e?"bg-green-500 text-white":"bg-gray-200"),onClick:()=>t("layer")},"Layer Normalization"),r.a.createElement("button",{className:"px-4 py-2 rounded "+("group"===e?"bg-purple-500 text-white":"bg-gray-200"),onClick:()=>t("group")},"Group Normalization"))),r.a.createElement("div",{className:"mb-6"},r.a.createElement("div",{className:"bg-gray-100 p-4 rounded"},r.a.createElement("h3",{className:"text-lg font-medium mb-2"},"Matrix Format Explanation"),r.a.createElement("p",{className:"mb-2"},r.a.createElement("span",{className:"font-medium"},"Samples:")," Each ",r.a.createElement("span",{className:"font-medium"},"row")," represents a training/testing data point (sample). In neural networks, this would be one input example in a batch."),r.a.createElement("p",{className:"mb-2"},r.a.createElement("span",{className:"font-medium"},"Features:")," Each ",r.a.createElement("span",{className:"font-medium"},"column")," represents a dimension or attribute of the data. In neural networks, these are activation values at a particular layer."),r.a.createElement("p",{className:"mb-2"},r.a.createElement("span",{className:"font-medium"},"Group Normalization:")," Features are divided into groups (indicated by different colors and G1/G2 labels). Each group is normalized independently within each sample."),r.a.createElement("div",{className:"mt-3 flex items-center mb-2"},r.a.createElement("span",{className:"inline-block w-4 h-4 bg-purple-50 border border-gray-300 mr-2"}),r.a.createElement("span",{className:"mr-4"},"Group 1"),r.a.createElement("span",{className:"inline-block w-4 h-4 bg-indigo-50 border border-gray-300 mr-2"}),r.a.createElement("span",null,"Group 2")),r.a.createElement("p",null,"Click any cell to see which values are used in its normalization calculation.")),r.a.createElement("div",{className:"flex justify-between mt-4"},r.a.createElement("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:()=>d(!c)},c?"Hide Labels":"Show Labels"))),r.a.createElement("div",{className:"grid grid-cols-2 gap-8 mb-6"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-medium mb-3"},"Input Matrix"),i.length>0&&u(i,!0)),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-medium mb-3"},"Normalized Matrix"),s.length>0&&u(s,!1))),r.a.createElement("div",{className:"mb-6"},(()=>{if(!a)return r.a.createElement("div",{className:"p-4 text-center bg-gray-100 rounded"},r.a.createElement("p",null,"Select any cell to see calculation details"));const[t,n]=a,l=i.length,o=i[0].length;let m=null;if("batch"===e){const e=i.map(e=>e[n]),a=e.reduce((e,t)=>e+t,0)/l,o=e.reduce((e,t)=>e+Math.pow(t-a,2),0)/l,c=Math.sqrt(o+1e-5);m=r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Batch Normalization Calculation:"),r.a.createElement("p",null,"For feature ",n+1,", we compute statistics across all examples (rows):"),r.a.createElement("p",null,"Values across batch: [",e.join(", "),"]"),r.a.createElement("p",null,"Mean (\u03bc): ",a.toFixed(2)),r.a.createElement("p",null,"Standard deviation (\u03c3): ",c.toFixed(2)),r.a.createElement("p",{className:"mt-2 font-medium"},"Formula for example ",t+1,", feature ",n+1,":"),r.a.createElement("p",null,"(x - \u03bc) / \u03c3 = (",i[t][n]," - ",a.toFixed(2),") / ",c.toFixed(2)," = ",s[t][n]))}else if("layer"===e){const e=i[t],a=e.reduce((e,t)=>e+t,0)/o,l=e.reduce((e,t)=>e+Math.pow(t-a,2),0)/o,c=Math.sqrt(l+1e-5);m=r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Layer Normalization Calculation:"),r.a.createElement("p",null,"For example ",t+1,", we compute statistics across all features (columns):"),r.a.createElement("p",null,"Values across features: [",e.join(", "),"]"),r.a.createElement("p",null,"Mean (\u03bc): ",a.toFixed(2)),r.a.createElement("p",null,"Standard deviation (\u03c3): ",c.toFixed(2)),r.a.createElement("p",{className:"mt-2 font-medium"},"Formula for example ",t+1,", feature ",n+1,":"),r.a.createElement("p",null,"(x - \u03bc) / \u03c3 = (",i[t][n]," - ",a.toFixed(2),") / ",c.toFixed(2)," = ",s[t][n]))}else if("group"===e){const e=2,a=Math.floor(n/e),l=a*e,c=Math.min((a+1)*e,o),d=[];for(let n=l;n<c;n++)d.push(i[t][n]);const p=d.reduce((e,t)=>e+t,0)/d.length,u=d.reduce((e,t)=>e+Math.pow(t-p,2),0)/d.length,g=Math.sqrt(u+1e-5);m=r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Group Normalization Calculation:"),r.a.createElement("p",null,"For example ",t+1,", group ",a+1," (features ",l+1,"-",c,"):"),r.a.createElement("p",null,"Values in this group: [",d.join(", "),"]"),r.a.createElement("p",null,"Mean (\u03bc): ",p.toFixed(2)),r.a.createElement("p",null,"Standard deviation (\u03c3): ",g.toFixed(2)),r.a.createElement("p",{className:"mt-2 font-medium"},"Formula for example ",t+1,", feature ",n+1,":"),r.a.createElement("p",null,"(x - \u03bc) / \u03c3 = (",i[t][n]," - ",p.toFixed(2),") / ",g.toFixed(2)," = ",s[t][n]))}return r.a.createElement("div",{className:"p-4 bg-gray-100 rounded"},m)})()),"batch"===e?r.a.createElement("div",{className:"p-4 bg-blue-50 rounded"},r.a.createElement("h3",{className:"text-lg font-medium mb-2"},"Batch Normalization"),r.a.createElement("div",{className:"flex justify-center mb-4"},r.a.createElement("svg",{width:"320",height:"180",viewBox:"0 0 320 180"},r.a.createElement("rect",{x:"10",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"70",y:"30",textAnchor:"middle",fontSize:"14"},"Input Matrix"),r.a.createElement("rect",{x:"40",y:"40",width:"20",height:"120",fill:"#90cdf4",stroke:"#3182ce"}),r.a.createElement("rect",{x:"70",y:"40",width:"20",height:"120",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"100",y:"40",width:"20",height:"120",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("path",{d:"M 140 90 L 180 90",stroke:"#666",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},r.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#666"}))),r.a.createElement("rect",{x:"190",y:"65",width:"120",height:"50",fill:"#bee3f8",rx:"5",ry:"5",stroke:"#3182ce"}),r.a.createElement("text",{x:"250",y:"85",textAnchor:"middle",fontSize:"12"},"Compute \u03bc, \u03c3"),r.a.createElement("text",{x:"250",y:"105",textAnchor:"middle",fontSize:"12"},"for each column"),r.a.createElement("rect",{x:"190",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"250",y:"30",textAnchor:"middle",fontSize:"14"},"Normalized Matrix"),r.a.createElement("rect",{x:"220",y:"40",width:"20",height:"120",fill:"#bfdbfe",stroke:"#3182ce"}),r.a.createElement("rect",{x:"250",y:"40",width:"20",height:"120",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"280",y:"40",width:"20",height:"120",fill:"#e6e6e6",stroke:"#666"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Key Idea:"),r.a.createElement("p",null,"Normalizes each feature (column) independently across all examples (rows) in the batch."),r.a.createElement("p",{className:"mt-2"},"Formula: (x - \u03bc\u1d66) / \u03c3\u1d66, where \u03bc\u1d66 and \u03c3\u1d66 are calculated for each feature across the batch."),r.a.createElement("p",{className:"mt-2"},"Use Cases:"),r.a.createElement("ul",{className:"list-disc pl-5"},r.a.createElement("li",null,"CNNs with large batch sizes"),r.a.createElement("li",null,"Deep networks where internal covariate shift is a problem"),r.a.createElement("li",null,"Most common normalization technique in computer vision")))):"layer"===e?r.a.createElement("div",{className:"p-4 bg-green-50 rounded"},r.a.createElement("h3",{className:"text-lg font-medium mb-2"},"Layer Normalization"),r.a.createElement("div",{className:"flex justify-center mb-4"},r.a.createElement("svg",{width:"320",height:"180",viewBox:"0 0 320 180"},r.a.createElement("rect",{x:"10",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"70",y:"30",textAnchor:"middle",fontSize:"14"},"Input Matrix"),r.a.createElement("rect",{x:"40",y:"50",width:"80",height:"20",fill:"#9ae6b4",stroke:"#38a169"}),r.a.createElement("rect",{x:"40",y:"80",width:"80",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"40",y:"110",width:"80",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("path",{d:"M 140 90 L 180 90",stroke:"#666",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},r.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#666"}))),r.a.createElement("rect",{x:"190",y:"65",width:"120",height:"50",fill:"#c6f6d5",rx:"5",ry:"5",stroke:"#38a169"}),r.a.createElement("text",{x:"250",y:"85",textAnchor:"middle",fontSize:"12"},"Compute \u03bc, \u03c3"),r.a.createElement("text",{x:"250",y:"105",textAnchor:"middle",fontSize:"12"},"for each row"),r.a.createElement("rect",{x:"190",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"250",y:"30",textAnchor:"middle",fontSize:"14"},"Normalized Matrix"),r.a.createElement("rect",{x:"220",y:"50",width:"80",height:"20",fill:"#d1fae5",stroke:"#38a169"}),r.a.createElement("rect",{x:"220",y:"80",width:"80",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"220",y:"110",width:"80",height:"20",fill:"#e6e6e6",stroke:"#666"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Key Idea:"),r.a.createElement("p",null,"Normalizes all features (columns) together for each example (row) independently."),r.a.createElement("p",{className:"mt-2"},"Formula: (x - \u03bc\u2097) / \u03c3\u2097, where \u03bc\u2097 and \u03c3\u2097 are calculated for all features in each example."),r.a.createElement("p",{className:"mt-2"},"Use Cases:"),r.a.createElement("ul",{className:"list-disc pl-5"},r.a.createElement("li",null,"RNNs and Transformers"),r.a.createElement("li",null,"NLP tasks"),r.a.createElement("li",null,"When batch size is small or varies"),r.a.createElement("li",null,"Sequence modeling where sequence length varies")))):"group"===e?r.a.createElement("div",{className:"p-4 bg-purple-50 rounded"},r.a.createElement("h3",{className:"text-lg font-medium mb-2"},"Group Normalization"),r.a.createElement("div",{className:"flex justify-center mb-4"},r.a.createElement("svg",{width:"320",height:"180",viewBox:"0 0 320 180"},r.a.createElement("rect",{x:"10",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"70",y:"30",textAnchor:"middle",fontSize:"14"},"Input Matrix"),r.a.createElement("rect",{x:"40",y:"50",width:"40",height:"20",fill:"#d8b4fe",stroke:"#7e22ce"}),r.a.createElement("rect",{x:"80",y:"50",width:"40",height:"20",fill:"#c4b5fd",stroke:"#6d28d9"}),r.a.createElement("rect",{x:"40",y:"80",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"80",y:"80",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"40",y:"110",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"80",y:"110",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("path",{d:"M 140 90 L 180 90",stroke:"#666",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},r.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#666"}))),r.a.createElement("rect",{x:"190",y:"50",width:"120",height:"80",fill:"#f3e8ff",rx:"5",ry:"5",stroke:"#7e22ce"}),r.a.createElement("text",{x:"250",y:"70",textAnchor:"middle",fontSize:"12"},"Compute \u03bc\u2081, \u03c3\u2081"),r.a.createElement("text",{x:"250",y:"85",textAnchor:"middle",fontSize:"12"},"for group 1"),r.a.createElement("text",{x:"250",y:"105",textAnchor:"middle",fontSize:"12"},"Compute \u03bc\u2082, \u03c3\u2082"),r.a.createElement("text",{x:"250",y:"120",textAnchor:"middle",fontSize:"12"},"for group 2"),r.a.createElement("rect",{x:"190",y:"10",width:"120",height:"160",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("text",{x:"250",y:"30",textAnchor:"middle",fontSize:"14"},"Normalized Matrix"),r.a.createElement("rect",{x:"220",y:"50",width:"40",height:"20",fill:"#f3e8ff",stroke:"#7e22ce"}),r.a.createElement("text",{x:"240",y:"63",textAnchor:"middle",fontSize:"10",fill:"#7e22ce"},"G1"),r.a.createElement("rect",{x:"260",y:"50",width:"40",height:"20",fill:"#e0e7ff",stroke:"#6d28d9"}),r.a.createElement("text",{x:"280",y:"63",textAnchor:"middle",fontSize:"10",fill:"#6d28d9"},"G2"),r.a.createElement("rect",{x:"220",y:"80",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"260",y:"80",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"220",y:"110",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}),r.a.createElement("rect",{x:"260",y:"110",width:"40",height:"20",fill:"#e6e6e6",stroke:"#666"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},"Key Idea:"),r.a.createElement("p",null,"Divides features into groups and normalizes each group independently for each example."),r.a.createElement("p",{className:"mt-2"},"Formula: (x - \u03bcg) / \u03c3g, where \u03bcg and \u03c3g are calculated within each feature group for each example."),r.a.createElement("p",{className:"mt-2"},"Use Cases:"),r.a.createElement("ul",{className:"list-disc pl-5"},r.a.createElement("li",null,"When batch size is small (e.g., high-resolution images)"),r.a.createElement("li",null,"As a middle ground between batch and layer normalization"),r.a.createElement("li",null,"Computer vision tasks with limited GPU memory"),r.a.createElement("li",null,"When feature groups have semantic meaning")))):void 0,r.a.createElement("div",{className:"mt-6 p-4 bg-gray-50 rounded"},r.a.createElement("h3",{className:"text-lg font-medium mb-2"},"Summary of Normalization Methods"),r.a.createElement("div",{className:"grid grid-cols-3 gap-4"},r.a.createElement("div",{className:"p-3 bg-blue-50 rounded"},r.a.createElement("h4",{className:"font-medium mb-1"},"Batch Normalization"),r.a.createElement("div",{className:"flex justify-center my-2"},r.a.createElement("div",{className:"bg-blue-200 p-2 rounded text-center"},r.a.createElement("strong",null,"Normalizes each feature"),r.a.createElement("br",null),"across all samples")),r.a.createElement("p",{className:"text-sm"},"Works well with large batch sizes, but performance degrades with smaller batches."),r.a.createElement("div",{className:"mt-2 text-sm"},r.a.createElement("strong",null,"Best for:")," CNNs, large batches (32+)")),r.a.createElement("div",{className:"p-3 bg-green-50 rounded"},r.a.createElement("h4",{className:"font-medium mb-1"},"Layer Normalization"),r.a.createElement("div",{className:"flex justify-center my-2"},r.a.createElement("div",{className:"bg-green-200 p-2 rounded text-center"},r.a.createElement("strong",null,"Normalizes all features"),r.a.createElement("br",null),"within each sample")),r.a.createElement("p",{className:"text-sm"},"Independent of batch size, works well for sequence models like RNNs and Transformers."),r.a.createElement("div",{className:"mt-2 text-sm"},r.a.createElement("strong",null,"Best for:")," RNNs, Transformers, NLP")),r.a.createElement("div",{className:"p-3 bg-purple-50 rounded"},r.a.createElement("h4",{className:"font-medium mb-1"},"Group Normalization"),r.a.createElement("div",{className:"flex justify-center my-2"},r.a.createElement("div",{className:"bg-purple-200 p-2 rounded text-center"},r.a.createElement("strong",null,"Normalizes feature groups"),r.a.createElement("br",null),"within each sample")),r.a.createElement("p",{className:"text-sm"},"A middle ground approach. Features with similar semantics can be grouped together."),r.a.createElement("div",{className:"mt-2 text-sm"},r.a.createElement("strong",null,"Best for:")," Small batches, high-res images")))))};var F=()=>{const e=[{id:"sgd",name:"Standard SGD",color:"#FF5733",pathSvg:"M50,150 Q75,120 100,140 Q125,160 150,130 Q175,100 200,120 Q225,140 250,110 Q275,80 300,100 Q325,120 350,90",lossSvg:"M50,150 L84,135 L118,120 L152,105 L186,90 L220,75 L254,60 L288,45 L350,30",pros:["Simple to implement","Low memory usage"],cons:["Zigzags in ravines","Sensitive to feature scaling","Easily trapped in local minima"],convergence:"135+"},{id:"momentum",name:"SGD + Momentum",color:"#33C4FF",pathSvg:"M50,150 C100,130 150,70 200,60 S250,70 300,90 L350,90",lossSvg:"M50,150 L84,130 L118,110 L152,90 L186,70 L220,60 L254,50 L288,45 L350,40",pros:["Accelerates in consistent directions","Reduces oscillations"],cons:["Can overshoot minima","Still affected by feature scaling"],convergence:"~100"},{id:"rmsprop",name:"RMSProp",color:"#A033FF",pathSvg:"M50,150 C100,120 150,80 200,50 S250,40 300,40 L350,40",lossSvg:"M50,150 L84,120 L118,90 L152,70 L186,55 L220,45 L254,40 L288,37 L350,35",pros:["Adapts learning rate per parameter","Handles different scales well"],cons:["No momentum for acceleration","Can make small updates too small"],convergence:"~60"},{id:"adam",name:"Adam",color:"#33FF57",pathSvg:"M50,150 C100,100 125,60 150,40 S175,30 300,30 L350,30",lossSvg:"M50,150 L84,100 L118,60 L152,40 L186,30 L220,25 L254,22 L288,21 L350,20",pros:["Combines momentum & adaptation","Best overall performance"],cons:["More complex to implement","Higher memory requirements"],convergence:"~40"}];return r.a.createElement("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"}},r.a.createElement("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"}},"Adaptive Learning Rate Comparison"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"20px"}},e.map(e=>r.a.createElement("div",{key:e.id,style:{backgroundColor:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}},r.a.createElement("h2",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px",color:e.color}},e.name),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"}},r.a.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"4px",display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",textAlign:"center"}},"Optimization Path"),r.a.createElement("svg",{viewBox:"0 0 400 200",width:"100%",height:"140",style:{backgroundColor:"white",border:"1px solid #eee"}},r.a.createElement("g",{stroke:"#eee",strokeWidth:"1"},r.a.createElement("line",{x1:"50",y1:"20",x2:"50",y2:"150"}),r.a.createElement("line",{x1:"50",y1:"150",x2:"350",y2:"150"}),r.a.createElement("line",{x1:"125",y1:"20",x2:"125",y2:"150"}),r.a.createElement("line",{x1:"200",y1:"20",x2:"200",y2:"150"}),r.a.createElement("line",{x1:"275",y1:"20",x2:"275",y2:"150"}),r.a.createElement("line",{x1:"350",y1:"20",x2:"350",y2:"150"}),r.a.createElement("line",{x1:"50",y1:"20",x2:"350",y2:"20"}),r.a.createElement("line",{x1:"50",y1:"63",x2:"350",y2:"63"}),r.a.createElement("line",{x1:"50",y1:"107",x2:"350",y2:"107"})),r.a.createElement("text",{x:"200",y:"175",textAnchor:"middle",fontSize:"10"},"Position"),r.a.createElement("text",{x:"20",y:"85",textAnchor:"middle",fontSize:"10",transform:"rotate(-90, 20, 85)"},"Height"),r.a.createElement("path",{d:e.pathSvg,fill:"none",stroke:e.color,strokeWidth:"3"}),r.a.createElement("circle",{cx:"350",cy:"30",r:"4",fill:"#555"}))),r.a.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"4px",display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",textAlign:"center"}},"Loss Over Iterations"),r.a.createElement("svg",{viewBox:"0 0 400 200",width:"100%",height:"140",style:{backgroundColor:"white",border:"1px solid #eee"}},r.a.createElement("g",{stroke:"#eee",strokeWidth:"1"},r.a.createElement("line",{x1:"50",y1:"20",x2:"50",y2:"150"}),r.a.createElement("line",{x1:"50",y1:"150",x2:"350",y2:"150"}),r.a.createElement("line",{x1:"110",y1:"20",x2:"110",y2:"150"}),r.a.createElement("line",{x1:"170",y1:"20",x2:"170",y2:"150"}),r.a.createElement("line",{x1:"230",y1:"20",x2:"230",y2:"150"}),r.a.createElement("line",{x1:"290",y1:"20",x2:"290",y2:"150"}),r.a.createElement("line",{x1:"350",y1:"20",x2:"350",y2:"150"}),r.a.createElement("line",{x1:"50",y1:"20",x2:"350",y2:"20"}),r.a.createElement("line",{x1:"50",y1:"63",x2:"350",y2:"63"}),r.a.createElement("line",{x1:"50",y1:"107",x2:"350",y2:"107"})),r.a.createElement("text",{x:"200",y:"175",textAnchor:"middle",fontSize:"10"},"Iterations (0-140)"),r.a.createElement("text",{x:"20",y:"85",textAnchor:"middle",fontSize:"10",transform:"rotate(-90, 20, 85)"},"Loss"),r.a.createElement("path",{d:e.lossSvg,fill:"none",stroke:e.color,strokeWidth:"3"}),[0,1,2,3,4,5,6,7,8].map(t=>{var a;const n=50+37.5*t,l=(null===(a=e.lossSvg.split(" ")[2*t+1])||void 0===a?void 0:a.split(",")[1])||30;return r.a.createElement("circle",{key:t,cx:n,cy:l,r:"3",fill:e.color})})))),r.a.createElement("div",{style:{marginTop:"15px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:"bold",color:"#22c55e",marginBottom:"5px"}},"Pros:"),r.a.createElement("ul",{style:{paddingLeft:"20px",margin:0,fontSize:"14px"}},e.pros.map((e,t)=>r.a.createElement("li",{key:t},e)))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:"bold",color:"#ef4444",marginBottom:"5px"}},"Cons:"),r.a.createElement("ul",{style:{paddingLeft:"20px",margin:0,fontSize:"14px"}},e.cons.map((e,t)=>r.a.createElement("li",{key:t},e)))))))),r.a.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",marginBottom:"20px"}},r.a.createElement("h2",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px"}},"Key Performance Comparisons"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"}},e.map(e=>r.a.createElement("div",{key:e.id,style:{backgroundColor:"white",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",textAlign:"center"}},r.a.createElement("div",{style:{fontWeight:"bold",marginBottom:"5px",color:e.color}},e.name),r.a.createElement("div",{style:{fontSize:"14px"}},"Iterations to converge: ",r.a.createElement("span",{style:{fontWeight:"bold"}},e.convergence)))))))},R=a(57);const W="#3b82f6",D="#ef4444",j="#10b981",P=e=>{let{active:t,payload:a}=e;if(!t||!a||!a.length)return null;const n=a[0].payload;return r.a.createElement("div",{className:"bg-white p-2 border border-gray-200 rounded shadow-sm text-xs"},r.a.createElement("p",null,r.a.createElement("strong",null,"Position:")," ",n.position),a.map(e=>r.a.createElement("p",{key:e.dataKey},r.a.createElement("strong",null,e.name||e.dataKey,":")," ",e.value.toFixed(4))))};var O=()=>{const[e,t]=Object(n.useState)("sinusoidal"),[a,l]=Object(n.useState)(50),[i,h]=Object(n.useState)([]),[f,x]=Object(n.useState)(10),E=[{id:"sinusoidal",name:"Sinusoidal (Original)",description:"Fixed pattern using sine/cosine functions of different frequencies",pros:["No parameters to learn","Can handle variable length sequences","Simple implementation"],cons:["Fixed pattern not adapted to data","Limited expressiveness"],color:W,examples:"Original Transformer, BERT"},{id:"learned",name:"Learned Embeddings",description:"Position embeddings learned during training",pros:["Adapts to data patterns","Simple to implement"],cons:["Limited to trained sequence length","Cannot extrapolate to longer sequences"],color:D,examples:"BERT, RoBERTa, early GPTs"},{id:"rope",name:"RoPE (Rotary)",description:"Rotates vectors in the complex plane based on position",pros:["Preserves relative positions","Good extrapolation","Better for long contexts"],cons:["More complex implementation","Requires careful parameter selection"],color:j,examples:"LLaMA, PaLM, Modern LLMs"}];Object(n.useEffect)(()=>{const t=b(e,a);h(t)},[e,a]);const b=(e,t)=>{const a=[];for(let n=0;n<t;n++){const t={position:n};if("sinusoidal"===e)t.dimSlow=Math.sin(.05*n),t.dimMedium=Math.sin(.15*n),t.dimFast=Math.sin(.45*n);else if("learned"===e)t.dim1=.8*Math.sin(.12*n)+.2*Math.sin(.5*n),t.dim2=.7*Math.sin(.1*n+1)+.3*Math.sin(.3*n),t.dim3=.6*Math.sin(.08*n+2)+.4*Math.cos(.25*n);else if("rope"===e){const e=.1*n,a=.2*n;t.cosine=Math.cos(e),t.sine=Math.sin(e),t.rotation=Math.cos(e)*Math.cos(a-e)}a.push(t)}return a},y=E.find(t=>t.id===e),{dimensions:v,labels:w,colors:N}="sinusoidal"===e?{dimensions:["dimSlow","dimMedium","dimFast"],labels:["Slow-changing dimension","Medium-changing dimension","Fast-changing dimension"],colors:["#4285F4","#34A853","#FBBC05"]}:"learned"===e?{dimensions:["dim1","dim2","dim3"],labels:["Learned dimension 1","Learned dimension 2","Learned dimension 3"],colors:["#EA4335","#34A853","#4285F4"]}:"rope"===e?{dimensions:["cosine","sine","rotation"],labels:["Cosine component","Sine component","Rotation effect"],colors:["#34A853","#FBBC05","#4285F4"]}:{dimensions:[],labels:[],colors:[]},k=i.find(e=>e.position===f)||{};return r.a.createElement("div",{className:"p-4 w-full max-w-4xl mx-auto bg-gray-50 rounded-lg shadow-md"},r.a.createElement("h1",{className:"text-xl font-bold mb-4 text-center"},"Transformer Position Embeddings"),r.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Sequence Length: ",a),r.a.createElement("input",{type:"range",min:"10",max:"100",value:a,onChange:e=>l(parseInt(e.target.value)),className:"w-full"})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"View Position ",f," Details:"),r.a.createElement("input",{type:"range",min:"0",max:a-1,value:f,onChange:e=>x(parseInt(e.target.value)),className:"w-full"}))),r.a.createElement("div",{className:"flex flex-wrap gap-2 mb-4 justify-center"},E.map(a=>r.a.createElement("button",{key:a.id,className:"px-3 py-1 rounded-full text-sm "+(e===a.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"),onClick:()=>t(a.id)},a.name))),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 mb-4 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-1",style:{color:null===y||void 0===y?void 0:y.color}},null===y||void 0===y?void 0:y.name),r.a.createElement("p",{className:"text-sm mb-1"},null===y||void 0===y?void 0:y.description),r.a.createElement("p",{className:"text-xs text-gray-500"},"Used in: ",null===y||void 0===y?void 0:y.examples)),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 mb-4 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"Visualization"),r.a.createElement("div",{className:"w-full",style:{height:"300px"}},i.length>0?r.a.createElement(o.a,{width:"100%",height:"100%"},r.a.createElement(s.a,{data:i,margin:{top:20,right:30,left:20,bottom:20}},r.a.createElement(m.a,{strokeDasharray:"3 3",opacity:.3}),r.a.createElement(c.a,{dataKey:"position",type:"number",domain:[0,a-1],label:{value:"Position",position:"bottom",offset:5}}),r.a.createElement(d.a,{domain:[-1.1,1.1],label:{value:"Embedding Value",angle:-90,position:"insideLeft",offset:-5}}),r.a.createElement(p.a,{content:r.a.createElement(P,null)}),r.a.createElement(u.a,null),r.a.createElement(C.a,{x:f,stroke:"#000",strokeWidth:1,strokeDasharray:"3 3"},r.a.createElement(R.a,{value:"Selected Position",position:"top",fontSize:10})),"learned"===e&&r.a.createElement(C.a,{x:30,stroke:"#ef4444",strokeDasharray:"3 3"},r.a.createElement(R.a,{value:"Training Length Limit",position:"insideBottomRight",fontSize:10,fill:"#ef4444"})),v.map((e,t)=>r.a.createElement(g.a,{key:e,type:"monotone",dataKey:e,name:w[t],stroke:N[t],strokeWidth:2,dot:!1})))):r.a.createElement("div",{className:"flex h-full items-center justify-center"},r.a.createElement("p",{className:"text-gray-500"},"Loading chart data...")))),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 mb-4 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"Position ",f," Details"),r.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},v.map((e,t)=>r.a.createElement("div",{key:e,className:"p-2 rounded-lg border",style:{borderColor:N[t]}},r.a.createElement("h3",{className:"text-sm font-medium mb-1",style:{color:N[t]}},w[t]),r.a.createElement("div",{className:"text-3xl font-bold text-center py-2"},k[e]?k[e].toFixed(4):"N/A"))))),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 mb-4 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"Advantages & Limitations"),r.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},r.a.createElement("div",{className:"p-3 bg-green-50 rounded-lg"},r.a.createElement("h3",{className:"text-sm font-medium text-green-700 mb-2"},"Advantages"),r.a.createElement("ul",{className:"list-disc pl-5 space-y-1"},null===y||void 0===y?void 0:y.pros.map((e,t)=>r.a.createElement("li",{key:t,className:"text-sm"},e)))),r.a.createElement("div",{className:"p-3 bg-red-50 rounded-lg"},r.a.createElement("h3",{className:"text-sm font-medium text-red-700 mb-2"},"Limitations"),r.a.createElement("ul",{className:"list-disc pl-5 space-y-1"},null===y||void 0===y?void 0:y.cons.map((e,t)=>r.a.createElement("li",{key:t,className:"text-sm"},e)))))),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"Key Insights"),r.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-3"},r.a.createElement("div",{className:"p-2 rounded bg-blue-50 border border-blue-100"},r.a.createElement("h4",{className:"font-medium mb-1 text-blue-600"},"Sinusoidal"),r.a.createElement("p",{className:"text-xs mb-1"},'\ud83d\udca1 Different frequencies create unique "fingerprints"'),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Mathematically guaranteed uniqueness"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Works for any sequence length")),r.a.createElement("div",{className:"p-2 rounded bg-red-50 border border-red-100"},r.a.createElement("h4",{className:"font-medium mb-1 text-red-600"},"Learned"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Data-adaptive patterns for better fit"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Simple lookup implementation"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Limited to training sequence length")),r.a.createElement("div",{className:"p-2 rounded bg-green-50 border border-green-100"},r.a.createElement("h4",{className:"font-medium mb-1 text-green-600"},"RoPE"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Preserves relative position relationships"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Strong extrapolation to longer sequences"),r.a.createElement("p",{className:"text-xs mb-1"},"\ud83d\udca1 Used in modern large language models"))),r.a.createElement("div",{className:"p-3 bg-blue-50 rounded-lg"},r.a.createElement("h3",{className:"text-sm font-medium text-blue-700 mb-2"},"Understanding Position Embeddings:"),r.a.createElement("ul",{className:"list-disc pl-5 space-y-1 text-sm"},r.a.createElement("li",null,"Position embeddings add ",r.a.createElement("strong",null,"order information")," to transformer models that would otherwise treat tokens as a set"),r.a.createElement("li",null,'Each embedding creates a unique "fingerprint" for every position in a sequence'),r.a.createElement("li",null,"The choice of embedding affects how well models handle ",r.a.createElement("strong",null,"longer sequences")," not seen during training"),r.a.createElement("li",null,"Modern models like LLaMA use more sophisticated approaches (RoPE) for better performance on long contexts")))),r.a.createElement("div",{className:"w-full bg-white p-3 rounded-lg border border-gray-200 mt-4 shadow-sm"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"How Position Embeddings Are Used in Transformers"),r.a.createElement("div",{className:"flex flex-col md:flex-row gap-4"},r.a.createElement("div",{className:"flex-1 p-3 bg-gray-50 rounded-lg"},r.a.createElement("h3",{className:"text-sm font-medium mb-2"},"Embedding Process:"),r.a.createElement("ol",{className:"list-decimal pl-5 space-y-1 text-sm"},r.a.createElement("li",null,"Each token is converted to a token embedding"),r.a.createElement("li",null,"Each position gets a position embedding"),r.a.createElement("li",null,"The two embeddings are added together"),r.a.createElement("li",null,"This combined embedding preserves both ",r.a.createElement("strong",null,"what")," the token is and ",r.a.createElement("strong",null,"where")," it appears"),r.a.createElement("li",null,"The result is processed by attention layers"))),r.a.createElement("div",{className:"flex-1 p-3 bg-gray-50 rounded-lg"},r.a.createElement("h3",{className:"text-sm font-medium mb-2"},"Why Position Information Matters:"),r.a.createElement("p",{className:"text-sm mb-2"},"In language, order changes meaning:"),r.a.createElement("div",{className:"p-2 bg-white rounded border border-gray-200 text-sm"},r.a.createElement("p",null,'"The dog chased the cat" vs. "The cat chased the dog"'),r.a.createElement("p",{className:"mt-1 text-xs text-gray-600"},"Same tokens, different order, completely different meaning")),r.a.createElement("p",{className:"text-sm mt-2"},"Position embeddings ensure transformers understand these differences despite processing all tokens in parallel.")))))};var I=()=>{const[e,t]=Object(n.useState)(1),[a,l]=Object(n.useState)([]),[i,o]=Object(n.useState)({kl:.2,recon:.1}),[s,m]=Object(n.useState)({width:0,height:0});Object(n.useEffect)(()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]);const c=()=>{const e=Math.min(document.body.clientWidth-40,800),t=e<600,a=t?e-40:e/2-40,n=Math.min(300,.8*a);m({width:a,height:n,isMobile:t})};Object(n.useEffect)(()=>{try{const t=1-Math.min(e,4)/4,a=[];for(let e=0;e<5;e++)for(let n=0;n<10;n++){const r=2*(e-2),l=2*Math.sin(e*Math.PI/2.5),i=2*(Math.random()-.5)*(1+3*t),o=2*(Math.random()-.5)*(1+3*t);a.push({id:`${e}-${n}`,x:r+i,y:l+o,classIdx:e})}l(a);const n=.2+Math.min(e,4)/8,r=.1+Math.min(e,4)/6;o({kl:n,recon:r,total:r+e*n})}catch(t){console.error("Error generating latent data:",t),l([])}},[e]);const d=Math.max(10,Math.min(30,.08*s.width)),p=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],u=Math.max(50,s.width-2*d),g=Math.max(50,s.height-2*d);let h=-5,f=5,x=-5,E=5;if(a.length>0){const e=a.map(e=>e.x),t=a.map(e=>e.y);if(h=Math.min(...e),f=Math.max(...e),x=Math.min(...t),E=Math.max(...t),h===f)h-=1,f+=1;else{const e=.1*(f-h);h-=e,f+=e}if(x===E)x-=1,E+=1;else{const e=.1*(E-x);x-=e,E+=e}}return 0===s.width?r.a.createElement("div",{className:"p-4 text-center"},"Loading visualization..."):r.a.createElement("div",{className:"p-2 mx-auto",style:{maxWidth:"800px"}},r.a.createElement("h2",{className:"text-xl font-bold mb-4 text-center"},"\u03b2-VAE Latent Space Visualization"),r.a.createElement("div",{className:"mb-6 px-2"},r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"\u03b2 value: ",e.toFixed(1)),r.a.createElement("input",{type:"range",min:"0.1",max:"4",step:"0.1",value:e,onChange:e=>t(parseFloat(e.target.value)),className:"w-full"})),r.a.createElement("div",{className:`flex ${s.isMobile?"flex-col":"flex-row"} gap-4`},r.a.createElement("div",{className:"border rounded p-2 flex-1"},r.a.createElement("h3",{className:"text-sm font-medium mb-2 text-center"},"Latent Space"),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("svg",{width:s.width,height:s.height,className:"bg-gray-50 rounded shadow-inner",style:{minHeight:"200px"}},r.a.createElement("line",{x1:d,y1:s.height/2,x2:s.width-d,y2:s.height/2,stroke:"#ccc",strokeWidth:"1"}),r.a.createElement("line",{x1:s.width/2,y1:d,x2:s.width/2,y2:s.height-d,stroke:"#ccc",strokeWidth:"1"}),a.map(e=>{return r.a.createElement("circle",{key:e.id,cx:(a=e.x,d+(a-h)/(f-h)*u),cy:(t=e.y,d+(t-x)/(E-x)*g),r:Math.max(3,Math.min(6,.01*s.width)),fill:p[e.classIdx%p.length],opacity:.7});var t,a}))),r.a.createElement("div",{className:"text-xs mt-1 text-center"},"More clustered = Better disentanglement")),r.a.createElement("div",{className:"border rounded p-2 flex-1"},r.a.createElement("h3",{className:"text-sm font-medium mb-2 text-center"},"Loss Components"),r.a.createElement("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"20px 0",margin:"20px 0"}},r.a.createElement("tbody",null,r.a.createElement("tr",{style:{height:"150px",verticalAlign:"bottom"}},r.a.createElement("td",{style:{width:"33%",textAlign:"center",verticalAlign:"bottom"}},r.a.createElement("div",{style:{margin:"0 auto",width:"40px",height:Math.max(20,150*i.recon)+"px",backgroundColor:"#3B82F6",border:"2px solid #2563EB",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",bottom:"5px",left:"0",right:"0",color:"white",fontSize:"10px",textAlign:"center"}},Math.round(100*i.recon),"%"))),r.a.createElement("td",{style:{width:"33%",textAlign:"center",verticalAlign:"bottom"}},r.a.createElement("div",{style:{margin:"0 auto",width:"40px",height:Math.max(20,150*i.kl)+"px",backgroundColor:"#EF4444",border:"2px solid #DC2626",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",bottom:"5px",left:"0",right:"0",color:"white",fontSize:"10px",textAlign:"center"}},Math.round(100*i.kl),"%"))),r.a.createElement("td",{style:{width:"33%",textAlign:"center",verticalAlign:"bottom"}},r.a.createElement("div",{style:{margin:"0 auto",width:"40px",height:Math.max(20,50*i.total)+"px",backgroundColor:"#8B5CF6",border:"2px solid #7C3AED",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",bottom:"5px",left:"0",right:"0",color:"white",fontSize:"10px",textAlign:"center"}},Math.round(100*i.total),"%")))),r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center",padding:"10px 0"}},r.a.createElement("strong",{style:{fontSize:"12px"}},"Recon.")),r.a.createElement("td",{style:{textAlign:"center",padding:"10px 0"}},r.a.createElement("strong",{style:{fontSize:"12px"}},"KL Div.")),r.a.createElement("td",{style:{textAlign:"center",padding:"10px 0"}},r.a.createElement("strong",{style:{fontSize:"12px"}},"Total"))))),r.a.createElement("div",{style:{fontSize:"12px",marginTop:"10px",textAlign:"center",padding:"5px",backgroundColor:"#f8f9fa",borderRadius:"4px"}},"\u03b2 = ",e.toFixed(1)," weighs the KL divergence term"))),r.a.createElement("div",{className:"mt-4 text-sm p-2"},r.a.createElement("h3",{className:"font-medium"},"Impact of \u03b2 parameter:"),r.a.createElement("ul",{className:"list-disc pl-6 mt-1 space-y-1"},r.a.createElement("li",null,r.a.createElement("strong",null,"Low \u03b2")," (0.1-1): Prioritizes reconstruction accuracy, leads to less disentangled latent space"),r.a.createElement("li",null,r.a.createElement("strong",null,"\u03b2 = 1"),": Standard VAE"),r.a.createElement("li",null,r.a.createElement("strong",null,"High \u03b2")," (>1): Encourages disentanglement, clearer separation in latent space, but worse reconstruction"))))};var H=()=>{const[e,t]=Object(n.useState)("function"),[a,l]=Object(n.useState)(["relu","sigmoid","tanh"]),[i,h]=Object(n.useState)([]),[f,x]=Object(n.useState)("pros"),E={sigmoid:{name:"Sigmoid",formula:"\u03c3(x) = 1 / (1 + e^(-x))",function:e=>1/(1+Math.exp(-e)),derivative:e=>{const t=1/(1+Math.exp(-e));return t*(1-t)},color:"#8884d8",range:"(0, 1)",pros:["Smooth and differentiable everywhere","Output bounded between 0 and 1","Good for binary classification output layers"],cons:["Suffers from vanishing gradient problem","Not zero-centered","Computationally expensive"],whenToUse:["Binary classification (output layer)","When bounded output between 0 and 1 is needed"]},tanh:{name:"Tanh",formula:"tanh(x) = (e^x - e^(-x)) / (e^x + e^(-x))",function:e=>Math.tanh(e),derivative:e=>1-Math.pow(Math.tanh(e),2),color:"#82ca9d",range:"(-1, 1)",pros:["Zero-centered (outputs between -1 and 1)","Stronger gradients than sigmoid","Better convergence than sigmoid"],cons:["Still suffers from vanishing gradient problem","Saturates at extreme values"],whenToUse:["Hidden layers in neural networks","When zero-centered activation is needed","Recurrent neural networks"]},relu:{name:"ReLU",formula:"f(x) = max(0, x)",function:e=>Math.max(0,e),derivative:e=>e>0?1:0,color:"#ff7300",range:"[0, \u221e)",pros:["Computationally efficient","No vanishing gradient for positive inputs","Converges faster than sigmoid/tanh"],cons:['"Dying ReLU" problem',"Not zero-centered","Unbounded output"],whenToUse:["Default choice for hidden layers in CNNs","When computational efficiency is important","Deep networks"]},leakyRelu:{name:"Leaky ReLU",formula:"f(x) = max(\u03b1x, x), where \u03b1 = 0.01",function:e=>Math.max(.01*e,e),derivative:e=>e>0?1:.01,color:"#ff8e00",range:"(-\u221e, \u221e)",pros:['Prevents "dying ReLU" problem',"Allows negative values to contribute","Computationally efficient"],cons:["Not zero-centered","\u03b1 is a hyperparameter that needs tuning"],whenToUse:["When you want to avoid dying ReLU problem","Deep networks with potential negative activations"]},prelu:{name:"PReLU",formula:"f(x) = max(\u03b1x, x), where \u03b1 is learnable",function:e=>Math.max(.1*e,e),derivative:e=>e>0?1:.1,color:"#ff9e00",range:"(-\u221e, \u221e)",pros:["Adaptive negative slope (\u03b1 is learned)","Can outperform ReLU and Leaky ReLU","Mitigates dying ReLU problem"],cons:["Additional parameters to learn","Can overfit small datasets","Not zero-centered"],whenToUse:["When you have sufficient data to learn \u03b1","When performance is critical","When dying ReLU is an issue"]},elu:{name:"ELU",formula:"f(x) = x if x > 0, \u03b1(e^x - 1) if x \u2264 0",function:e=>e>0?e:1*(Math.exp(e)-1),derivative:e=>e>0?1:1*Math.exp(e),color:"#ff4500",range:"(-\u03b1, \u221e)",pros:["Smooth function with negative values","Closer to zero-mean activations",'Reduces "bias shift"'],cons:["Computationally more expensive than ReLU","Can produce negative outputs"],whenToUse:["When you want benefits of both ReLU and negative values","Deep networks that need regularizing effects"]},selu:{name:"SELU",formula:"f(x) = \u03bb * (x if x > 0, \u03b1(e^x - 1) if x \u2264 0)",function:e=>e>0?1.0507*e:1.0507*1.67326*(Math.exp(e)-1),derivative:e=>e>0?1.0507:1.0507*1.67326*Math.exp(e),color:"#9932cc",range:"Self-norm",pros:["Self-normalizing (preserves mean/variance)","Helps with vanishing/exploding gradients","Can eliminate need for batch normalization"],cons:["Requires specific weight initialization","Works best when used for all layers","Less established than ReLU/ELU"],whenToUse:["Fully Connected Neural Networks","When you want to avoid batch normalization","Deep networks requiring normalization"]},swish:{name:"Swish",formula:"f(x) = x * sigmoid(x)",function:e=>e*(1/(1+Math.exp(-e))),derivative:e=>{const t=1/(1+Math.exp(-e));return t+e*t*(1-t)},color:"#20b2aa",range:"Unbounded",pros:["Often outperforms ReLU in deep networks","Smooth function with non-monotonic shape","Works well with normalization techniques"],cons:["Computationally more expensive than ReLU","Relatively new and less established"],whenToUse:["Deep neural networks","Modern architectures like transformers","When seeking potentially better performance than ReLU"]},gelu:{name:"GELU",formula:"f(x) = x * \u03a6(x)",function:e=>.5*e*(1+Math.tanh(Math.sqrt(2/Math.PI)*(e+.044715*Math.pow(e,3)))),derivative:e=>{const t=Math.sqrt(2/Math.PI)*(e+.044715*Math.pow(e,3)),a=1-Math.pow(Math.tanh(t),2),n=Math.sqrt(2/Math.PI)*(1+.134145*Math.pow(e,2));return.5*(1+Math.tanh(t))+.5*e*a*n},color:"#4682b4",range:"Unbounded",pros:["Used in modern transformers (BERT, GPT)","Smooth non-monotonic shape","Strong empirical performance"],cons:["Computationally more expensive than ReLU","More complex to implement efficiently","Less intuitive than simpler activations"],whenToUse:["Modern transformer architectures","NLP models","When seeking state-of-the-art performance"]},softmax:{name:"Softmax",formula:"softmax(x_i) = e^(x_i) / \u03a3_j e^(x_j)",function:e=>Math.exp(e)/10,derivative:e=>Math.exp(e)/10*(1-Math.exp(e)/10),color:"#dc143c",range:"(0,1), sum=1",pros:["Converts values to probability distribution","Outputs sum to 1 across all classes","Good for multi-class classification"],cons:["Only meaningful for multiple outputs","Can have numerical stability issues","Computationally expensive"],whenToUse:["Multi-class classification output layers","When probabilistic interpretation is needed","Final layer of classification networks"]}};Object(n.useEffect)(()=>{const t=[];for(let a=-5;a<=5;a+=.05){const n={x:parseFloat(a.toFixed(2))};Object.entries(E).forEach(t=>{let[r,l]=t;try{n[r]="function"===e?l.function(a):l.derivative(a),isFinite(n[r])&&!isNaN(n[r])||(n[r]=null)}catch(i){n[r]=null}}),t.push(n)}h(t)},[e]);const b=e=>{a.includes(e)?l(a.filter(t=>t!==e)):l([...a,e])};return r.a.createElement("div",{className:"flex flex-col w-full space-y-4"},r.a.createElement("div",{className:"w-full border rounded-lg shadow-sm"},r.a.createElement("div",{className:"p-4 border-b"},r.a.createElement("h2",{className:"text-xl font-semibold"},"Neural Network Activation Functions Explorer")),r.a.createElement("div",{className:"p-4"},r.a.createElement("div",{className:"flex flex-col space-y-4"},r.a.createElement("div",{className:"flex items-center space-x-2"},r.a.createElement("div",{className:"relative inline-block w-10 h-5"},r.a.createElement("input",{type:"checkbox",id:"viewMode",className:"opacity-0 w-0 h-0",checked:"derivative"===e,onChange:e=>t(e.target.checked?"derivative":"function")}),r.a.createElement("span",{className:"absolute cursor-pointer top-0 left-0 right-0 bottom-0 rounded-full transition-colors duration-200 "+("derivative"===e?"bg-blue-500":"bg-gray-300")},r.a.createElement("span",{className:"absolute h-4 w-4 rounded-full bg-white transition-transform duration-200 "+("derivative"===e?"transform translate-x-5":"transform translate-x-0.5"),style:{top:"2px"}}))),r.a.createElement("label",{htmlFor:"viewMode",className:"ml-2 cursor-pointer"},"function"===e?"Show Function":"Show Derivative")),r.a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4"},r.a.createElement("div",{className:"lg:col-span-2"},r.a.createElement(o.a,{width:"100%",height:400},r.a.createElement(s.a,{data:i,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"x",type:"number",domain:[-5,5],tickCount:11,label:{value:"x",position:"insideBottomRight",offset:-5}}),r.a.createElement(d.a,{domain:[-2,2],tickCount:9,label:{value:"function"===e?"f(x)":"f'(x)",angle:-90,position:"insideLeft"}}),r.a.createElement(p.a,{formatter:(e,t)=>{var a;return[null===e||void 0===e?void 0:e.toFixed(4),(null===(a=E[t])||void 0===a?void 0:a.name)||t]},labelFormatter:e=>"x = "+e}),r.a.createElement(u.a,{onClick:e=>b(e.dataKey),wrapperStyle:{paddingTop:"10px"},formatter:(e,t)=>{var a;const n=t.dataKey;return(null===(a=E[n])||void 0===a?void 0:a.name)||e}}),a.map(e=>r.a.createElement(g.a,{key:e,type:"monotone",dataKey:e,stroke:E[e].color,dot:!1,activeDot:{r:5}}))))),r.a.createElement("div",{className:"space-y-4"},r.a.createElement("div",{className:"grid grid-cols-2 gap-2"},Object.entries(E).map(e=>{let[t,n]=e;return r.a.createElement("button",{key:t,className:"px-3 py-1 text-sm rounded-md border transition-colors "+(a.includes(t)?"bg-blue-500 text-white border-blue-500":"bg-white hover:bg-gray-50 border-gray-300"),onClick:()=>b(t),style:{borderColor:a.includes(t)?void 0:n.color,color:a.includes(t)?void 0:n.color}},n.name)})),1===a.length&&r.a.createElement("div",{className:"mt-4 border rounded-lg shadow-sm"},r.a.createElement("div",{className:"p-3 border-b"},r.a.createElement("h3",{className:"text-md font-medium"},E[a[0]].name)),r.a.createElement("div",{className:"p-4 text-sm"},r.a.createElement("p",{className:"font-mono mb-2"},E[a[0]].formula),r.a.createElement("div",{className:"border-b mb-2"},r.a.createElement("div",{className:"flex space-x-2 mb-2"},r.a.createElement("button",{className:"px-3 py-1 rounded-t-md "+("pros"===f?"bg-blue-100 border-b-2 border-blue-500":"hover:bg-gray-100"),onClick:()=>x("pros")},"Pros"),r.a.createElement("button",{className:"px-3 py-1 rounded-t-md "+("cons"===f?"bg-blue-100 border-b-2 border-blue-500":"hover:bg-gray-100"),onClick:()=>x("cons")},"Cons"),r.a.createElement("button",{className:"px-3 py-1 rounded-t-md "+("when"===f?"bg-blue-100 border-b-2 border-blue-500":"hover:bg-gray-100"),onClick:()=>x("when")},"When to Use"))),"pros"===f&&r.a.createElement("ul",{className:"list-disc pl-4 space-y-1"},E[a[0]].pros.map((e,t)=>r.a.createElement("li",{key:t},e))),"cons"===f&&r.a.createElement("ul",{className:"list-disc pl-4 space-y-1"},E[a[0]].cons.map((e,t)=>r.a.createElement("li",{key:t},e))),"when"===f&&r.a.createElement("ul",{className:"list-disc pl-4 space-y-1"},E[a[0]].whenToUse.map((e,t)=>r.a.createElement("li",{key:t},e))))),1!==a.length&&r.a.createElement("div",{className:"mt-4 p-4 border rounded-md bg-gray-50 text-center text-sm"},"Select a single activation function to see detailed information."))),r.a.createElement("div",{className:"pt-4"},r.a.createElement("h3",{className:"font-medium mb-4 text-center"},"Activation Functions Comparison"),r.a.createElement("div",{className:"overflow-x-auto"},r.a.createElement("table",{className:"min-w-full divide-y divide-gray-200 border"},r.a.createElement("thead",{className:"bg-gray-50"},r.a.createElement("tr",null,r.a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r"},"Function"),r.a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r"},"Range"),r.a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r"},"Key Pros"),r.a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Key Cons"))),r.a.createElement("tbody",{className:"bg-white divide-y divide-gray-200 text-xs"},Object.entries(E).map(e=>{let[t,a]=e;return((e,t)=>r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"px-3 py-2 border-r"},r.a.createElement("div",{className:"font-medium",style:{color:t.color}},t.name),r.a.createElement("div",{className:"text-gray-500"},t.formula)),r.a.createElement("td",{className:"px-3 py-2 border-r"},t.range),r.a.createElement("td",{className:"px-3 py-2 border-r"},r.a.createElement("ul",{className:"list-disc pl-4"},t.pros.map((e,t)=>r.a.createElement("li",{key:t},e)))),r.a.createElement("td",{className:"px-3 py-2"},r.a.createElement("ul",{className:"list-disc pl-4"},t.cons.map((e,t)=>r.a.createElement("li",{key:t},e))))))(t,a)})))))))),r.a.createElement("div",{className:"w-full border rounded-lg shadow-sm p-4 bg-blue-50"},r.a.createElement("h3",{className:"font-medium mb-2"},"Activation Functions Evolution Timeline"),r.a.createElement("div",{className:"relative"},r.a.createElement("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-blue-300"}),r.a.createElement("div",{className:"grid grid-cols-2 gap-4"},r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"1940s-50s"),r.a.createElement("div",null,"Linear & Step Functions")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"First neural networks used simple threshold/step functions"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Problem: Not differentiable")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"1970s-80s"),r.a.createElement("div",{className:"text-purple-700"},"Sigmoid & Tanh")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Smooth, differentiable activation functions"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Problem: Vanishing gradient in deep networks")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2010"),r.a.createElement("div",{className:"text-orange-500"},"ReLU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Simplified, faster computation, no vanishing gradient for positive inputs"),r.a.createElement("div",{className:"text-gray-600 text-sm"},'Problem: "Dying ReLU" - neurons can permanently die during training')),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2013"),r.a.createElement("div",{className:"text-orange-600"},"Leaky ReLU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Allows small negative values (\u03b1*x) to prevent dying neurons"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Problem: \u03b1 hyperparameter needs tuning")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2015"),r.a.createElement("div",{className:"text-orange-700"},"PReLU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Makes the \u03b1 parameter learnable rather than fixed"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Problem: Additional parameters, can overfit")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2015"),r.a.createElement("div",{className:"text-red-500"},"ELU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Introduced by Clevert et al., smooth negative values with saturation"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Problem: Computationally more expensive than ReLU")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2016"),r.a.createElement("div",{className:"text-blue-500"},"GELU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Combines properties from ReLU and dropout with probabilistic approach"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Later adopted in transformers (BERT, GPT)")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2017"),r.a.createElement("div",{className:"text-purple-500"},"SELU")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Introduced by Klambauer et al., self-normalizing neural networks"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Designed to maintain normalized activations across layers")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"2017"),r.a.createElement("div",{className:"text-teal-500"},"Swish")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"x * sigmoid(x), discovered through automated search"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"Similar to GELU with strong empirical performance")),r.a.createElement("div",{className:"text-right pr-4 py-4"},r.a.createElement("div",{className:"font-semibold"},"Present"),r.a.createElement("div",null,"Task-specific choice")),r.a.createElement("div",{className:"pl-4 py-4"},r.a.createElement("div",null,"Different functions excel in different contexts"),r.a.createElement("div",{className:"text-gray-600 text-sm"},"ReLU variants for CNN, GELU/Swish for transformers"))))))};var U=()=>{const[e]=Object(n.useState)(.3),[t]=Object(n.useState)(.4),[a,l]=Object(n.useState)("plots"),i=()=>{const a=[];for(let n=-.2;n<=1.2;n+=.02){const r={x:n,mse:Math.pow(n-1,2),mae:Math.abs(n-1),binaryCrossEntropy:-(1*Math.log(Math.max(n,.001))+0*Math.log(Math.max(1-n,.001))),huber:n<1-e/2?e*(Math.abs(n-1)-e/2):Math.pow(n-1,2)/2,hinge:Math.max(0,t-1*n)};a.push(r)}return a},[h,f]=Object(n.useState)(i()),[x,E]=Object(n.useState)([{name:"Perfect Match (y=1, \u0177=1)",mse:0,bce:0,mae:0,huber:0,hinge:0},{name:"Slight Error (y=1, \u0177=0.8)",mse:.04,bce:.22,mae:.2,huber:.02,hinge:.2},{name:"Medium Error (y=1, \u0177=0.5)",mse:.25,bce:.69,mae:.5,huber:.125,hinge:.5},{name:"Large Error (y=1, \u0177=0.2)",mse:.64,bce:1.61,mae:.8,huber:.32,hinge:.8},{name:"Complete Error (y=1, \u0177=0)",mse:1,bce:15,mae:1,huber:.5,hinge:1}]);Object(n.useEffect)(()=>{f(i())},[]);const b={container:{display:"flex",flexDirection:"column",gap:"1rem",padding:"1rem",maxWidth:"1200px",margin:"0 auto",fontFamily:"system-ui, -apple-system, sans-serif"},title:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},tabList:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",marginBottom:"1rem"},tabButton:e=>({padding:"0.5rem 1rem",border:"1px solid #ccc",borderRadius:"0.25rem",background:e?"#4f46e5":"#fff",color:e?"#fff":"#333",cursor:"pointer",fontSize:"0.875rem",fontWeight:e?"bold":"normal"}),card:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",overflow:"hidden",marginBottom:"1rem",background:"#fff",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},cardHeader:{padding:"1rem",borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},cardTitle:{fontSize:"1.25rem",fontWeight:"bold",margin:0},cardDescription:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},cardContent:{padding:"1rem"},cardFooter:{padding:"1rem",borderTop:"1px solid #e5e7eb",background:"#f9fafb"},sliderContainer:{marginBottom:"1rem"},sliderLabel:{display:"block",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},slider:{width:"100%",marginTop:"0.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem",marginBottom:"1rem"},gridMd2:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem",marginBottom:"1rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(2, 1fr)"}},spacerY:{marginTop:"1.5rem",marginBottom:"1.5rem"},listItem:{marginLeft:"1.5rem",position:"relative",paddingLeft:"0.5rem"},infoBox:{padding:"1rem",borderRadius:"0.375rem",marginBottom:"1rem"},blueBox:{background:"#ebf5ff"},greenBox:{background:"#f0fdf4"},grayBox:{background:"#f9fafb"},yellowBox:{background:"#fffbeb"},sectionHeading:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"0.5rem",color:"#1f2937"},sectionHeadingBlue:{color:"#1e40af"},sectionHeadingGreen:{color:"#15803d"},sectionHeadingYellow:{color:"#92400e"},table:{minWidth:"100%",borderCollapse:"separate",borderSpacing:0},th:{padding:"0.5rem 1rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"500",background:"#f9fafb",borderBottom:"1px solid #e5e7eb"},td:{padding:"0.5rem 1rem",borderBottom:"1px solid #e5e7eb",fontSize:"0.875rem"},chartContainer:{height:"16rem"}};return Object(n.useEffect)(()=>{const e=()=>{document.querySelectorAll(".grid-md-2").forEach(e=>{window.innerWidth>=768?e.style.gridTemplateColumns="repeat(2, 1fr)":e.style.gridTemplateColumns="repeat(1, 1fr)"})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),r.a.createElement("div",{style:b.container},r.a.createElement("h1",{style:b.title},"Neural Network Loss Functions Visualization"),r.a.createElement("div",{style:b.tabList},r.a.createElement("button",{style:b.tabButton("plots"===a),onClick:()=>l("plots")},"Loss Function Plots"),r.a.createElement("button",{style:b.tabButton("fundamentals"===a),onClick:()=>l("fundamentals")},"Why Different Loss Functions"),r.a.createElement("button",{style:b.tabButton("details"===a),onClick:()=>l("details")},"Detailed Explanations")),"plots"===a&&r.a.createElement("div",{style:b.grid},r.a.createElement("div",{className:"grid-md-2",style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem"}},r.a.createElement("div",{style:b.card},r.a.createElement("div",{style:b.cardHeader},r.a.createElement("div",{style:b.cardTitle},"Regression Loss Functions"),r.a.createElement("div",{style:b.cardDescription},"MSE, MAE, and Huber Loss")),r.a.createElement("div",{style:b.cardContent},r.a.createElement("div",{style:b.chartContainer},r.a.createElement(o.a,{width:"100%",height:"100%"},r.a.createElement(s.a,{data:h},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"x",label:{value:"Predicted Value",position:"insideBottom",offset:-5},domain:[0,1]}),r.a.createElement(d.a,{label:{value:"Loss",angle:-90,position:"insideLeft"},domain:[0,1.5]}),r.a.createElement(p.a,{formatter:(e,t)=>[e.toFixed(3),"mse"===t?"MSE":"mae"===t?"MAE":"Huber"],labelFormatter:e=>"Prediction: "+parseFloat(e).toFixed(2)}),r.a.createElement(u.a,null),r.a.createElement(g.a,{type:"monotone",dataKey:"mse",stroke:"#8884d8",name:"MSE",dot:!1}),r.a.createElement(g.a,{type:"monotone",dataKey:"mae",stroke:"#82ca9d",name:"MAE",dot:!1}),r.a.createElement(g.a,{type:"monotone",dataKey:"huber",stroke:"#ff7300",name:"Huber",dot:!1})))))),r.a.createElement("div",{style:b.card},r.a.createElement("div",{style:b.cardHeader},r.a.createElement("div",{style:b.cardTitle},"Classification Loss Functions"),r.a.createElement("div",{style:b.cardDescription},"Binary Cross-Entropy and Hinge Loss")),r.a.createElement("div",{style:b.cardContent},r.a.createElement("div",{style:b.chartContainer},r.a.createElement(o.a,{width:"100%",height:"100%"},r.a.createElement(s.a,{data:h},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"x",label:{value:"Predicted Value",position:"insideBottom",offset:-5},domain:[0,1]}),r.a.createElement(d.a,{label:{value:"Loss",angle:-90,position:"insideLeft"},domain:[0,5]}),r.a.createElement(p.a,{formatter:(e,t)=>[e.toFixed(3),"binaryCrossEntropy"===t?"BCE":"Hinge"],labelFormatter:e=>"Prediction: "+parseFloat(e).toFixed(2)}),r.a.createElement(u.a,null),r.a.createElement(g.a,{type:"monotone",dataKey:"binaryCrossEntropy",stroke:"#8884d8",name:"Binary Cross-Entropy",dot:!1}),r.a.createElement(g.a,{type:"monotone",dataKey:"hinge",stroke:"#82ca9d",name:"Hinge Loss",dot:!1})))))))),"fundamentals"===a&&r.a.createElement("div",{style:b.grid},r.a.createElement("div",{style:b.card},r.a.createElement("div",{style:b.cardHeader},r.a.createElement("div",{style:b.cardTitle},"Why Regression and Classification Need Different Loss Functions"),r.a.createElement("div",{style:b.cardDescription},"Understanding the fundamental differences in simple terms")),r.a.createElement("div",{style:b.cardContent},r.a.createElement("div",{className:"grid-md-2",style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem",marginBottom:"1.5rem"}},r.a.createElement("div",{style:{...b.infoBox,...b.blueBox}},r.a.createElement("h3",{style:{...b.sectionHeading,...b.sectionHeadingBlue}},"Regression Tasks"),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},"Imagine you're trying to predict house prices or tomorrow's temperature."),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},r.a.createElement("strong",null,"What's being predicted:")," Continuous numbers (like $350,000 or 72\xb0F)"),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},r.a.createElement("strong",null,"How errors are measured:")," By the distance between prediction and actual value"),r.a.createElement("p",null,r.a.createElement("strong",null,"Real-world analogy:")," Like measuring how far your arrow landed from the bullseye")),r.a.createElement("div",{style:{...b.infoBox,...b.greenBox}},r.a.createElement("h3",{style:{...b.sectionHeading,...b.sectionHeadingGreen}},"Classification Tasks"),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},"Imagine you're trying to identify spam emails or diagnose a disease."),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},r.a.createElement("strong",null,"What's being predicted:"),' Categories or classes (like "spam/not spam" or "cat/dog")'),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},r.a.createElement("strong",null,"How errors are measured:")," By whether the prediction is right or wrong, and how confident you were"),r.a.createElement("p",null,r.a.createElement("strong",null,"Real-world analogy:")," Like betting on a horse race - you either win or lose, and it matters how much you bet"))),r.a.createElement("div",{style:b.spacerY},r.a.createElement("h3",{style:b.sectionHeading},"Why They Need Different Loss Functions"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},r.a.createElement("div",{style:{...b.infoBox,...b.grayBox}},r.a.createElement("h4",{style:{fontWeight:"500",color:"#374151",marginBottom:"0.25rem"}},"Different Types of Errors"),r.a.createElement("p",null,"In regression, being off by 10 or by 100 matters (different magnitudes of error). In classification, you're either right or wrong, but your confidence level matters.")),r.a.createElement("div",{style:{...b.infoBox,...b.grayBox}},r.a.createElement("h4",{style:{fontWeight:"500",color:"#374151",marginBottom:"0.25rem"}},"Different Learning Behaviors"),r.a.createElement("p",null,'Regression loss functions guide the model to find the "shortest path" to the correct value. Classification loss functions push the model to draw clear boundaries between categories.')),r.a.createElement("div",{style:{...b.infoBox,...b.grayBox}},r.a.createElement("h4",{style:{fontWeight:"500",color:"#374151",marginBottom:"0.25rem"}},"Different Output Ranges"),r.a.createElement("p",null,"Regression outputs can be any number (even negative). Classification often outputs probabilities (0-1) or scores, requiring special handling.")),r.a.createElement("div",{style:{...b.infoBox,...b.yellowBox}},r.a.createElement("h4",{style:{...b.sectionHeading,...b.sectionHeadingYellow,marginBottom:"0.25rem"}},"Why Cross-Entropy is Perfect for Classification"),r.a.createElement("p",{style:{marginBottom:"0.5rem"}},"Cross-Entropy Loss has special properties that make it ideal for classification tasks:"),r.a.createElement("ul",{style:{paddingLeft:"1.5rem",marginBottom:"0.5rem"}},r.a.createElement("li",{style:{marginBottom:"0.25rem"}},"It measures the difference between probability distributions (your prediction vs. the truth)"),r.a.createElement("li",{style:{marginBottom:"0.25rem"}},"It severely punishes confident wrong predictions (like being 99% sure an email is not spam when it actually is)"),r.a.createElement("li",{style:{marginBottom:"0.25rem"}},"It works naturally with the probability outputs (0-1) that classification models produce"),r.a.createElement("li",{style:{marginBottom:"0.25rem"}},"It has favorable gradient properties when used with sigmoid/softmax functions")),r.a.createElement("p",{style:{marginTop:"0.5rem"}},r.a.createElement("strong",null,"Real-world analogy:")," It's like a teacher who doesn't mind if you're unsure and get something wrong, but severely penalizes you when you confidently assert an incorrect answer.")),r.a.createElement("div",{style:{...b.infoBox,...b.grayBox}},r.a.createElement("h4",{style:{fontWeight:"500",color:"#374151",marginBottom:"0.25rem"}},"Real-World Example: Weather Prediction"),r.a.createElement("p",null,r.a.createElement("strong",null,"Regression task:")," Predicting tomorrow's temperature (72\xb0F, 73\xb0F, etc.)",r.a.createElement("br",null),r.a.createElement("strong",null,"Classification task:")," Predicting if it will rain (Yes/No)"),r.a.createElement("p",null,'The temperature prediction needs MSE/MAE to measure "how far off" you were.',r.a.createElement("br",null),'The rain prediction needs Cross-Entropy to penalize confident wrong predictions (like confidently saying "no rain" right before a downpour).')))),r.a.createElement("div",{style:b.spacerY},r.a.createElement("h3",{style:b.sectionHeading},"Choosing the Right Loss Function"),r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("table",{style:b.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:b.th},"If your task is..."),r.a.createElement("th",{style:b.th},"And you care about..."),r.a.createElement("th",{style:b.th},"Consider using..."))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:b.td},"Regression"),r.a.createElement("td",{style:b.td},"Penalizing large errors more"),r.a.createElement("td",{style:b.td},"Mean Squared Error (MSE)")),r.a.createElement("tr",{style:{background:"#f9fafb"}},r.a.createElement("td",{style:b.td},"Regression"),r.a.createElement("td",{style:b.td},"Being robust to outliers"),r.a.createElement("td",{style:b.td},"Mean Absolute Error (MAE)")),r.a.createElement("tr",null,r.a.createElement("td",{style:b.td},"Regression"),r.a.createElement("td",{style:b.td},"Balance between MSE and MAE"),r.a.createElement("td",{style:b.td},"Huber Loss")),r.a.createElement("tr",{style:{background:"#f9fafb"}},r.a.createElement("td",{style:b.td},"Binary Classification"),r.a.createElement("td",{style:b.td},"Probability outputs (0-1)"),r.a.createElement("td",{style:b.td},"Binary Cross-Entropy")),r.a.createElement("tr",null,r.a.createElement("td",{style:b.td},"Multi-class Classification"),r.a.createElement("td",{style:b.td},"Probability distribution across classes"),r.a.createElement("td",{style:b.td},"Categorical Cross-Entropy")),r.a.createElement("tr",{style:{background:"#f9fafb"}},r.a.createElement("td",{style:b.td},"Classification"),r.a.createElement("td",{style:b.td},"Clear decision boundaries"),r.a.createElement("td",{style:b.td},"Hinge Loss"))))))))),"details"===a&&r.a.createElement("div",{style:b.grid},Object.entries({mse:{name:"Mean Squared Error (MSE)",formula:"MSE = (y - \u0177)\xb2",description:"Measures the average squared difference between predictions and actual values.",pros:["Differentiable everywhere","Penalizes larger errors more heavily","Mathematically convenient for optimization"],cons:["Very sensitive to outliers","Can lead to slow convergence if features are on different scales","Not ideal for classification tasks"],use:"Regression problems where outliers are rare and error distribution is expected to be Gaussian."},binaryCrossEntropy:{name:"Binary Cross-Entropy Loss",formula:"BCE = -[y\xb7log(\u0177) + (1-y)\xb7log(1-\u0177)]",description:"Measures the performance of a classification model whose output is a probability value between 0 and 1.",pros:["Well-suited for binary classification","Works well with probabilistic outputs","Penalizes confident wrong predictions heavily"],cons:["Not suitable for regression tasks","Can lead to numerical instability with predictions near 0 or 1","More computationally intensive than MSE"],use:"Binary classification problems where output represents probability."},mae:{name:"Mean Absolute Error (MAE)",formula:"MAE = |y - \u0177|",description:"Measures the average absolute difference between predictions and actual values.",pros:["More robust to outliers than MSE","Provides uniform gradient","Easier to interpret than MSE"],cons:["Not differentiable at y = \u0177","Doesn't penalize large errors as heavily as MSE","May converge slower than MSE in some cases"],use:"Regression problems where outliers need to be handled better."},huber:{name:"Huber Loss",formula:"L = 0.5(y-\u0177)\xb2 if |y-\u0177| \u2264 \u03b4, else \u03b4(|y-\u0177| - 0.5\u03b4)",description:"Combines MSE and MAE, behaving like MSE for small errors and MAE for large errors.",pros:["Robust to outliers like MAE","Differentiable everywhere unlike MAE","Adaptable based on the delta parameter"],cons:["Requires tuning of the delta hyperparameter","More complex to implement","Computationally more expensive than simpler losses"],use:"Regression problems where some outliers are expected but differentiability is needed."},hinge:{name:"Hinge Loss",formula:"L = max(0, margin - y\xb7\u0177)",description:"Measures how well a model separates classes with a margin, commonly used in SVMs.",pros:["Encourages maximum-margin classification","Good for binary classification tasks","Can lead to sparse support vectors"],cons:["Not differentiable at the hinge point","Doesn't provide probability outputs","Less commonly used in deep learning"],use:"Margin-based classification problems, especially when using SVMs or when a clear decision boundary is needed."}}).map(e=>{let[t,a]=e;return r.a.createElement("div",{key:t,style:b.card},r.a.createElement("div",{style:b.cardHeader},r.a.createElement("div",{style:b.cardTitle},a.name),r.a.createElement("div",{style:{...b.cardDescription,fontFamily:"monospace"}},a.formula)),r.a.createElement("div",{style:b.cardContent},r.a.createElement("p",{style:{marginBottom:"1rem"}},a.description),r.a.createElement("div",{className:"grid-md-2",style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem"}},r.a.createElement("div",null,r.a.createElement("h3",{style:{fontWeight:"500",marginBottom:"0.5rem"}},"Pros:"),r.a.createElement("ul",{style:{paddingLeft:"1.5rem"}},a.pros.map((e,t)=>r.a.createElement("li",{key:t,style:{marginBottom:"0.25rem"}},e)))),r.a.createElement("div",null,r.a.createElement("h3",{style:{fontWeight:"500",marginBottom:"0.5rem"}},"Cons:"),r.a.createElement("ul",{style:{paddingLeft:"1.5rem"}},a.cons.map((e,t)=>r.a.createElement("li",{key:t,style:{marginBottom:"0.25rem"}},e)))))),r.a.createElement("div",{style:b.cardFooter},r.a.createElement("p",null,r.a.createElement("strong",null,"Best used for:")," ",a.use)))})))};var G=()=>{const e=[[5.2,-4.8,.2,2.3,-.9],[6.1,-5.2,.1,2.1,-1.1],[4.9,-4.5,.3,2.5,-.8],[5.5,-5,.2,2.2,-1],[.8,-.9,.7,.5,-.6],[1,-1,-.5,.2,1.1],[.2,-.7,1.5,.9,-.8],[.9,-.8,.2,.3,-.9],[1.2,-1.1,-.2,.7,-.6],[1.3,-1.2,-.4,.5,-.8],[1,-.9,-.1,.8,-.5],[1.1,-1,-.3,.6,-.7]],t=e=>{const t=Math.max(-2,Math.min(2,e));if(t<0){return`rgb(0,0,${Math.min(255,Math.round(127*Math.abs(t)))+127})`}return`rgb(${Math.min(255,Math.round(127*t))+127},0,0)`},a={container:{padding:"1.5rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",maxWidth:"100%",margin:"0 auto",fontFamily:"system-ui, -apple-system, sans-serif"},heading:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.5rem"},subheading:{fontSize:"1.25rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},infoBox:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#fff9e5",border:"1px solid #ffe58f",borderRadius:"0.25rem"},gridContainer:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1.5rem",marginBottom:"1.5rem","@media (min-width: 1024px)":{gridTemplateColumns:"repeat(2, 1fr)"}},card:{backgroundColor:"white",borderRadius:"0.375rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",overflow:"hidden"},cardHeader:{padding:"1rem",backgroundColor:"white",borderBottom:"1px solid #e5e7eb"},cardContent:{padding:"1rem"},visualizationContainer:{position:"relative",height:"14rem",width:"100%",border:"1px solid #e5e7eb",marginTop:"2rem",marginBottom:"2rem",overflow:"visible"},xAxisLabel:{position:"absolute",bottom:"-30px",width:"100%",textAlign:"center",fontSize:"0.875rem",fontWeight:"bold",color:"#4b5563"},yAxisLabel:{position:"absolute",left:"-25px",top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontSize:"0.875rem",fontWeight:"bold",color:"#4b5563"},yAxisTicks:{position:"absolute",left:"-10px",top:"0",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",fontSize:"0.75rem",color:"#6b7280"},barsContainer:{position:"absolute",inset:"0",display:"flex",alignItems:"center",justifyContent:"space-around"},barGroup:{display:"flex",flexDirection:"column",alignItems:"center",width:"40px"},bar:(e,t,a)=>({width:"16px",height:t+"px",backgroundColor:e,marginBottom:"4px",marginTop:a?"0":"auto",marginBottom:a?"auto":"0"}),barLabel:{marginTop:"8px",fontSize:"0.75rem",fontWeight:"500",textAlign:"center"},legend:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.75rem"},legendItem:{display:"flex",alignItems:"center",marginRight:"1rem"},legendColor:e=>({width:"16px",height:"16px",backgroundColor:e,borderRadius:"9999px",marginRight:"8px"}),legendText:{fontSize:"0.875rem"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginTop:"2rem"},infoCard:e=>({padding:"0.75rem",backgroundColor:e,borderRadius:"0.25rem"}),infoTitle:e=>({fontWeight:"bold",fontSize:"0.875rem",color:e,marginBottom:"0.25rem"}),infoText:{fontSize:"0.875rem",marginBottom:"0.25rem"},infoBold:{fontSize:"0.75rem",fontWeight:"bold",marginTop:"0.25rem"},infoItalic:{fontSize:"0.75rem",fontStyle:"italic",marginTop:"0.25rem"},activationGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",marginBottom:"1.5rem"},activationBox:{textAlign:"center"},activationTitle:{fontSize:"0.875rem",fontWeight:"bold",marginBottom:"0.5rem"},matrixContainer:{display:"flex",marginBottom:"0.5rem",justifyContent:"center",alignItems:"center"},matrixLabel:{transform:"rotate(90deg)",fontSize:"0.75rem",fontWeight:"bold",marginRight:"0.25rem",flexShrink:"0",position:"relative",width:"20px",marginLeft:"-10px"},matrixLabelText:{position:"absolute",transform:"translateX(-50%)",whiteSpace:"nowrap",top:"40px"},matrixContent:{display:"flex",flexDirection:"column",alignItems:"center"},matrixHeader:{fontSize:"0.75rem",fontWeight:"bold",marginBottom:"0.25rem",textAlign:"center"},matrixGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"2px",padding:"0.25rem",backgroundColor:"#f3f4f6",borderRadius:"0.25rem",margin:"0 auto"},matrixCell:(e,t)=>({width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",borderRadius:"0.25rem",backgroundColor:e,color:t}),matrixDesc:{fontSize:"0.75rem",marginTop:"0.25rem"},arrowContainer:{display:"flex",justifyContent:"center",marginTop:"0.25rem"},architectureBox:{position:"relative",padding:"1rem",borderRadius:"0.25rem",marginBottom:"1.5rem"},architectureTitle:{fontWeight:"bold",textAlign:"center",marginBottom:"1.5rem"},architectureDiagram:{position:"relative",margin:"0 auto",width:"95%",height:"180px"},diagramBg:{position:"absolute",inset:"0",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.05)"},layersContainer:{position:"absolute",inset:"0",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"1rem",paddingRight:"1rem"},layer:(e,t)=>({width:"56px",height:t,backgroundColor:e,borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem"}),layerStack:{display:"flex",flexDirection:"column",alignItems:"center"},weightDecayMarker:{position:"absolute",bottom:"-25px",left:"0",right:"0",textAlign:"center"},weightDecayBox:{display:"inline-block",backgroundColor:"#fee2e2",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #fca5a5",fontSize:"0.75rem",fontWeight:"bold"},techSpecs:{marginTop:"2.5rem",fontSize:"0.75rem",padding:"0.5rem",borderRadius:"0.25rem"},pointsContainer:{padding:"1rem",backgroundColor:"#fffbeb",borderRadius:"0.25rem",border:"1px solid #fde68a",marginTop:"1rem"},pointsTitle:{fontWeight:"bold",textAlign:"center",marginBottom:"0.75rem",fontSize:"1rem"},reasonsGrid:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem",marginTop:"0.5rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(2, 1fr)"}},reasonItem:{display:"flex",alignItems:"start"},reasonNumber:{flexShrink:"0",width:"32px",height:"32px",backgroundColor:e=>e,borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"0.5rem",fontWeight:"bold"},reasonText:{fontSize:"0.875rem"},codeContainer:{padding:"1rem",backgroundColor:"#f3f4f6",borderRadius:"0.25rem",border:"1px solid #d1d5db",marginTop:"1rem"},codeTitle:{fontWeight:"bold",textAlign:"center",marginBottom:"0.75rem"},codeGrid:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"1rem",marginTop:"0.5rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(2, 1fr)"}},codeBlock:{backgroundColor:"#111827",borderRadius:"0.25rem",padding:"0.75rem",color:"#34d399",fontFamily:"monospace",fontSize:"0.75rem",overflow:"auto",maxHeight:"200px"},codeAnalysis:{display:"flex",flexDirection:"column",justifyContent:"center"},analysisTitle:{fontWeight:"bold",fontSize:"0.875rem",marginBottom:"0.25rem"},analysisList:{listStyleType:"disc",paddingLeft:"1.25rem",fontSize:"0.875rem"},analysisItem:{marginBottom:"0.25rem"},codeHighlight:e=>({fontFamily:"monospace",backgroundColor:e,padding:"0 0.25rem"}),analysisBox:{padding:"0.5rem",backgroundColor:"white",borderRadius:"0.25rem",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.05)",marginTop:"0.5rem"},analysisText:{fontSize:"0.75rem"}};return r.a.createElement("div",{style:a.container},r.a.createElement("h2",{style:a.heading},"Regularization and Normalization: Core Comparison"),r.a.createElement("div",{style:a.infoBox},r.a.createElement("h3",{style:a.subheading},"Understanding the Visualizations"),r.a.createElement("div",{style:a.gridContainer},r.a.createElement("div",{style:{padding:"0.5rem"}},r.a.createElement("p",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Weight Regularization Chart"),": Each set of bars shows the weight value for a specific feature, demonstrating how different regularization methods affect weight magnitudes.")),r.a.createElement("div",{style:{padding:"0.5rem"}},r.a.createElement("p",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Activation Normalization Chart"),": The three matrices represent different normalization methods, where each row is a sample and each column is a neuron, with colors and values showing activation strength.")))),r.a.createElement("div",{style:a.gridContainer},r.a.createElement("div",{style:a.card},r.a.createElement("div",{style:a.cardHeader},r.a.createElement("h4",{style:a.subheading},"Weight Regularization: L1 vs L2")),r.a.createElement("div",{style:a.cardContent},r.a.createElement("div",{style:a.legend},r.a.createElement("div",{style:a.legendItem},r.a.createElement("div",{style:a.legendColor("#a855f7")}),r.a.createElement("span",{style:a.legendText},"No Regularization")),r.a.createElement("div",{style:a.legendItem},r.a.createElement("div",{style:a.legendColor("#22c55e")}),r.a.createElement("span",{style:a.legendText},"L1 Regularization")),r.a.createElement("div",{style:a.legendItem},r.a.createElement("div",{style:a.legendColor("#3b82f6")}),r.a.createElement("span",{style:a.legendText},"L2 Regularization"))),r.a.createElement("div",{style:a.visualizationContainer},r.a.createElement("div",{style:a.yAxisLabel},"Weight Value"),r.a.createElement("div",{style:a.yAxisTicks},r.a.createElement("span",null,"8"),r.a.createElement("span",null,"4"),r.a.createElement("span",null,"0"),r.a.createElement("span",null,"-4"),r.a.createElement("span",null,"-8")),r.a.createElement("div",{style:a.xAxisLabel},"Model Features/Neural Network Weights"),r.a.createElement("div",{style:a.barsContainer},[{name:"Feature1",noReg:8,l1:0,l2:2},{name:"Feature2",noReg:-6,l1:0,l2:-1.5},{name:"Feature3",noReg:5,l1:2,l2:1.2},{name:"Feature4",noReg:7,l1:3,l2:1.8},{name:"Feature5",noReg:-4,l1:-2,l2:-1},{name:"Feature6",noReg:.5,l1:0,l2:.1}].map((e,t)=>r.a.createElement("div",{key:t,style:a.barGroup},r.a.createElement("div",{style:a.bar("#a855f7",5*Math.abs(e.noReg),e.noReg>=0)}),0!==e.l1&&r.a.createElement("div",{style:a.bar("#22c55e",5*Math.abs(e.l1),e.l1>=0)}),r.a.createElement("div",{style:a.bar("#3b82f6",5*Math.abs(e.l2),e.l2>=0)}),r.a.createElement("span",{style:a.barLabel},e.name))))),r.a.createElement("div",{style:a.infoGrid},r.a.createElement("div",{style:a.infoCard("#f0fdf4")},r.a.createElement("h5",{style:a.infoTitle("#15803d")},"L1 Regularization"),r.a.createElement("p",{style:a.infoText},"Adds |w| to loss function"),r.a.createElement("p",{style:a.infoBold},"Effect: Makes many weights zero"),r.a.createElement("div",{style:a.infoItalic},"Like minimalism, completely removing unimportant items")),r.a.createElement("div",{style:a.infoCard("#eff6ff")},r.a.createElement("h5",{style:a.infoTitle("#1e40af")},"L2 Regularization"),r.a.createElement("p",{style:a.infoText},"Adds w\xb2 to loss function"),r.a.createElement("p",{style:a.infoBold},"Effect: All weights become smaller"),r.a.createElement("div",{style:a.infoItalic},"Like downsizing all furniture while keeping balance"))))),r.a.createElement("div",{style:a.card},r.a.createElement("div",{style:a.cardHeader},r.a.createElement("h4",{style:a.subheading},"Activation Normalization: Batch vs Layer")),r.a.createElement("div",{style:a.cardContent},r.a.createElement("div",{style:a.activationGrid},r.a.createElement("div",{style:a.activationBox},r.a.createElement("h5",{style:a.activationTitle},"Original Activations"),r.a.createElement("div",{style:a.matrixContainer},r.a.createElement("div",{style:a.matrixLabel},r.a.createElement("span",{style:a.matrixLabelText},"Samples")),r.a.createElement("div",{style:a.matrixContent},r.a.createElement("div",{style:a.matrixHeader},"Neurons"),r.a.createElement("div",{style:a.matrixGrid},[0,1,2,3].map(n=>r.a.createElement(r.a.Fragment,{key:"orig-row-"+n},[0,1,2,3,4].map(l=>r.a.createElement("div",{key:`orig-${n}-${l}`,style:a.matrixCell(t(e[n][l]),Math.abs(e[n][l])>1.5?"white":"black")},e[n][l].toFixed(1)))))))),r.a.createElement("div",{style:a.matrixDesc},"Large range differences between neurons")),r.a.createElement("div",{style:a.activationBox},r.a.createElement("h5",{style:a.activationTitle},"Batch Norm"),r.a.createElement("div",{style:a.matrixContainer},r.a.createElement("div",{style:a.matrixContent},r.a.createElement("div",{style:a.matrixHeader},"Neurons"),r.a.createElement("div",{style:a.matrixGrid},[0,1,2,3].map(n=>r.a.createElement(r.a.Fragment,{key:"bn-row-"+n},[0,1,2,3,4].map(l=>r.a.createElement("div",{key:`bn-${n}-${l}`,style:a.matrixCell(t(e[n+4][l]),Math.abs(e[n+4][l])>1.5?"white":"black")},e[n+4][l].toFixed(1)))))))),r.a.createElement("div",{style:a.arrowContainer},r.a.createElement("svg",{width:"120",height:"20"},r.a.createElement("path",{d:"M5,10 L115,10",stroke:"#4C1D95",strokeWidth:"2"}),r.a.createElement("path",{d:"M110,5 L115,10 L110,15",fill:"none",stroke:"#4C1D95",strokeWidth:"2"}))),r.a.createElement("div",{style:{...a.matrixDesc,fontWeight:"bold",color:"#4C1D95"}},"Normalize along columns (each neuron)")),r.a.createElement("div",{style:a.activationBox},r.a.createElement("h5",{style:a.activationTitle},"Layer Norm"),r.a.createElement("div",{style:a.matrixContainer},r.a.createElement("div",{style:a.matrixContent},r.a.createElement("div",{style:a.matrixHeader},"Neurons"),r.a.createElement("div",{style:a.matrixGrid},[0,1,2,3].map(n=>r.a.createElement(r.a.Fragment,{key:"ln-row-"+n},[0,1,2,3,4].map(l=>r.a.createElement("div",{key:`ln-${n}-${l}`,style:a.matrixCell(t(e[n+8][l]),Math.abs(e[n+8][l])>1.5?"white":"black")},e[n+8][l].toFixed(1)))))))),r.a.createElement("div",{style:a.arrowContainer},r.a.createElement("svg",{width:"120",height:"20"},r.a.createElement("path",{d:"M5,10 L115,10",stroke:"#9D174D",strokeWidth:"2"}),r.a.createElement("path",{d:"M110,5 L115,10 L110,15",fill:"none",stroke:"#9D174D",strokeWidth:"2"}))),r.a.createElement("div",{style:{...a.matrixDesc,fontWeight:"bold",color:"#9D174D"}},"Normalize along rows (each sample)"))),r.a.createElement("div",{style:a.infoGrid},r.a.createElement("div",{style:a.infoCard("#f5f3ff")},r.a.createElement("h5",{style:a.infoTitle("#4C1D95")},"Batch Normalization"),r.a.createElement("p",{style:a.infoBold},"Formula: (x-\u03bc_batch)/\u03c3_batch"),r.a.createElement("div",{style:a.infoText},r.a.createElement("span",{style:{fontWeight:"bold"}},"Direction:")," Normalize each feature across samples"),r.a.createElement("div",{style:a.infoItalic},"Like ensuring each exam question has similar average scores")),r.a.createElement("div",{style:a.infoCard("#fdf2f8")},r.a.createElement("h5",{style:a.infoTitle("#9D174D")},"Layer Normalization"),r.a.createElement("p",{style:a.infoBold},"Formula: (x-\u03bc_layer)/\u03c3_layer"),r.a.createElement("div",{style:a.infoText},r.a.createElement("span",{style:{fontWeight:"bold"}},"Direction:")," Normalize each sample across features"),r.a.createElement("div",{style:a.infoItalic},"Like ensuring each student has balanced scores")))))),r.a.createElement("div",{style:{...a.card,marginTop:"1.5rem"}},r.a.createElement("div",{style:a.cardHeader},r.a.createElement("h3",{style:a.subheading},"Combined Application in Deep Learning Practice")),r.a.createElement("div",{style:a.cardContent},r.a.createElement("div",{style:a.gridContainer},r.a.createElement("div",{style:{...a.architectureBox,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe"}},r.a.createElement("h4",{style:a.architectureTitle},"CNN Architecture (e.g., ResNet)"),r.a.createElement("div",{style:a.architectureDiagram},r.a.createElement("div",{style:a.diagramBg}),r.a.createElement("div",{style:a.layersContainer},r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#e5e7eb","80px")},r.a.createElement("span",null,"Input"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#fef9c3","64px")},r.a.createElement("span",null,"Conv Layer")),r.a.createElement("div",{style:a.layer("#86efac","20px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"BatchNorm")),r.a.createElement("div",{style:a.layer("#e9d5ff","20px")},r.a.createElement("span",null,"ReLU"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#fef9c3","64px")},r.a.createElement("span",null,"Conv Layer")),r.a.createElement("div",{style:a.layer("#86efac","20px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"BatchNorm")),r.a.createElement("div",{style:a.layer("#e9d5ff","20px")},r.a.createElement("span",null,"ReLU"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#dbeafe","80px")},r.a.createElement("span",null,"FC Layer")))),r.a.createElement("div",{style:a.weightDecayMarker},r.a.createElement("div",{style:a.weightDecayBox},r.a.createElement("span",null,"L2 Weight Decay applied to all weights")))),r.a.createElement("div",{style:{...a.techSpecs,backgroundColor:"#dbeafe"}},r.a.createElement("strong",null,"Typical Applications:")," ResNet, VGG, MobileNet",r.a.createElement("br",null),r.a.createElement("strong",null,"Normalization Choice:")," Primarily Batch Normalization",r.a.createElement("br",null),r.a.createElement("strong",null,"Regularization Choice:")," Almost always L2 weight decay")),r.a.createElement("div",{style:{...a.architectureBox,backgroundColor:"#f5f3ff",border:"1px solid #e9d5ff"}},r.a.createElement("h4",{style:a.architectureTitle},"Transformer Architecture (e.g., BERT, GPT)"),r.a.createElement("div",{style:a.architectureDiagram},r.a.createElement("div",{style:a.diagramBg}),r.a.createElement("div",{style:a.layersContainer},r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#e5e7eb","80px")},r.a.createElement("span",null,"Embeddings"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#e9d5ff","32px")},r.a.createElement("span",null,"Multi-Head Attn")),r.a.createElement("div",{style:a.layer("#fbcfe8","16px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"LayerNorm")),r.a.createElement("div",{style:a.layer("#e0e7ff","24px")},r.a.createElement("span",null,"Feed Forward")),r.a.createElement("div",{style:a.layer("#fbcfe8","16px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"LayerNorm"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#e9d5ff","32px")},r.a.createElement("span",null,"Multi-Head Attn")),r.a.createElement("div",{style:a.layer("#fbcfe8","16px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"LayerNorm")),r.a.createElement("div",{style:a.layer("#e0e7ff","24px")},r.a.createElement("span",null,"Feed Forward")),r.a.createElement("div",{style:a.layer("#fbcfe8","16px")},r.a.createElement("span",{style:{fontWeight:"bold"}},"LayerNorm"))),r.a.createElement("div",{style:a.layerStack},r.a.createElement("div",{style:a.layer("#dbeafe","80px")},r.a.createElement("span",null,"Output Layer")))),r.a.createElement("div",{style:a.weightDecayMarker},r.a.createElement("div",{style:a.weightDecayBox},r.a.createElement("span",null,"L2 Weight Decay + Dropout")))),r.a.createElement("div",{style:{...a.techSpecs,backgroundColor:"#f5f3ff"}},r.a.createElement("strong",null,"Typical Applications:")," BERT, GPT, T5, ViT",r.a.createElement("br",null),r.a.createElement("strong",null,"Normalization Choice:")," Primarily Layer Normalization",r.a.createElement("br",null),r.a.createElement("strong",null,"Regularization Choice:")," L2 Weight Decay + Dropout"))),r.a.createElement("div",{style:a.pointsContainer},r.a.createElement("h4",{style:a.pointsTitle},"Reasons for Combined Usage in Deep Learning"),r.a.createElement("div",{style:a.reasonsGrid},r.a.createElement("div",{style:a.reasonItem},r.a.createElement("div",{style:{...a.reasonNumber,backgroundColor:"#dbeafe"}},r.a.createElement("span",null,"1")),r.a.createElement("div",null,r.a.createElement("p",{style:a.reasonText},r.a.createElement("strong",null,"Complementary Effects:")," Weight regularization controls model complexity, activation normalization improves training stability"))),r.a.createElement("div",{style:a.reasonItem},r.a.createElement("div",{style:{...a.reasonNumber,backgroundColor:"#dcfce7"}},r.a.createElement("span",null,"2")),r.a.createElement("div",null,r.a.createElement("p",{style:a.reasonText},r.a.createElement("strong",null,"Synergistic Action:")," Normalization allows higher learning rates, regularization prevents overfitting at those higher rates"))),r.a.createElement("div",{style:a.reasonItem},r.a.createElement("div",{style:{...a.reasonNumber,backgroundColor:"#f3e8ff"}},r.a.createElement("span",null,"3")),r.a.createElement("div",null,r.a.createElement("p",{style:a.reasonText},r.a.createElement("strong",null,"Engineering Practice:")," Normalization typically integrated as part of network architecture, weight regularization applied through optimizer"))),r.a.createElement("div",{style:a.reasonItem},r.a.createElement("div",{style:{...a.reasonNumber,backgroundColor:"#fee2e2"}},r.a.createElement("span",null,"4")),r.a.createElement("div",null,r.a.createElement("p",{style:a.reasonText},r.a.createElement("strong",null,"Flexible Combination:")," Different architectures and tasks need different normalization and regularization combinations"))))),r.a.createElement("div",{style:a.codeContainer},r.a.createElement("h4",{style:a.codeTitle},"PyTorch Code Example: Activation Normalization + Weight Regularization"),r.a.createElement("div",{style:a.codeGrid},r.a.createElement("div",{style:a.codeBlock},r.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"# CNN model example using both techniques\nmodel = nn.Sequential(\n    nn.Conv2d(3, 16, 3, padding=1),\n    nn.BatchNorm2d(16),  # Activation normalization\n    nn.ReLU(),\n    nn.Conv2d(16, 32, 3, padding=1),\n    nn.BatchNorm2d(32),  # Activation normalization\n    nn.ReLU(),\n    nn.Flatten(),\n    nn.Linear(32*32*32, 10)\n)\n\n# Adding L2 weight regularization\noptimizer = torch.optim.Adam(\n    model.parameters(), \n    lr=0.001, \n    weight_decay=1e-4  # L2 regularization\n)")),r.a.createElement("div",{style:a.codeAnalysis},r.a.createElement("div",null,r.a.createElement("h5",{style:a.analysisTitle},"Code Analysis"),r.a.createElement("ul",{style:a.analysisList},r.a.createElement("li",{style:a.analysisItem},r.a.createElement("span",{style:a.codeHighlight("#dbeafe")},"nn.BatchNorm2d")," - Activation normalization added after each convolutional layer"),r.a.createElement("li",{style:a.analysisItem},r.a.createElement("span",{style:a.codeHighlight("#fee2e2")},"weight_decay=1e-4")," - L2 weight regularization applied via optimizer parameter"))),r.a.createElement("div",{style:a.analysisBox},r.a.createElement("p",{style:a.analysisText},r.a.createElement("strong",null,"Key Implementation Pattern:")," BatchNorm is added as part of the model architecture, while L2 regularization is configured as an optimizer parameter, highlighting their different implementation approaches."))))))))};var q=()=>{const[e,t]=Object(n.useState)({a:1.5,b:.5,c:.5,d:1}),[a,l]=Object(n.useState)(1),[i,o]=Object(n.useState)([]),s=function(t,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t,l=a;for(let i=0;i<n;i++){const t=e.a*r+e.b*l,a=e.c*r+e.d*l;r=t,l=a}return[r,l]};Object(n.useEffect)(()=>{const e=[];for(let t=0;t<8;t++){const t=2*Math.random()*Math.PI,a=.2+.3*Math.random();e.push([Math.cos(t)*a,Math.sin(t)*a])}o(e)},[]);const m=i.map(e=>({original:e,transformed:s(e[0],e[1],a)})),{eigenvalues:c,eigenvectors:d}=(()=>{const{a:t,b:a,c:n,d:r}=e,l=t+r,i=l*l-4*(t*r-a*n);let o,s,m=!1;if(i>=0){const e=Math.sqrt(i);o=(l+e)/2,s=(l-e)/2}else{m=!0;const e=l/2,t=Math.sqrt(-i)/2,a=Math.sqrt(e*e+t*t);o=a,s=a}let c=[1,0],d=[0,1];0!==a?(c=[1,(o-t)/a],d=[1,(s-t)/a]):0!==n&&(c=[(o-r)/n,1],d=[(s-r)/n,1]);const p=e=>{const t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};return{eigenvalues:[o,s],eigenvectors:[p(c),p(d)]}})(),p=d.map((e,t)=>{const n=Math.pow(c[t],a);return[e[0]*n,e[1]*n]}),u=e=>100*e+300,g=e=>200-100*e;return r.a.createElement("div",{className:"flex flex-col items-center w-full p-4"},r.a.createElement("h1",{className:"text-xl font-bold mb-2"},"Eigenvalues and Repeated Linear Transformations"),r.a.createElement("div",{className:"flex flex-col md:flex-row gap-4 w-full"},r.a.createElement("div",{className:"flex flex-col bg-gray-100 p-4 rounded-lg"},r.a.createElement("h2",{className:"text-lg font-medium mb-2"},"Transformation Settings"),r.a.createElement("div",{className:"bg-blue-50 p-2 rounded mb-3 text-xs"},r.a.createElement("p",{className:"font-semibold mb-1"},"Matrix [a b; c d] parameters:"),r.a.createElement("p",null,r.a.createElement("strong",null,"a"),": x-axis scaling factor"),r.a.createElement("p",null,r.a.createElement("strong",null,"b"),": y's influence on x (horizontal shear)"),r.a.createElement("p",null,r.a.createElement("strong",null,"c"),": x's influence on y (vertical shear)"),r.a.createElement("p",null,r.a.createElement("strong",null,"d"),": y-axis scaling factor")),r.a.createElement("div",{className:"grid grid-cols-2 gap-2 mb-4"},["a","b","c","d"].map(a=>r.a.createElement("div",{key:a},r.a.createElement("label",{className:"block text-sm"},a,":"),r.a.createElement("input",{type:"number",step:"0.1",value:e[a],onChange:n=>t({...e,[a]:parseFloat(n.target.value)}),className:"w-full p-1 border rounded"})))),r.a.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},[{name:"Scaling",matrix:{a:2,b:0,c:0,d:.5}},{name:"Rotation",matrix:{a:.7,b:-.7,c:.7,d:.7}},{name:"Shear",matrix:{a:1,b:.5,c:0,d:1}}].map((e,a)=>r.a.createElement("button",{key:a,onClick:()=>t(e.matrix),className:"px-2 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600"},e.name))),r.a.createElement("div",{className:"flex items-center gap-2 mb-4"},r.a.createElement("label",{className:"text-sm"},"Iterations:"),r.a.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",value:a,onChange:e=>l(parseFloat(e.target.value)),className:"w-full"}),r.a.createElement("span",{className:"text-sm"},a.toFixed(1))),r.a.createElement("div",{className:"mt-2 bg-white p-3 rounded border text-sm"},r.a.createElement("p",{className:"mb-1"},r.a.createElement("strong",null,"Eigenvalue \u03bb\u2081:")," ",c[0].toFixed(2)),r.a.createElement("p",{className:"mb-1"},r.a.createElement("strong",null,"Eigenvalue \u03bb\u2082:")," ",c[1].toFixed(2)),r.a.createElement("p",{className:"mb-1"},r.a.createElement("strong",null,"\u03bb\u2081^",a.toFixed(1),":")," ",Math.pow(c[0],a).toFixed(2)),r.a.createElement("p",{className:"mb-1"},r.a.createElement("strong",null,"\u03bb\u2082^",a.toFixed(1),":")," ",Math.pow(c[1],a).toFixed(2)),e.a.toFixed(1)===e.d.toFixed(1)&&e.b.toFixed(1)===(-e.c).toFixed(1)&&0!==e.b&&r.a.createElement("p",{className:"text-xs mt-1"},"Rotation matrices have complex eigenvalues; showing magnitude"))),r.a.createElement("div",{className:"flex-grow bg-white border rounded-lg overflow-hidden"},r.a.createElement("svg",{width:600,height:400},r.a.createElement("line",{x1:0,y1:200,x2:600,y2:200,stroke:"#ccc",strokeWidth:"1"}),r.a.createElement("line",{x1:300,y1:0,x2:300,y2:400,stroke:"#ccc",strokeWidth:"1"}),[-2,-1,1,2].map(e=>r.a.createElement(r.a.Fragment,{key:e},r.a.createElement("line",{x1:u(e),y1:0,x2:u(e),y2:400,stroke:"#eee",strokeWidth:"1"}),r.a.createElement("line",{x1:0,y1:g(e),x2:600,y2:g(e),stroke:"#eee",strokeWidth:"1"}))),m.map((e,t)=>r.a.createElement("g",{key:t},r.a.createElement("line",{x1:u(0),y1:g(0),x2:u(e.original[0]),y2:g(e.original[1]),stroke:"#ddd",strokeWidth:"1"}),r.a.createElement("circle",{cx:u(e.original[0]),cy:g(e.original[1]),r:"3",fill:"#aaa"}),r.a.createElement("line",{x1:u(0),y1:g(0),x2:u(e.transformed[0]),y2:g(e.transformed[1]),stroke:"#2980b9",strokeWidth:"1.5"}),r.a.createElement("circle",{cx:u(e.transformed[0]),cy:g(e.transformed[1]),r:"4",fill:"#2980b9"}))),d.map((e,t)=>{const a=0===t?"#e74c3c":"#2ecc71";return r.a.createElement("g",{key:"eigen-"+t},r.a.createElement("line",{x1:u(0),y1:g(0),x2:u(e[0]),y2:g(e[1]),stroke:a,strokeWidth:"2",strokeDasharray:"5,5"}),r.a.createElement("line",{x1:u(0),y1:g(0),x2:u(p[t][0]),y2:g(p[t][1]),stroke:a,strokeWidth:"2"}),r.a.createElement("circle",{cx:u(p[t][0]),cy:g(p[t][1]),r:"5",fill:a}),r.a.createElement("text",{x:u(1.1*e[0]),y:g(1.1*e[1]),fill:a,fontSize:"12"},"\u03bb",t+1,"=",c[t].toFixed(2)))})))),r.a.createElement("div",{className:"bg-gray-100 p-3 rounded-lg w-full mt-4 text-sm"},r.a.createElement("p",null,"This visualization demonstrates the role of eigenvalues in repeated transformations:"),r.a.createElement("ul",{className:"list-disc pl-6 mt-1"},r.a.createElement("li",null,"Eigenvectors (colored lines) maintain their direction during transformation"),r.a.createElement("li",null,"Eigenvector length changes by eigenvalue raised to power n (\u03bb\u207f)"),r.a.createElement("li",null,"Gray dots are original vectors, blue dots are transformed vectors"),r.a.createElement("li",null,"Try different matrices and iteration counts to observe changes"))))},$=a(4);var V=()=>{const[e,t]=Object(n.useState)([[3,1],[2,2]]),[a,l]=Object(n.useState)(null),[i,o]=Object(n.useState)(null),[s,m]=Object(n.useState)(null),[c,d]=Object(n.useState)([2,1]),[p,u]=Object(n.useState)(null),[g,h]=Object(n.useState)(null),[f,x]=Object(n.useState)("");Object(n.useEffect)(()=>{try{const t=$.Jb(e);if(o(t),Math.abs(t)<1e-10)return x("Matrix is not invertible (determinant is zero)"),l(null),m(null),u($.Hd(e,c)),void h(null);x("");const a=$.Lc(e);l(a);const n=$.Hd(e,a);m(n);const r=$.Hd(e,c);u(r);const i=$.Hd(a,r);h(i)}catch(t){x("Error in calculation: "+t.message)}},[e,c]);const E=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const l=150+25*e,i=150-25*t;return r.a.createElement("circle",{key:`point-${e}-${t}`,cx:l,cy:i,r:n,fill:a})},b=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const l=150,i=150,o=150+25*e,s=150-25*t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:l,y1:i,x2:o,y2:s,stroke:a,strokeWidth:n}),r.a.createElement("polygon",{points:y(l,i,o,s,10),fill:a}))},y=(e,t,a,n,r)=>{const l=Math.atan2(n-t,a-e);return`${a},${n} ${a-r*Math.cos(l-Math.PI/6)},${n-r*Math.sin(l-Math.PI/6)} ${a-r*Math.cos(l+Math.PI/6)},${n-r*Math.sin(l+Math.PI/6)}`},v=e=>null===e||void 0===e?"":Math.abs(e)<1e-10?"0":e.toFixed(2);return r.a.createElement("div",{className:"p-4 max-w-4xl mx-auto"},r.a.createElement("h1",{className:"text-2xl font-bold mb-4"},"Invertible Matrices Visualization"),r.a.createElement("div",{className:"flex flex-col md:flex-row gap-6"},r.a.createElement("div",{className:"space-y-4 md:w-1/3"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold"},"Input Matrix A"),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"mr-2 font-bold"},"A ="),r.a.createElement("div",{className:"border border-gray-300 p-2 rounded"},e.map((a,n)=>r.a.createElement("div",{key:"row-"+n,className:"flex"},a.map((a,l)=>r.a.createElement("input",{key:`cell-${n}-${l}`,type:"number",value:a,onChange:a=>((a,n,r)=>{const l=[...e];l[a][n]=parseFloat(r)||0,t(l)})(n,l,a.target.value),className:"w-16 m-1 p-1 border border-gray-300 rounded text-center"})))))),r.a.createElement("div",{className:"text-sm text-gray-600 mt-1"},"(Matrix columns represent basis vectors v\u2081 and v\u2082)")),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold"},"Input Vector x"),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"mr-2"},"x ="),r.a.createElement("div",{className:"border border-gray-300 p-2 rounded"},c.map((e,t)=>r.a.createElement("input",{key:"vec-"+t,type:"number",value:e,onChange:e=>((e,t)=>{const a=[...c];a[e]=parseFloat(t)||0,d(a)})(t,e.target.value),className:"w-16 m-1 p-1 border border-gray-300 rounded text-center"}))))),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold"},"Determinant & Invertibility"),r.a.createElement("div",{className:"p-2 border border-gray-300 rounded bg-gray-50"},r.a.createElement("div",{className:"text-base mb-2"},"det(A) = ",r.a.createElement("span",{className:0===i?"text-red-600 font-bold":i<0?"text-orange-600 font-bold":"text-green-600 font-bold"},null!==i?v(i):"N/A")),r.a.createElement("div",{className:"text-sm"},0===i?r.a.createElement("span",{className:"text-red-600"},"Matrix is not invertible! The transformation collapses space (loses dimension)."):i<0?r.a.createElement("span",{className:"text-orange-600"},"Matrix is invertible. Negative determinant means orientation is flipped."):r.a.createElement("span",{className:"text-green-600"},"Matrix is invertible. Positive determinant preserves orientation.")),r.a.createElement("div",{className:"text-sm mt-1"},0!==i&&`1/det(A) = ${v(1/i)} (scaling factor for inverse matrix)`))),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold mt-3"},"Preset Examples"),r.a.createElement("div",{className:"grid grid-cols-2 gap-1 mt-1"},[{name:"Identity",matrix:[[1,0],[0,1]],desc:"No change to area (det=1)"},{name:"Scaling",matrix:[[2,0],[0,2]],desc:"Area scaled by 4 (det=4)"},{name:"Shear",matrix:[[1,1],[0,1]],desc:"Area preserved (det=1)"},{name:"Rotation",matrix:[[0,-1],[1,0]],desc:"Area preserved (det=1)"},{name:"Reflection",matrix:[[-1,0],[0,1]],desc:"Area preserved, orientation flipped (det=-1)"},{name:"Non-invertible",matrix:[[1,1],[1,1]],desc:"Zero area, not invertible (det=0)"}].map((e,a)=>r.a.createElement("button",{key:a,onClick:()=>(e=>{t(e.matrix)})(e),className:"p-1 text-sm border border-gray-300 rounded hover:bg-blue-100 transition-colors"},e.name))),r.a.createElement("div",{className:"text-xs mt-1 text-gray-600"},"Click a preset to see how different transformations affect determinant and invertibility")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold"},"Inverse Matrix A",r.a.createElement("sup",null,"-1")),r.a.createElement("div",{className:"p-2 border border-gray-300 rounded"},r.a.createElement("div",{className:"grid grid-cols-2 gap-2"},a.map((e,t)=>r.a.createElement("div",{key:"inv-row-"+t,className:"flex justify-around"},e.map((e,a)=>r.a.createElement("div",{key:`inv-${t}-${a}`,className:"w-16 text-center"},v(e)))))))),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg font-semibold"},"A \xd7 A",r.a.createElement("sup",null,"-1")," = I (Identity)"),r.a.createElement("div",{className:"p-2 border border-gray-300 rounded"},r.a.createElement("div",{className:"grid grid-cols-2 gap-2"},s.map((e,t)=>r.a.createElement("div",{key:"prod-row-"+t,className:"flex justify-around"},e.map((e,a)=>r.a.createElement("div",{key:`prod-${t}-${a}`,className:"w-16 text-center"},v(e)))))))))),r.a.createElement("div",{className:"md:w-2/3"},r.a.createElement("h2",{className:"text-xl font-semibold mb-3"},"Determinant as Area & Transformation"),r.a.createElement("div",{className:"border border-gray-300 rounded p-2 bg-gray-50"},r.a.createElement("svg",{width:300,height:300,className:"mx-auto"},(()=>{const e=[];e.push(r.a.createElement("line",{key:"x-axis",x1:"0",y1:150,x2:300,y2:150,stroke:"#000",strokeWidth:"1.5"})),e.push(r.a.createElement("line",{key:"y-axis",x1:150,y1:"0",x2:150,y2:300,stroke:"#000",strokeWidth:"1.5"}));for(let t=-6;t<=6;t++){if(0===t)continue;const a=150+25*t;a>=0&&a<=300&&e.push(r.a.createElement("line",{key:"h-"+t,x1:"0",y1:a,x2:300,y2:a,stroke:"#ccc",strokeWidth:"0.5"})),a>=0&&a<=300&&e.push(r.a.createElement("line",{key:"v-"+t,x1:a,y1:"0",x2:a,y2:300,stroke:"#ccc",strokeWidth:"0.5"})),t%2===0&&0!==t&&a>=0&&a<=300&&(e.push(r.a.createElement("text",{key:"xlabel-"+t,x:a,y:165,textAnchor:"middle",fontSize:"10"},t)),e.push(r.a.createElement("text",{key:"ylabel-"+t,x:135,y:a+4,textAnchor:"middle",fontSize:"10"},-t)))}return e})(),r.a.createElement("g",null,r.a.createElement("path",{d:"M150,150 L175,150 L175,125 L150,125 Z",fill:"#cccccc",fillOpacity:"0.2",stroke:"#999999",strokeWidth:"1",strokeDasharray:"5,5"}),r.a.createElement("text",{x:162.5,y:137.5,fill:"#999999",fontSize:"12"},"Unit Square")),function(t,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4;const l=[e[0][0],e[1][0]],i=[e[0][1],e[1][1]],o=[150,150],s=[150+25*l[0],150-25*l[1]],m=[150+25*i[0],150-25*i[1]],c=[s[0]+25*i[0],s[1]-25*i[1]],d=`M${o[0]},${o[1]} L${s[0]},${s[1]} L${c[0]},${c[1]} L${m[0]},${m[1]} Z`;return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:d,fill:a,fillOpacity:n,stroke:a,strokeWidth:"2"}),r.a.createElement("line",{x1:o[0],y1:o[1],x2:s[0],y2:s[1],stroke:a,strokeWidth:"3"}),r.a.createElement("line",{x1:o[0],y1:o[1],x2:m[0],y2:m[1],stroke:a,strokeWidth:"3"}),r.a.createElement("line",{x1:s[0],y1:s[1],x2:c[0],y2:c[1],stroke:a,strokeWidth:"2",strokeDasharray:"4 2"}),r.a.createElement("line",{x1:m[0],y1:m[1],x2:c[0],y2:c[1],stroke:a,strokeWidth:"2",strokeDasharray:"4 2"}),r.a.createElement("text",{x:s[0]+5,y:s[1],fill:a,fontWeight:"bold"},"v\u2081"),r.a.createElement("text",{x:m[0]+5,y:m[1],fill:a,fontWeight:"bold"},"v\u2082"))}(e,"#9370DB"),r.a.createElement("text",{x:150,y:110,fill:"#663399",fontWeight:"bold",fontSize:"14",textAnchor:"middle"},"Area = |det(A)| ="),b(c[0],c[1],"#0066cc",2),E(c[0],c[1],"#0066cc",4),p&&r.a.createElement(r.a.Fragment,null,b(p[0],p[1],"#cc3300",2),E(p[0],p[1],"#cc3300",4)),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:150+25*p[0],y1:150-25*p[1],x2:150+25*g[0],y2:150-25*g[1],stroke:"#009900",strokeWidth:1,strokeDasharray:"4 2"}),E(g[0],g[1],"#009900",4))),r.a.createElement("div",{className:"mt-3 text-sm space-y-2"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-4 h-4 bg-purple-600 rounded-full mr-2"}),r.a.createElement("span",null,r.a.createElement("strong",null,"Parallelogram"),": Area = |det(A)| = ",Math.abs(i).toFixed(2))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-4 h-4 bg-blue-600 rounded-full mr-2"}),r.a.createElement("span",null,r.a.createElement("strong",null,"Original vector")," x = [",c.join(", "),"]")),p&&r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-4 h-4 bg-red-600 rounded-full mr-2"}),r.a.createElement("span",null,r.a.createElement("strong",null,"Transformed vector")," Ax = [",p.map(e=>v(e)).join(", "),"]")),g&&r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-4 h-4 bg-green-600 rounded-full mr-2"}),r.a.createElement("span",null,r.a.createElement("strong",null,"Inverse mapped")," A",r.a.createElement("sup",null,"-1"),"(Ax) = [",g.map(e=>v(e)).join(", "),"]")))),r.a.createElement("div",{className:"mt-4 p-4 bg-gray-100 rounded"},r.a.createElement("h3",{className:"font-semibold text-blue-800"},"Understanding Determinants & Invertibility"),r.a.createElement("div",{className:"mt-2 space-y-3"},r.a.createElement("div",null,r.a.createElement("h4",{className:"font-medium"},"Why is the determinant so important?"),r.a.createElement("p",{className:"text-sm mt-1"},'The determinant tells us whether a matrix transformation can be "undone." If |det(A)| = 0, the transformation compresses space into fewer dimensions, making it impossible to recover the original input.')),r.a.createElement("div",null,r.a.createElement("h4",{className:"font-medium"},"Determinant, Area, and the Inverse:"),r.a.createElement("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1"},r.a.createElement("li",null,r.a.createElement("strong",null,"When det(A) \u2260 0:")," The transformation preserves dimensionality, making an inverse possible"),r.a.createElement("li",null,r.a.createElement("strong",null,"When det(A) = 0:")," The transformation collapses space (e.g., squashes a square into a line), making inversion impossible"),r.a.createElement("li",null,r.a.createElement("strong",null,"For the inverse:")," Each element in A",r.a.createElement("sup",null,"-1")," is scaled by 1/det(A), so smaller determinants create larger inverses"))),r.a.createElement("div",null,r.a.createElement("h4",{className:"font-medium"},"Visual Interpretation:"),r.a.createElement("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1"},r.a.createElement("li",null,"The ",r.a.createElement("span",{className:"text-purple-600 font-bold"},"purple parallelogram")," shows how the unit square is transformed by matrix A"),r.a.createElement("li",null,"If this parallelogram has zero area (det=0), the matrix isn't invertible"),r.a.createElement("li",null,"The sign of det(A) tells us if orientation is preserved (positive) or flipped (negative)"),r.a.createElement("li",null,"Larger |det(A)| means the transformation expands area; smaller |det(A)| means it contracts area")))),r.a.createElement("h3",{className:"font-semibold mt-4 text-blue-800"},"Key Formulas"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"},r.a.createElement("div",{className:"border border-gray-300 rounded p-2 bg-white"},r.a.createElement("h4",{className:"font-medium"},"2\xd72 Matrix Determinant:"),r.a.createElement("div",{className:"mt-1 text-center"},"det([a b; c d]) = ad - bc")),r.a.createElement("div",{className:"border border-gray-300 rounded p-2 bg-white"},r.a.createElement("h4",{className:"font-medium"},"2\xd72 Matrix Inverse:"),r.a.createElement("div",{className:"mt-1 text-center"},"[a b; c d]",r.a.createElement("sup",null,"-1")," = (1/det) \xd7 [d -b; -c a]")))))))};var K=()=>{const[e,t]=Object(n.useState)(5),[a,l]=Object(n.useState)("normal"),[i,h]=Object(n.useState)([]),[f,x]=Object(n.useState)([]),[E,b]=Object(n.useState)(null);Object(n.useEffect)(()=>{w()},[e,a]);const y=()=>{let e=Math.random(),t=Math.random();return e=Math.max(e,1e-4),t=Math.max(t,1e-4),Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)},v=(e,t,n)=>{const r=(.01*t+.005*n)*(Math.random()>.5?1:-1);switch(a){case"normal":return y()+r;case"xavier":return(y()+r)*Math.sqrt(2/(2*e));case"he":return(y()+r)*Math.sqrt(2/e);default:return y()+r}},w=()=>{const t=[],a={combined:[{layer:0,norm:1}],byEigenvalue:{1:[{layer:0,norm:1}],2:[{layer:0,norm:1}],3:[{layer:0,norm:1}]}};for(let r=0;r<e;r++){const e=[];for(let t=0;t<3;t++){const a=[];for(let e=0;e<3;e++)a.push(v(3,t,e));e.push(a)}try{let n=$.Wb($.sd(e)).values.toArray().map(e=>"object"===typeof e&&void 0!==e.re?Math.sqrt(e.re*e.re+e.im*e.im):Math.abs(e));if(n.sort((e,t)=>t-e),0===r?(Math.abs(n[0]-n[1])<.1&&(n[0]=1.2*n[0]),Math.abs(n[1]-n[2])<.1&&(n[2]=.8*n[2])):(Math.abs(n[0]-n[1])<.05&&(n[0]=1.1*n[0]),Math.abs(n[1]-n[2])<.05&&(n[2]=.9*n[2])),n.forEach((e,n)=>{if(t.push({layer:r+1,eigenvalue:e,position:n+1}),r>0){const t=a.byEigenvalue[n+1][a.byEigenvalue[n+1].length-1].norm*e;a.byEigenvalue[n+1].push({layer:r,norm:Math.min(t,100)})}}),r>0){const e=(a.byEigenvalue[1][r].norm+a.byEigenvalue[2][r].norm+a.byEigenvalue[3][r].norm)/3;a.combined.push({layer:r,norm:Math.min(e,100)})}}catch(n){if([1.5,1,.5].forEach((e,n)=>{if(t.push({layer:r+1,eigenvalue:e+.1*Math.random(),position:n+1}),r>0){const t=a.byEigenvalue[n+1][a.byEigenvalue[n+1].length-1].norm;a.byEigenvalue[n+1].push({layer:r,norm:t*e})}}),r>0){const e=a.combined[r-1].norm;a.combined.push({layer:r,norm:1*e})}}}h(t),x(a)},N=e=>{switch(e){case 1:return"#f44336";case 2:return"#2196f3";case 3:return"#4caf50";default:return"#9c27b0"}},k=(()=>{const t={};return[1,2,3].forEach(a=>{t[a]=[];for(let n=1;n<=e;n++){const e=i.filter(e=>e.position===a&&e.layer===n);e.length>0?t[a].push(e[0]):t[a].push({layer:n,position:a,eigenvalue:null})}}),t})();return r.a.createElement("div",{className:"p-4 max-w-5xl mx-auto"},r.a.createElement("h1",{className:"text-2xl font-bold mb-4"},"Neural Network Eigenvalues and Gradient Flow"),r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow mb-6"},r.a.createElement("h2",{className:"text-lg font-semibold mb-3"},"Why We Have 3 Eigenvalues"),r.a.createElement("p",null,"In our visualization, each layer has 3 neurons, forming a 3\xd73 weight matrix. This matrix has 3 eigenvalues that determine how gradients flow during training.")),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Network Depth"),r.a.createElement("input",{type:"range",min:"2",max:"10",value:e,onChange:e=>t(parseInt(e.target.value)),className:"w-full"}),r.a.createElement("div",{className:"flex justify-between text-xs"},r.a.createElement("span",null,"2"),r.a.createElement("span",null,e),r.a.createElement("span",null,"10"))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Initialization Method"),r.a.createElement("select",{value:a,onChange:e=>l(e.target.value),className:"w-full p-2 border rounded"},r.a.createElement("option",{value:"normal"},"Standard Normal"),r.a.createElement("option",{value:"xavier"},"Xavier/Glorot"),r.a.createElement("option",{value:"he"},"He")))),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"Eigenvalue Distribution"),r.a.createElement("p",{className:"text-sm mb-3"},"Click on an eigenvalue line to see its effect on gradient flow \u2192"),r.a.createElement("div",{className:"h-64"},r.a.createElement(o.a,{width:"100%",height:"100%"},r.a.createElement(s.a,{margin:{top:5,right:30,left:20,bottom:5},onClick:e=>{e&&e.activePayload&&e.activePayload.length>0&&b(E===e.activePayload[0].payload.position?null:e.activePayload[0].payload.position)}},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"layer",type:"number",domain:[1,e],allowDecimals:!1,label:{value:"Layer",position:"insideBottomRight",offset:-5}}),r.a.createElement(d.a,{label:{value:"Eigenvalue",angle:-90,position:"insideLeft"},domain:[0,"auto"]}),r.a.createElement(p.a,null),r.a.createElement(u.a,null),r.a.createElement(g.a,{data:Array.from({length:e},(e,t)=>({layer:t+1,value:1})),type:"monotone",dataKey:"value",stroke:"#757575",strokeDasharray:"5 5",name:"Ideal Value (1.0)",dot:!1}),Object.entries(k).map(e=>{let[t,a]=e;return r.a.createElement(g.a,{key:t,data:a,type:"monotone",dataKey:"eigenvalue",name:"Eigenvalue "+t,stroke:N(parseInt(t)),strokeWidth:E===parseInt(t)?4:2,dot:!0,activeDot:{r:8},connectNulls:!0})}))))),r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow"},r.a.createElement("h2",{className:"text-lg font-semibold mb-2"},"Gradient Flow"),r.a.createElement("p",{className:"text-sm mb-3"},E?`Showing effect of Eigenvalue ${E} on gradient`:"Combined effect of all eigenvalues"),r.a.createElement("div",{className:"h-64"},r.a.createElement(o.a,{width:"100%",height:"100%"},r.a.createElement(s.a,{margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(m.a,{strokeDasharray:"3 3"}),r.a.createElement(c.a,{dataKey:"layer",type:"number",domain:[0,e-1],allowDecimals:!1,label:{value:"Layer (Backpropagation)",position:"insideBottomRight",offset:-5}}),r.a.createElement(d.a,{label:{value:"Gradient Norm",angle:-90,position:"insideLeft"},domain:[0,"auto"]}),r.a.createElement(p.a,null),r.a.createElement(u.a,null),E?r.a.createElement(g.a,{data:f.byEigenvalue[E],type:"monotone",dataKey:"norm",name:"Effect of Eigenvalue "+E,stroke:N(E),strokeWidth:3,dot:!0}):r.a.createElement(g.a,{data:f.combined,type:"monotone",dataKey:"norm",name:"Combined Gradient Flow",stroke:"#8884d8",strokeWidth:2,dot:!0}),r.a.createElement(g.a,{data:Array.from({length:e},(e,t)=>({layer:t,value:5})),type:"monotone",dataKey:"value",stroke:"#ff0000",strokeDasharray:"5 5",name:"Explosion Threshold",dot:!1}),r.a.createElement(g.a,{data:Array.from({length:e},(e,t)=>({layer:t,value:.2})),type:"monotone",dataKey:"value",stroke:"#2979ff",strokeDasharray:"5 5",name:"Vanishing Threshold",dot:!1})))))),r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow"},r.a.createElement("h2",{className:"text-lg font-semibold mb-3"},"How Eigenvalues Impact Gradient Flow"),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},r.a.createElement("div",{className:"p-3 rounded border "+(1===E?"ring-2 ring-offset-2":""),style:{borderColor:N(1),backgroundColor:"#fff5f5"},onClick:()=>b(1===E?null:1)},r.a.createElement("h3",{className:"font-bold mb-1",style:{color:N(1)}},"Eigenvalue 1 (Red)"),r.a.createElement("p",{className:"text-sm"},"Typically the largest eigenvalue. If >1, can cause exploding gradients. Controls the dominant direction of gradient flow.")),r.a.createElement("div",{className:"p-3 rounded border "+(2===E?"ring-2 ring-offset-2":""),style:{borderColor:N(2),backgroundColor:"#f0f8ff"},onClick:()=>b(2===E?null:2)},r.a.createElement("h3",{className:"font-bold mb-1",style:{color:N(2)}},"Eigenvalue 2 (Blue)"),r.a.createElement("p",{className:"text-sm"},"The middle eigenvalue. Affects gradient components in its corresponding direction. Balanced values help networks learn all features equally.")),r.a.createElement("div",{className:"p-3 rounded border "+(3===E?"ring-2 ring-offset-2":""),style:{borderColor:N(3),backgroundColor:"#f0fff4"},onClick:()=>b(3===E?null:3)},r.a.createElement("h3",{className:"font-bold mb-1",style:{color:N(3)}},"Eigenvalue 3 (Green)"),r.a.createElement("p",{className:"text-sm"},"Often the smallest eigenvalue. If too small (<<1), leads to vanishing gradients. Some features may never be learned if this value is too close to zero."))),r.a.createElement("div",{className:"p-3 bg-gray-50 rounded border text-sm"},r.a.createElement("h3",{className:"font-bold mb-2"},"In Simple Terms"),r.a.createElement("p",null,"During backpropagation, gradients flow backward through the network by multiplying with matrices. Eigenvalues determine how gradients change in magnitude:"),r.a.createElement("ul",{className:"list-disc ml-5 mt-2"},r.a.createElement("li",null,r.a.createElement("strong",null,"Eigenvalue = 1:")," Perfect gradient flow"),r.a.createElement("li",null,r.a.createElement("strong",null,"Eigenvalue > 1:")," Gradient explodes (grows exponentially)"),r.a.createElement("li",null,r.a.createElement("strong",null,"Eigenvalue < 1:")," Gradient vanishes (shrinks exponentially)")),r.a.createElement("p",{className:"mt-2"},"This is why different initialization methods (Xavier/He) scale weights to keep eigenvalues close to 1, especially for deeper networks."))))};var _=function(){const[e,t]=Object(n.useState)("neural"),a={neural:r.a.createElement(h,null),vae:r.a.createElement(f,null),gd:r.a.createElement(E,null),eb:r.a.createElement(b,null),ed:r.a.createElement(y,null),hessian:r.a.createElement(k,null),learningrate:r.a.createElement(A,null),normalization:r.a.createElement(T,null),adaptive:r.a.createElement(F,null),position:r.a.createElement(O,null),betavae:r.a.createElement(I,null),activation:r.a.createElement(H,null),loss:r.a.createElement(U,null),rn:r.a.createElement(G,null),eigenvalue:r.a.createElement(q,null),invertible:r.a.createElement(V,null),eigenvaluegradient:r.a.createElement(K,null)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{style:{padding:"12px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #e0e0e0"}},r.a.createElement("div",{style:{fontSize:"16px",fontWeight:"bold"}},"Machine Learning Algorithm Visualizer"),r.a.createElement("div",{className:"tabs",style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"flex-start"}},[{id:"neural",label:"Function Approximation"},{id:"vae",label:"Variational Autoencoder"},{id:"gd",label:"Saddle Points"},{id:"eb",label:"Epochs & Batches"},{id:"ed",label:"Encoder-Decoder Models"},{id:"hessian",label:"Hessian & Eigenvalues"},{id:"learningrate",label:"Learning Rates"},{id:"normalization",label:"Normalization Techniques"},{id:"adaptive",label:"Adaptive Learning Rate Comparison"},{id:"position",label:"Position Embedding"},{id:"betavae",label:"Beta VAE"},{id:"activation",label:"Activation functions"},{id:"loss",label:"Loss functions"},{id:"rn",label:"Regularization & Normalization"},{id:"eigenvalue",label:"Eigenvalue & Transform"},{id:"invertible",label:"Invertible Matrix"},{id:"eigenvaluegradient",label:"NN Eigenvalues and Gradient Flow"}].map(a=>{return r.a.createElement("button",{key:a.id,onClick:()=>t(a.id),style:(n=a.id,{padding:"8px 16px",border:"none",borderRadius:"4px",backgroundColor:e===n?"#007bff":"#f0f0f0",color:e===n?"white":"black",cursor:"pointer",fontWeight:e===n?"bold":"normal",transition:"background-color 0.2s"})},a.label);var n}))),r.a.createElement("div",{style:{padding:"20px"}},a[e]))};var Q=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,651)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:l,getTTFB:i}=t;a(e),n(e),r(e),l(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null))),Q()}},[[411,1,2]]]);
//# sourceMappingURL=main.a6d1b438.chunk.js.map